(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{1001:function(t,a,e){"use strict";e.r(a);var s=e(11),n=Object(s.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"核心概念"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#核心概念"}},[t._v("#")]),t._v(" 核心概念")]),t._v(" "),a("h2",{attrs:{id:"helloworld"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#helloworld"}},[t._v("#")]),t._v(" HelloWorld")]),t._v(" "),a("p",[t._v("首先是创建项目，创建一个名字为"),a("code",[t._v("webpack-learn")]),t._v("的文件夹（这里千万别创建成"),a("code",[t._v("webpack")]),t._v("），并且进入文件夹使用"),a("code",[t._v("npm init")]),t._v("进行初始化：")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 创建目录并且进入")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# webpack-learn")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 初始化")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" init "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-y")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 安装 webpack 和 webpack-cli到开发依赖")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" i webpack@5 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-D")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" i webpack-cli@4 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-D")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 注意这里安装的是webpack 5与webpack-cli 4的版本")]),t._v("\n")])])]),a("p",[t._v("创建目录src，其结构如下：")]),t._v(" "),a("p",[a("img",{attrs:{src:e(592),alt:"image-20210729211229579"}})]),t._v(" "),a("p",[t._v("创建"),a("code",[t._v("hello-world.js")]),t._v("文件：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("module.exports = 'hello world';\n")])])]),a("p",[t._v("创建 "),a("code",[t._v("index.js")]),t._v("文件：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("const sayHello = require('./hello-world')\n\nconsole.log(sayHello)\n")])])]),a("p",[t._v("下面尝试一下webpack打包：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('// 方法一\nnpx webpack\n\n// 方法二 scripts中添加 "start": "webpack"\nnpm run start\n')])])]),a("p",[t._v("说明：")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("module.exports")]),t._v("与"),a("code",[t._v("require")]),t._v("是node.js所遵循的"),a("code",[t._v("Commonjs")]),t._v("规范；")]),t._v(" "),a("li",[a("code",[t._v("module.exports")]),t._v("导出了一个字符串；")]),t._v(" "),a("li",[a("code",[t._v("require")]),t._v("引用的如果是js文件，则可以省略；")])]),t._v(" "),a("p",[t._v("打包结果：")]),t._v(" "),a("p",[a("img",{attrs:{src:e(593),alt:"image-20210729211452723"}})]),t._v(" "),a("p",[t._v("执行成功，index.js 文件被打包到了"),a("code",[t._v("dist")]),t._v("文件夹下了，同时提示我们默认使用了"),a("code",[t._v("production")]),t._v(" mode，即生产环境，打开"),a("code",[t._v("dist/main.js")]),t._v("，里面的代码的确是被压缩的，说明是生产环境打包；")]),t._v(" "),a("p",[t._v("下面继续修改"),a("code",[t._v("package.json")]),t._v("添加"),a("code",[t._v("scripts")]),t._v("：")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"scripts"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"dev"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"webpack --mode development"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"build"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"webpack --mode production"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[a("img",{attrs:{src:e(594),alt:"image-20210729212308012"}})]),t._v(" "),a("p",[t._v("同样可以尝试"),a("code",[t._v("build")]),t._v("脚本，这里来说明一下这两个模式的内容，"),a("strong",[t._v("模式其实就是webpack内置了一些打包的参数。")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("选项")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("development")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("会将 "),a("code",[t._v("DefinePlugin")]),t._v(" 中 "),a("code",[t._v("process.env.NODE_ENV")]),t._v(" 的值设置为 "),a("code",[t._v("development")]),t._v(". 为模块和 chunk 启用有效的名。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("production")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("会将 "),a("code",[t._v("DefinePlugin")]),t._v(" 中 "),a("code",[t._v("process.env.NODE_ENV")]),t._v(" 的值设置为 "),a("code",[t._v("production")]),t._v("。为模块和 chunk 启用确定性的混淆名称，"),a("code",[t._v("FlagDependencyUsagePlugin")]),t._v("，"),a("code",[t._v("FlagIncludedChunksPlugin")]),t._v("，"),a("code",[t._v("ModuleConcatenationPlugin")]),t._v("，"),a("code",[t._v("NoEmitOnErrorsPlugin")]),t._v(" 和 "),a("code",[t._v("TerserPlugin")]),t._v(" 。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("none")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("不使用任何默认优化选项")])])])]),t._v(" "),a("p",[t._v("如果没有设置，webpack 会给 "),a("code",[t._v("mode")]),t._v(" 的默认值设置为 "),a("code",[t._v("production")]),t._v("。上面的内容，我们后续会介绍到！")]),t._v(" "),a("h2",{attrs:{id:"cli进阶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cli进阶"}},[t._v("#")]),t._v(" CLI进阶")]),t._v(" "),a("p",[t._v("一般的CLI的命令都会有一个"),a("code",[t._v("help")]),t._v("命令：")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("➜ npx webpack "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("help")]),t._v("\n\nUsage: webpack "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("entries"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("options"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\nAlternative usage to run commands: webpack "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("command"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("options"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\nThe build tool "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" modern web applications.\n\nOptions:\n  -c, "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--config")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("."),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("                Provide path to a webpack configuration "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v(" e.g. ./webpack.config.js.\n  --config-name "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("."),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("               Name of the configuration to use.\n  -m, "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--merge")]),t._v("                            Merge two or "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("more")]),t._v(" configurations using "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'webpack-merge'")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(".")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--env")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("."),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("                       Environment passed to the configuration when it is a function.\n  --node-env "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("                     Sets process.env.NODE_ENV to the specified value.\n  "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--progress")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("                     Print compilation progress during build.\n  -j, "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--json")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("                     Prints result as JSON or store it "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" a file.\n  -d, "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--devtool")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("                  Determine "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("source")]),t._v(" maps to use.\n  --no-devtool                           Do not generate "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("source")]),t._v(" maps.\n  "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--entry")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("."),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("                     The entry point"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" of your application e.g. ./src/main.js.\n  "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--mode")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("                         Defines the mode to pass to webpack.\n  "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--name")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("                         Name of the configuration. Used when loading multiple configurations.\n  -o, --output-path "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("              Output location of the "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v(" generated by webpack e.g. ./dist/.\n  "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--stats")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("                        It instructs webpack on how to treat the stats e.g. verbose.\n  --no-stats                             Disable stats output.\n  -t, "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--target")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("."),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("                Sets the build target e.g. node.\n  --no-target                            Negative "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'target'")]),t._v(" option.\n  -w, "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--watch")]),t._v("                            Watch "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" files changes.\n  --no-watch                             Do not "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("watch")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v(" changes.\n  --watch-options-stdin                  Stop watching when stdin stream has ended.\n  --no-watch-options-stdin               Do not stop watching when stdin stream has ended.\n\nGlobal options:\n  "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--color")]),t._v("                                Enable colors on console.\n  --no-color                             Disable colors on console.\n  -v, "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--version")]),t._v("                          Output the version number of "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'webpack'")]),t._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'webpack-cli'")]),t._v(" and "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'webpack-dev-server'")]),t._v(" and commands.\n  -h, "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--help")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("verbose"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("                   Display "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("help")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" commands and options.\n\nCommands:\n  build"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("bundle"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("b "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("entries"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("options"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("  Run webpack "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("default command, can be omitted"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".\n  configtest"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("t "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("config-path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("             Validate a webpack configuration.\n  "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("help")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("h "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("command"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("option"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("              Display "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("help")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" commands and options.\n  info"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("i "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("options"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("                       Outputs information about your system.\n  serve"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("server"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("s "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("entries"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("            Run the webpack dev server. To see all available options you need to "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'webpack-dev-server'")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(".")]),t._v("\n  version"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("v")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("commands"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("                Output the version number of "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'webpack'")]),t._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'webpack-cli'")]),t._v(" and "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'webpack-dev-server'")]),t._v(" and commands.\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("watch")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("w "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("entries"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("options"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("         Run webpack and "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("watch")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" files changes.\n\nTo see list of all supported commands and options run "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'webpack --help=verbose'")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(".")]),t._v("\n\nWebpack documentation: https://webpack.js.org/.\nCLI documentation: https://webpack.js.org/api/cli/.\nMade with ♥ by the webpack team.\n")])])]),a("p",[t._v("说明：")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("--config")]),t._v("，"),a("code",[t._v("-c")]),t._v("：指定一个 Webpack 配置文件的路径；")]),t._v(" "),a("li",[a("code",[t._v("--mode")]),t._v("：指定打包环境的 mode，取值为"),a("code",[t._v("development")]),t._v("和"),a("code",[t._v("production")]),t._v("，分别对应着开发环境和生产环境；")]),t._v(" "),a("li",[a("code",[t._v("--json")]),t._v("：输mode出 Webpack 打包的结果，可以使用"),a("code",[t._v("webpack --json > stats.json")]),t._v("方式将打包结果输出到指定的文件；")]),t._v(" "),a("li",[a("code",[t._v("--progress")]),t._v("：显示 Webpack 打包进度；")]),t._v(" "),a("li",[a("code",[t._v("--watch")]),t._v(", "),a("code",[t._v("-w")]),t._v("：watch 模式打包，监控文件变化之后重新开始打包；")])]),t._v(" "),a("h2",{attrs:{id:"配置文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置文件"}},[t._v("#")]),t._v(" 配置文件")]),t._v(" "),a("p",[t._v("Webpack 是可配置的模块打包工具，我们可以通过修改 Webpack 的配置文件（"),a("code",[t._v("webpack.config.js")]),t._v("）来对 Webpack 进行配置，Webpack 的配置文件是遵循 Node.js 的 CommonJS 模块规范的，即：")]),t._v(" "),a("ul",[a("li",[t._v("通过"),a("code",[t._v("require()")]),t._v("语法导入其他文件或者使用 Node.js 内置的模块")]),t._v(" "),a("li",[t._v("普通的 JavaScript 编写语法，包括变量、函数、表达式等")])]),t._v(" "),a("p",[t._v("说白了，"),a("code",[t._v("webpack.config.js")]),t._v("是一个 Node.js 的模块，简单的 webpack.config.js 示例")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" path "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'path'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("mode")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'development'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("entry")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./src/index.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("output")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("path")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("__dirname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'dist'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("filename")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'server.bundle.js'")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("上面示例中，使用 CommonJS 的"),a("code",[t._v("require")]),t._v("引入 Node.js 内置的"),a("code",[t._v("path")]),t._v("模块，然后通过"),a("code",[t._v("module.exports")]),t._v("将 Webpack 的配置导出。")]),t._v(" "),a("blockquote",[a("p",[t._v("Tips：Webpack 的配置是一个 Node.js 模块，所以并不只是 JSON 对象。")])]),t._v(" "),a("p",[t._v("默认情况下，Webpack 会查找执行目录下面的"),a("code",[t._v("webpack.config.js")]),t._v("作为配置，如果需要指定某个配置文件，可以使用下面的命令：")]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("webpack "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-c")]),t._v(" webpack.config.js\n\n// 或者 默认读取根目录中的 webpack.config.js文件\nwebpack\n")])])]),a("p",[t._v("如果 Webpack 不是全局安装，则可以在项目目录下实行：")]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("node")]),t._v(" ./node_modules/webpack/bin/webpack "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--config")]),t._v(" webpack.config.js\n")])])]),a("p",[t._v("或者使用"),a("code",[t._v("npx")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("npx webpack "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--config")]),t._v(" webpack.config.js\n")])])]),a("p",[t._v("打包结果展示：")]),t._v(" "),a("p",[a("img",{attrs:{src:e(595),alt:"image-20210729224040426"}})]),t._v(" "),a("p",[t._v("说明：为什么main.js还在dist，别急，后面会进行打包之后删除；")]),t._v(" "),a("p",[t._v("除了配置文件的语法多样之外，对于配置的类型也是多样的，最常见的是直接作为一个对象来使用，除了使用对象，Webpack 还支持函数、Promise 和多配置数组。")]),t._v(" "),a("h2",{attrs:{id:"核心概念-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#核心概念-2"}},[t._v("#")]),t._v(" 核心概念")]),t._v(" "),a("p",[t._v("讲完 Webpack 配置文件，下面讲下配置文件中的配置项：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("参数")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("entry")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("入口起点(entry point) 指示 webpack 应该使用哪个模块，来作为构建其内部 "),a("a",{attrs:{href:"https://webpack.docschina.org/concepts/dependency-graph/",target:"_blank",rel:"noopener noreferrer"}},[t._v("依赖图(dependency graph)"),a("OutboundLink")],1),t._v(" 的开始。进入入口起点后，webpack 会找出有哪些模块和库是入口起点（直接和间接）依赖的。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("output")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("默认值是 "),a("code",[t._v("./src/index.js")]),t._v("output 属性告诉 webpack 在哪里输出它所创建的 "),a("em",[t._v("bundle")]),t._v("，以及如何命名这些文件。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("mode")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("通过选择 "),a("code",[t._v("development")]),t._v(", "),a("code",[t._v("production")]),t._v(" 或 "),a("code",[t._v("none")]),t._v(" 之中的一个，来设置 "),a("code",[t._v("mode")]),t._v(" 参数，可以启用 webpack 内置在相应环境下的优化。其默认值为 "),a("code",[t._v("production")]),t._v("。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("loader")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("模块转化器，模块的处理器，对模块进行转换处理；webpack 只能理解 JavaScript 和 JSON 文件，这是 webpack 开箱可用的自带能力。"),a("strong",[t._v("loader")]),t._v(" 让 webpack 能够去处理其他类型的文件，并将它们转换为有效 "),a("a",{attrs:{href:"https://webpack.docschina.org/concepts/modules",target:"_blank",rel:"noopener noreferrer"}},[t._v("模块"),a("OutboundLink")],1),t._v("，以供应用程序使用，以及被添加到依赖图中。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("plugin")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("插件则可以用于执行范围更广的任务。包括：打包优化，资源管理，注入环境变量。")])])])]),t._v(" "),a("p",[t._v("还有一些其他的概念：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("参数")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("module")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("开发中每一个文件都可以看做 module，模块不局限于 js，也包含 css、图片等")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("chunk")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("代码块，一个 chunk 可以由多个模块组成")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("bundle")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("最终打包完成的文件，一般就是和 chunk 一一对应的关系，bundle 就是对 chunk 进行便意压缩打包等处理后的产出")])])])]),t._v(" "),a("blockquote",[a("p",[t._v("Webpack 不仅仅支持 js 配置，还支持 ts（TypeScript）、CoffeeScript 甚至 "),a("a",{attrs:{href:"https://reactjs.org/docs/introducing-jsx.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("JSX"),a("OutboundLink")],1),t._v(" 语法的配置，不同语言其实核心配置项都不变，只不过语法不同而已 ——原因：是由于有很多不同的loaders！")])])])}),[],!1,null,null,null);a.default=n.exports},592:function(t,a,e){t.exports=e.p+"assets/img/image-20210729211229579.8c255546.png"},593:function(t,a,e){t.exports=e.p+"assets/img/image-20210729211452723.49a96282.png"},594:function(t,a,e){t.exports=e.p+"assets/img/image-20210729212308012.fd63a670.png"},595:function(t,a,e){t.exports=e.p+"assets/img/image-20210729224040426.aa7846c2.png"}}]);