(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{743:function(t,s,a){t.exports=a.p+"assets/img/request-subscribe-message.3851318e.3851318e.jpg"},744:function(t,s,a){t.exports=a.p+"assets/img/image-20210812102933432.90192975.png"},745:function(t,s,a){t.exports=a.p+"assets/img/0.a36c9ed1.png"},746:function(t,s,a){t.exports=a.p+"assets/img/image-20210812111502555.6ac23418.png"},956:function(t,s,a){"use strict";a.r(s);var n=a(34),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"è®¢é˜…æ¶ˆæ¯"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#è®¢é˜…æ¶ˆæ¯"}},[t._v("#")]),t._v(" è®¢é˜…æ¶ˆæ¯")]),t._v(" "),n("h2",{attrs:{id:"ä»‹ç»"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ä»‹ç»"}},[t._v("#")]),t._v(" ä»‹ç»")]),t._v(" "),n("p",[t._v("æ¶ˆæ¯èƒ½åŠ›æ˜¯å°ç¨‹åºèƒ½åŠ›ä¸­çš„é‡è¦ç»„æˆï¼Œæˆ‘ä»¬ä¸ºå¼€å‘è€…æä¾›äº†è®¢é˜…æ¶ˆæ¯èƒ½åŠ›ï¼Œä»¥ä¾¿å®žçŽ°æœåŠ¡çš„é—­çŽ¯å’Œæ›´ä¼˜çš„ä½“éªŒã€‚")]),t._v(" "),n("ul",[n("li",[t._v("è®¢é˜…æ¶ˆæ¯æŽ¨é€ä½ç½®ï¼šæœåŠ¡é€šçŸ¥")]),t._v(" "),n("li",[t._v("è®¢é˜…æ¶ˆæ¯ä¸‹å‘æ¡ä»¶ï¼šç”¨æˆ·è‡ªä¸»è®¢é˜…")]),t._v(" "),n("li",[t._v("è®¢é˜…æ¶ˆæ¯å¡ç‰‡è·³è½¬èƒ½åŠ›ï¼šç‚¹å‡»æŸ¥çœ‹è¯¦æƒ…å¯è·³è½¬è‡³è¯¥å°ç¨‹åºçš„é¡µé¢")])]),t._v(" "),n("p",[n("img",{attrs:{src:a(743),alt:"intro"}})]),t._v(" "),n("h3",{attrs:{id:"æ¶ˆæ¯ç±»åž‹"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æ¶ˆæ¯ç±»åž‹"}},[t._v("#")]),t._v(" æ¶ˆæ¯ç±»åž‹")]),t._v(" "),n("p",[n("strong",[t._v("1. ä¸€æ¬¡æ€§è®¢é˜…æ¶ˆæ¯")])]),t._v(" "),n("p",[t._v("ä¸€æ¬¡æ€§è®¢é˜…æ¶ˆæ¯ç”¨äºŽè§£å†³ç”¨æˆ·ä½¿ç”¨å°ç¨‹åºåŽï¼ŒåŽç»­æœåŠ¡çŽ¯èŠ‚çš„é€šçŸ¥é—®é¢˜ã€‚ç”¨æˆ·è‡ªä¸»è®¢é˜…åŽï¼Œå¼€å‘è€…å¯"),n("strong",[t._v("ä¸é™æ—¶é—´")]),t._v("åœ°ä¸‹å‘"),n("strong",[t._v("ä¸€æ¡å¯¹åº”çš„æœåŠ¡æ¶ˆæ¯")]),t._v("ï¼›æ¯æ¡æ¶ˆæ¯å¯å•ç‹¬è®¢é˜…æˆ–é€€è®¢ã€‚")]),t._v(" "),n("p",[n("strong",[t._v("2. é•¿æœŸè®¢é˜…æ¶ˆæ¯")])]),t._v(" "),n("p",[t._v("ä¸€æ¬¡æ€§è®¢é˜…æ¶ˆæ¯å¯æ»¡è¶³å°ç¨‹åºçš„å¤§éƒ¨åˆ†æœåŠ¡åœºæ™¯éœ€æ±‚ï¼Œä½†çº¿ä¸‹å…¬å…±æœåŠ¡é¢†åŸŸå­˜åœ¨ä¸€æ¬¡æ€§è®¢é˜…æ— æ³•æ»¡è¶³çš„åœºæ™¯ï¼Œå¦‚èˆªç­å»¶è¯¯ï¼Œéœ€æ ¹æ®èˆªç­å®žæ—¶åŠ¨æ€æ¥å¤šæ¬¡å‘é€æ¶ˆæ¯æé†’ã€‚ä¸ºä¾¿äºŽæœåŠ¡ï¼Œæˆ‘ä»¬æä¾›äº†é•¿æœŸæ€§è®¢é˜…æ¶ˆæ¯ï¼Œç”¨æˆ·è®¢é˜…ä¸€æ¬¡åŽï¼Œå¼€å‘è€…å¯é•¿æœŸä¸‹å‘å¤šæ¡æ¶ˆæ¯ã€‚")]),t._v(" "),n("p",[t._v("ç›®å‰é•¿æœŸæ€§è®¢é˜…æ¶ˆæ¯ä»…å‘æ”¿åŠ¡æ°‘ç”Ÿã€åŒ»ç–—ã€äº¤é€šã€é‡‘èžã€æ•™è‚²ç­‰çº¿ä¸‹å…¬å…±æœåŠ¡å¼€æ”¾ï¼ŒåŽæœŸå°†é€æ­¥æ”¯æŒåˆ°å…¶ä»–çº¿ä¸‹å…¬å…±æœåŠ¡ä¸šåŠ¡ã€‚")]),t._v(" "),n("h3",{attrs:{id:"ä½¿ç”¨æ­¥éª¤"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ä½¿ç”¨æ­¥éª¤"}},[t._v("#")]),t._v(" ä½¿ç”¨æ­¥éª¤")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("æ­¥éª¤ä¸€ï¼šèŽ·å–æ¨¡æ¿ ID")]),t._v(" "),n("p",[t._v("åœ¨å¾®ä¿¡å…¬ä¼—å¹³å°æ‰‹åŠ¨é…ç½®èŽ·å–æ¨¡æ¿ IDï¼š\nç™»å½• "),n("a",{attrs:{href:"https://mp.weixin.qq.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://mp.weixin.qq.com"),n("OutboundLink")],1),t._v(" èŽ·å–æ¨¡æ¿ï¼Œå¦‚æžœæ²¡æœ‰åˆé€‚çš„æ¨¡æ¿ï¼Œå¯ä»¥ç”³è¯·æ·»åŠ æ–°æ¨¡æ¿ï¼Œå®¡æ ¸é€šè¿‡åŽå¯ä½¿ç”¨ã€‚")]),t._v(" "),n("p",[n("img",{attrs:{src:"https://res.wx.qq.com/wxdoc/dist/assets/img/subscribe-message.b562750a.jpg",alt:"intro"}})])]),t._v(" "),n("li",[n("p",[t._v("æ­¥éª¤äºŒï¼šèŽ·å–ä¸‹å‘æƒé™")]),t._v(" "),n("p",[t._v("è¯¦è§å°ç¨‹åºç«¯æ¶ˆæ¯è®¢é˜…æŽ¥å£ "),n("a",{attrs:{href:"https://developers.weixin.qq.com/miniprogram/dev/api/open-api/subscribe-message/wx.requestSubscribeMessage.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("wx.requestSubscribeMessage"),n("OutboundLink")],1)])]),t._v(" "),n("li",[n("p",[t._v("æ­¥éª¤ä¸‰ï¼šè°ƒç”¨æŽ¥å£ä¸‹å‘è®¢é˜…æ¶ˆæ¯")]),t._v(" "),n("p",[t._v("è¯¦è§æœåŠ¡ç«¯æ¶ˆæ¯å‘é€æŽ¥å£ "),n("a",{attrs:{href:"https://developers.weixin.qq.com/miniprogram/dev/api-backend/open-api/subscribe-message/subscribeMessage.send.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("subscribeMessage.send"),n("OutboundLink")],1)]),t._v(" "),n("blockquote",[n("p",[t._v("æ³¨æ„äº‹é¡¹ï¼šç”¨æˆ·å‹¾é€‰ â€œæ€»æ˜¯ä¿æŒä»¥ä¸Šé€‰æ‹©ï¼Œä¸å†è¯¢é—®â€ ä¹‹åŽï¼Œä¸‹æ¬¡è®¢é˜…è°ƒç”¨ wx.requestSubscribeMessage ä¸ä¼šå¼¹çª—ï¼Œä¿æŒä¹‹å‰çš„é€‰æ‹©ï¼Œä¿®æ”¹é€‰æ‹©éœ€è¦æ‰“å¼€å°ç¨‹åºè®¾ç½®è¿›è¡Œä¿®æ”¹ã€‚")])])])]),t._v(" "),n("h2",{attrs:{id:"å°è£…è®¢é˜…æ¶ˆæ¯å·¥å…·js"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å°è£…è®¢é˜…æ¶ˆæ¯å·¥å…·js"}},[t._v("#")]),t._v(" å°è£…è®¢é˜…æ¶ˆæ¯å·¥å…·js")]),t._v(" "),n("p",[t._v("ä½œç”¨ï¼š")]),t._v(" "),n("ul",[n("li",[t._v("å‘èµ·è®¢é˜…è¯·æ±‚ï¼›")]),t._v(" "),n("li",[t._v("åˆ¤æ–­ç”¨æˆ·æ˜¯å¦å¼€å¯äº†é€šçŸ¥ï¼›")]),t._v(" "),n("li",[t._v("æç¤ºæœªå¼€å¯é€šçŸ¥çš„ç”¨æˆ·ï¼Œå¹¶è·³è½¬è®¾ç½®é¡µé¢ï¼›")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("arr"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" cb"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" mute "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  uni"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("requestSubscribeMessage")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    tmplIds"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" arr"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" arr"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("splice")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" arr"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åœ¨è°ƒè¯•å·¥å…·ä¸­ï¼Œæ— è®ºè®¢é˜…æˆåŠŸè¿˜æ˜¯å–æ¶ˆï¼Œéƒ½å¯ä»¥åœ¨completeå–åˆ°çŠ¶æ€")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è°ƒè¯•å·¥å…·ä¸­ï¼Œæ— æ³•ç›´æŽ¥æµ‹è¯•å…³é—­è®¢é˜…çš„çŠ¶æ€")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åœ¨çœŸæœºä¸Šï¼Œå¯ä»¥èŽ·å–ç”¨æˆ·æ‹’ç»è®¢é˜…çš„çŠ¶æ€")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è€Œä¸”åœ¨completeéƒ¨åˆ†å¯ä»¥èŽ·å–åˆ°success/failçš„å›žè°ƒå†…å®¹")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("complete")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("res")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 2.1 å¦‚æžœç”¨æˆ·æœªè®¢é˜…ï¼Œå¹¶æœªæ‹’ç»ï¼Œæ­£å¸¸å‘èµ·è®¢é˜…")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 2.2 å¦‚æžœç”¨æˆ·æ‹’ç»äº†è®¢é˜…ï¼Œéœ€è¦ç»™ç”¨æˆ·ä¸€ä¸ªè½»æç¤º -> æ‰‹åŠ¨æ‰“å¼€è®¢é˜…æ¶ˆæ¯çš„")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// wx.openSetting")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("arr"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("includes")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("item")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" res"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("item"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'reject'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" res"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("errCode "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("20004")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        uni"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("showModal")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          title"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'æ‚¨å…³é—­äº†è®¢é˜…é€šçŸ¥'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          content"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'éœ€è¦æ‰“å¼€è®¾ç½®è¿›è¡Œæ‰‹åŠ¨è®¾ç½®å—ï¼Ÿ'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("success")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("res")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("confirm"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n              uni"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("openSetting")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cancel"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n              uni"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("showToast")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                icon"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'error'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                title"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'æ‚¨å–æ¶ˆäº†è®¢é˜…'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                duration"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2000")]),t._v("\n              "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("arr"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("some")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("item")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" res"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("item"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'reject'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("mute "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" uni"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("showToast")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          icon"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'none'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          title"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'æ‚¨å·²ç»è®¢é˜…äº†è¯¥æ¶ˆæ¯'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          duration"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1500")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("errCode "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("10002")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" res"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("errCode "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("10003")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        uni"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("showToast")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          title"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ç½‘ç»œé—®é¢˜è®¢é˜…å¤±è´¥ï¼Œè¯·é‡æ–°è®¢é˜…'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          duration"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1500")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å…¶ä»–çš„é€»è¾‘ https://developers.weixin.qq.com/miniprogram/dev/api/open-api/subscribe-message/wx.requestSubscribeMessage.html")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      cb "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("cb")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("h2",{attrs:{id:"å‰ç«¯ä¸»åŠ¨è®¢é˜…"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å‰ç«¯ä¸»åŠ¨è®¢é˜…"}},[t._v("#")]),t._v(" å‰ç«¯ä¸»åŠ¨è®¢é˜…")]),t._v(" "),n("p",[t._v("åœ¨App.vueä¸­æ·»åŠ åˆ¤æ–­ç”¨æˆ·è®¢é˜…é€»è¾‘ï¼š")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onLaunch")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// console.warn('å½“å‰ç»„ä»¶ä»…æ”¯æŒ uni_modules ç›®å½•ç»“æž„ ï¼Œè¯·å‡çº§ HBuilderX åˆ° 3.1.0 ç‰ˆæœ¬ä»¥ä¸Šï¼')")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// console.log('App Launch')")]),t._v("\n    uni"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getSetting")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      withSubscriptions"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("success")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("res")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" app "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getApp")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        app"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("globalData"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("subscriptionsSetting "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" res"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("subscriptionsSetting\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" arr "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'S7zrpjN9Kq05-4ZG_nlTAYxnARMLWlSW09h54A2JCZo'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ANN2-LhDgrhdFjs7jHOLdTnaxWpQU1LqS3kDIMF9GDs'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'FSQZganmBgaRRoNNlelQ1Qm2u4gx6pVSt69EJfkLbPA'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'g9FFU43_deHRuez-2FcrASorTSITsJJPYx-GhzvHEIU'")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1. èŽ·å–ç”¨æˆ·å·²ç»è®¢é˜…çš„æ¶ˆæ¯")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" itemSettings"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" keys"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" mainSwitch "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" res"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("subscriptionsSetting\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç›¸å½“äºŽç”¨æˆ·æœªæ‰“å¼€è®¢é˜…å¼€å…³")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("mainSwitch"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç”¨æˆ·å¼€å¯è®¢é˜…æ¶ˆæ¯ -> å¦‚æžœæœªè®¾ç½®ä»»ä½•æ¶ˆæ¯")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("keys"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          app"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("globalData"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tmplIds "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" arr\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç”¨æˆ·å¼€å¯äº†è®¢é˜…æ¶ˆæ¯ -> å·²ç»æœ‰éƒ¨åˆ†è®¢é˜… -> reject, accept")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" keysArr "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Object"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("keys")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("keys"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n          app"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("globalData"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tmplIds "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" arr"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("filter")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("item")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" keysArr"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("indexOf")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("item"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onShow")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'App Show'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onHide")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'App Hide'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("åœ¨éœ€è¦è®¢é˜…çš„ä½ç½®ï¼ŒåŠ å…¥è®¢é˜…é€»è¾‘ï¼Œæ¯”å¦‚åœ¨ä¸ªäººä¸­å¿ƒä¸­ï¼Œç‚¹å‡»åŽ»ç™»å½•æ—¶ï¼š")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" sub "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@/common/utils/subscribe'")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" app "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getApp")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" tmplIds "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" app"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("globalData"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tmplIds "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("sub")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tmplIds"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("splice")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("isLogin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    uni"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("navigateTo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      url"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/subcom-pkg/auth/auth'")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("blockquote",[n("p",[t._v("æ³¨æ„ï¼šè®¢é˜…æ¶ˆæ¯ä¸€æ¬¡æœ€å¤šåªå¯ä»¥è®¢é˜…3æ¡ï¼Œæ‰€ä»¥éœ€è¦åŠ å…¥ä¸€ä¸ªspliceæ–¹æ³•æˆªæ–­æœªè®¢é˜…çš„æ¶ˆæ¯ã€‚")]),t._v(" "),n("p",[t._v("ä¹Ÿå¯ä»¥è‡ªå·±åœ¨æŒ‡å®šçš„ä¸šåŠ¡éƒ¨åˆ†ï¼Œç»™"),n("code",[t._v("sub")]),t._v("æ–¹æ³•ï¼Œä¼ é€’æŒ‡å®šçš„æ¨¡æ¿IDã€‚")])]),t._v(" "),n("h2",{attrs:{id:"è®¢é˜…æ¶ˆæ¯æ¨¡æ¿api"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#è®¢é˜…æ¶ˆæ¯æ¨¡æ¿api"}},[t._v("#")]),t._v(" è®¢é˜…æ¶ˆæ¯æ¨¡æ¿API")]),t._v(" "),n("p",[t._v("åº”ç”¨åœºæ™¯ï¼š")]),t._v(" "),n("ul",[n("li",[t._v("åŽå°æŽ§åˆ¶å“ªäº›æ¶ˆæ¯å¯ä»¥è¢«è®¢é˜…ï¼›")]),t._v(" "),n("li",[t._v("å½“æ¨¡æ¿æ¶ˆæ¯çš„idå‘ç”Ÿäº†å˜åŒ–æ—¶ï¼Œå¦‚æžœä¿è¯è®¢é˜…çš„å‡†ç¡®æ€§ï¼›")])]),t._v(" "),n("p",[t._v("å‰ç«¯è¯·æ±‚æ¨¡æ¿APIï¼š")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// èŽ·å–æ¨¡æ¿id")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("getSubIds")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" axios"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/public/subids'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("p",[t._v("è°ƒæ•´App.vueä¸­çš„æ¨¡æ¿IDsçš„åˆ¤æ–­é€»è¾‘ï¼Œå¤„ç†ï¼š")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ¨¡æ¿ID")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ”¹è£…æˆä¸€ä¸ªAPIæŽ¥å£ -> key:value -> value, key -> ä¸šåŠ¡åœºæ™¯")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" code"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" data "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$u"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("api"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getSubIds")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" arr\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("code "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// {key: value, key1: value1} => [value, value1]")]),t._v("\n  arr "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Object"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("entries")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("map")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("o")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" o"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// é»˜è®¤çš„å‰ç«¯æ¨¡æ¿æ•°æ®")]),t._v("\n  arr "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'S7zrpjN9Kq05-4ZG_nlTAYxnARMLWlSW09h54A2JCZo'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ANN2-LhDgrhdFjs7jHOLdTnaxWpQU1LqS3kDIMF9GDs'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'FSQZganmBgaRRoNNlelQ1Qm2u4gx6pVSt69EJfkLbPA'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'g9FFU43_deHRuez-2FcrASorTSITsJJPYx-GhzvHEIU'")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("åŽç«¯åˆ›å»ºè·¯ç”±ä¸ŽæŽ¥å£ï¼š")]),t._v(" "),n("p",[t._v("è·¯ç”±ï¼š")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// èŽ·å–å¾®ä¿¡æ¨¡æ¿id")]),t._v("\nrouter"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/subids'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" publicController"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("getSubIds"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("p",[t._v("æŽ¥å£ï¼š")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getSubIds")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("ctx")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  ctx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    code"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    data"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" config"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("subIds\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("h2",{attrs:{id:"ç»´æŠ¤accesstoken"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ç»´æŠ¤accesstoken"}},[t._v("#")]),t._v(" ç»´æŠ¤accessToken")]),t._v(" "),n("p",[t._v("åŽç«¯å‘é€è®¢é˜…æ¶ˆæ¯éœ€è¦accessTokenï¼š")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("POST")]),t._v(" https"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("api"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("weixin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("qq"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("cgi"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("bin"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("message"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("subscribe"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("send"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v("access_token"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ACCESS_TOKEN")]),t._v("\n")])])]),n("p",[t._v("è§å®˜æ–¹æ–‡æ¡£ï¼š"),n("a",{attrs:{href:"https://developers.weixin.qq.com/miniprogram/dev/api-backend/open-api/subscribe-message/subscribeMessage.send.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("é“¾æŽ¥"),n("OutboundLink")],1)]),t._v(" "),n("p",[t._v("ç”±äºŽacessTokençš„æœ‰æ•ˆæ—¶é—´æ˜¯2å°æ—¶ï¼Œè€Œä¸”æ¯å¤©å¾®ä¿¡è¯·æ±‚çš„é™åˆ¶ä¸º2000æ¬¡ï¼ˆ"),n("a",{attrs:{href:"https://developers.weixin.qq.com/doc/offiaccount/Message_Management/API_Call_Limits.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("é“¾æŽ¥"),n("OutboundLink")],1),t._v("ï¼‰ï¼Œå¦‚ä¸‹å›¾ï¼š")]),t._v(" "),n("img",{staticStyle:{zoom:"67%"},attrs:{src:a(744),alt:"image-20210812102933432"}}),t._v(" "),n("p",[t._v("æ‰€ä»¥ï¼Œéœ€è¦è‡ªå·±å®šæ—¶ç»´æŠ¤accessTokenï¼š")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("åˆ›å»º"),n("code",[t._v("wxGetAccessToken")]),t._v("æ–¹æ³•ï¼š")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" log4js "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@/config/Log4j'")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" logger "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" log4js"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getLogger")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'error'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" getValue"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" setValue "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@/config/RedisConfig'")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// flag å¼ºåˆ¶åˆ·æ–°ï¼Œé»˜è®¤false - ä¸å¼ºåˆ¶åˆ·æ–°")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("wxGetAccessToken")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("flag "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// https://api.weixin.qq.com/cgi-bin/token?grant_type=client_credential&appid=APPID&secret=APPSECRET")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1.åˆ¤æ–­redisä¸­æ˜¯å¦æœ‰accessToken")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 2.æœ‰ & flag -> åˆ™ç›´æŽ¥è¿”å›ž")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 3.æ²¡æœ‰ -> è¯·æ±‚æ–°çš„token")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" accessToken "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getValue")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'accessToken'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("accessToken "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" flag"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" result "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" instance"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("https://api.weixin.qq.com/cgi-bin/token?grant_type=client_credential&appid=")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("config"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("AppID"),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("&secret=")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("config"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("AppSecret"),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// console.log('ðŸš€ ~ file: WxUtils.js ~ line 60 ~ wxGetAccessToken ~ result', result)")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("result"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("status "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setValue")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'accessToken'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" result"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("access_token"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" result"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("expires_in"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        accessToken "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" result"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("access_token\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("result"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("errcode "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" result"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("errmsg"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          logger"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("error")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("wxGetAccessToken error")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("result"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("errcode"),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v(" - ")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("result"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("errmsg"),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("error"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      logger"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("error")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("wxGetAccessToken error: ")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("error"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("message"),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" accessToken\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),t._v(" "),n("li",[n("p",[t._v("å®‰è£…ä¾èµ–"),n("code",[t._v("npm i cron")])])]),t._v(" "),n("li",[n("p",[t._v("é…ç½®å®šæ—¶ä»»åŠ¡ï¼š")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ¯éš”7200ç§’æ‰§è¡Œä¸€æ¬¡ åˆ·æ–°accessToken")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" CronJob "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'cron'")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" wxGetAccessToken "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./WxUtils'")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Seconds: 0-59")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Minutes: 0-59")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Hours: 0-23")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Day of Month: 1-31")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Months: 0-11 (Jan-Dec)")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Day of Week: 0-6 (Sun-Sat)")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" job "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CronJob")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'* * */1 * * *'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("wxGetAccessToken")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\njob"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("start")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])]),t._v(" "),n("li",[n("p",[t._v("åœ¨å…¥å£æ–‡ä»¶å¤„ç†ï¼Œæ·»åŠ è¯¥æ–‡ä»¶ï¼š")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./common/Cron'")]),t._v("\n")])])])])]),t._v(" "),n("p",[n("strong",[t._v("å¸¸è§é—®é¢˜ï¼Œå¦‚æžœä¸å°å¿ƒaccessTokenè¯·æ±‚è¶…é™æ€Žä¹ˆåŠžï¼š")])]),t._v(" "),n("p",[n("img",{attrs:{src:a(745),alt:"img"}})]),t._v(" "),n("h2",{attrs:{id:"åŽå°å‘é€è®¢é˜…æ¶ˆæ¯"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#åŽå°å‘é€è®¢é˜…æ¶ˆæ¯"}},[t._v("#")]),t._v(" åŽå°å‘é€è®¢é˜…æ¶ˆæ¯")]),t._v(" "),n("p",[t._v("å‘é€è®¢é˜…æ¶ˆæ¯ï¼š"),n("a",{attrs:{href:"https://developers.weixin.qq.com/miniprogram/dev/api-backend/open-api/subscribe-message/subscribeMessage.send.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("å®˜æ–¹æ–‡æ¡£"),n("OutboundLink")],1)]),t._v(" "),n("p",[t._v("è°ƒç”¨æ–¹å¼ï¼š")]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://developers.weixin.qq.com/miniprogram/dev/api-backend/open-api/subscribe-message/subscribeMessage.send.html#method-http",target:"_blank",rel:"noopener noreferrer"}},[t._v("HTTPS è°ƒç”¨"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://developers.weixin.qq.com/miniprogram/dev/api-backend/open-api/subscribe-message/subscribeMessage.send.html#method-cloud",target:"_blank",rel:"noopener noreferrer"}},[t._v("äº‘è°ƒç”¨"),n("OutboundLink")],1)])]),t._v(" "),n("h3",{attrs:{id:"httpsè°ƒç”¨æŽ¥å£è¯´æ˜Ž"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#httpsè°ƒç”¨æŽ¥å£è¯´æ˜Ž"}},[t._v("#")]),t._v(" HTTPSè°ƒç”¨æŽ¥å£è¯´æ˜Ž")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("POST https://api.weixin.qq.com/cgi-bin/message/subscribe/send?access_token=ACCESS_TOKEN\n")])])]),n("p",[n("strong",[t._v("è¯·æ±‚å‚æ•°ï¼š")])]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",{staticStyle:{"text-align":"left"}},[t._v("å±žæ€§")]),t._v(" "),n("th",{staticStyle:{"text-align":"left"}},[t._v("ç±»åž‹")]),t._v(" "),n("th",{staticStyle:{"text-align":"left"}},[t._v("é»˜è®¤å€¼")]),t._v(" "),n("th",{staticStyle:{"text-align":"left"}},[t._v("å¿…å¡«")]),t._v(" "),n("th",{staticStyle:{"text-align":"left"}},[t._v("è¯´æ˜Ž")])])]),t._v(" "),n("tbody",[n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("access_token / cloudbase_access_token")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}}),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("æ˜¯")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[n("a",{attrs:{href:"https://developers.weixin.qq.com/miniprogram/dev/api-backend/open-api/access-token/auth.getAccessToken.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("æŽ¥å£è°ƒç”¨å‡­è¯"),n("OutboundLink")],1)])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("touser")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}}),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("æ˜¯")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("æŽ¥æ”¶è€…ï¼ˆç”¨æˆ·ï¼‰çš„ openid")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("template_id")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}}),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("æ˜¯")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("æ‰€éœ€ä¸‹å‘çš„è®¢é˜…æ¨¡æ¿id")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("page")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}}),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("å¦")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("ç‚¹å‡»æ¨¡æ¿å¡ç‰‡åŽçš„è·³è½¬é¡µé¢ï¼Œä»…é™æœ¬å°ç¨‹åºå†…çš„é¡µé¢ã€‚æ”¯æŒå¸¦å‚æ•°,ï¼ˆç¤ºä¾‹index?foo=barï¼‰ã€‚è¯¥å­—æ®µä¸å¡«åˆ™æ¨¡æ¿æ— è·³è½¬ã€‚")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("data")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("Object")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}}),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("æ˜¯")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v('æ¨¡æ¿å†…å®¹ï¼Œæ ¼å¼å½¢å¦‚ { "key1": { "value": any }, "key2": { "value": any } }')])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("miniprogram_state")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}}),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("å¦")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("è·³è½¬å°ç¨‹åºç±»åž‹ï¼šdeveloperä¸ºå¼€å‘ç‰ˆï¼›trialä¸ºä½“éªŒç‰ˆï¼›formalä¸ºæ­£å¼ç‰ˆï¼›é»˜è®¤ä¸ºæ­£å¼ç‰ˆ")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("lang")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}}),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("å¦")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("è¿›å…¥å°ç¨‹åºæŸ¥çœ‹â€çš„è¯­è¨€ç±»åž‹ï¼Œæ”¯æŒzh_CN(ç®€ä½“ä¸­æ–‡)ã€en_US(è‹±æ–‡)ã€zh_HK(ç¹ä½“ä¸­æ–‡)ã€zh_TW(ç¹ä½“ä¸­æ–‡)ï¼Œé»˜è®¤ä¸ºzh_CN")])])])]),t._v(" "),n("p",[n("strong",[t._v("è¯´æ˜Žä¸€ä¸‹å…³äºŽ"),n("code",[t._v("data")]),t._v("ï¼š")])]),t._v(" "),n("p",[t._v("ä¾‹å¦‚ï¼Œæ¨¡æ¿çš„å†…å®¹ä¸º")]),t._v(" "),n("div",{staticClass:"language-text extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("å§“å: {{name01.DATA}}\né‡‘é¢: {{amount01.DATA}}\nè¡Œç¨‹: {{thing01.DATA}}\næ—¥æœŸ: {{date01.DATA}}\n")])])]),n("p",[t._v("åˆ™å¯¹åº”çš„jsonä¸º")]),t._v(" "),n("div",{staticClass:"language-json extra-class"},[n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"touser"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"OPENID"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"template_id"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"TEMPLATE_ID"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"page"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"index"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"data"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name01"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"value"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"æŸæŸ"')]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"amount01"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"value"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ï¿¥100"')]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"thing01"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"value"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"å¹¿å·žè‡³åŒ—äº¬"')]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"date01"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"value"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2018-01-01"')]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("è¿™é‡Œçš„dataæœ‰å†…å®¹é™åˆ¶ï¼ˆä¸¾ä¾‹å¦‚ä¸‹è¡¨ï¼‰ï¼Œæ›´å¤šæŸ¥çœ‹å®˜æ–¹æ–‡æ¡£è¯¦æƒ…ï¼š")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",{staticStyle:{"text-align":"left"}},[t._v("å‚æ•°ç±»åˆ«")]),t._v(" "),n("th",{staticStyle:{"text-align":"left"}},[t._v("å‚æ•°è¯´æ˜Ž")]),t._v(" "),n("th",{staticStyle:{"text-align":"left"}},[t._v("å‚æ•°å€¼é™åˆ¶")]),t._v(" "),n("th",{staticStyle:{"text-align":"left"}},[t._v("è¯´æ˜Ž")])])]),t._v(" "),n("tbody",[n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("thing.DATA")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("äº‹ç‰©")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("20ä¸ªä»¥å†…å­—ç¬¦")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("å¯æ±‰å­—ã€æ•°å­—ã€å­—æ¯æˆ–ç¬¦å·ç»„åˆ")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("number.DATA")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("æ•°å­—")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("32ä½ä»¥å†…æ•°å­—")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("åªèƒ½æ•°å­—ï¼Œå¯å¸¦å°æ•°")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("letter.DATA")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("å­—æ¯")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("32ä½ä»¥å†…å­—æ¯")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("åªèƒ½å­—æ¯")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("symbol.DATA")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("ç¬¦å·")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("5ä½ä»¥å†…ç¬¦å·")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("åªèƒ½ç¬¦å·")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("character_string.DATA")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("å­—ç¬¦ä¸²")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("32ä½ä»¥å†…æ•°å­—ã€å­—æ¯æˆ–ç¬¦å·")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("å¯æ•°å­—ã€å­—æ¯æˆ–ç¬¦å·ç»„åˆ")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("time.DATA")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("æ—¶é—´")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("24å°æ—¶åˆ¶æ—¶é—´æ ¼å¼ï¼ˆæ”¯æŒ+å¹´æœˆæ—¥ï¼‰ï¼Œæ”¯æŒå¡«æ—¶é—´æ®µï¼Œä¸¤ä¸ªæ—¶é—´ç‚¹ä¹‹é—´ç”¨â€œ~â€ç¬¦å·è¿žæŽ¥")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("ä¾‹å¦‚ï¼š15:01ï¼Œæˆ–ï¼š2019å¹´10æœˆ1æ—¥ 15:01")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("date.DATA")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("æ—¥æœŸ")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("å¹´æœˆæ—¥æ ¼å¼ï¼ˆæ”¯æŒ+24å°æ—¶åˆ¶æ—¶é—´ï¼‰ï¼Œæ”¯æŒå¡«æ—¶é—´æ®µï¼Œä¸¤ä¸ªæ—¶é—´ç‚¹ä¹‹é—´ç”¨â€œ~â€ç¬¦å·è¿žæŽ¥")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("ä¾‹å¦‚ï¼š2019å¹´10æœˆ1æ—¥ï¼Œæˆ–ï¼š2019å¹´10æœˆ1æ—¥ 15:01")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("amount.DATA")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("é‡‘é¢")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("1ä¸ªå¸ç§ç¬¦å·+10ä½ä»¥å†…çº¯æ•°å­—ï¼Œå¯å¸¦å°æ•°ï¼Œç»“å°¾å¯å¸¦â€œå…ƒâ€")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("å¯å¸¦å°æ•°")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("phone_number.DATA")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("ç”µè¯")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("17ä½ä»¥å†…ï¼Œæ•°å­—ã€ç¬¦å·")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("ç”µè¯å·ç ï¼Œä¾‹ï¼š+86-0766-66888866")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("car_number.DATA")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("è½¦ç‰Œ")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("8ä½ä»¥å†…ï¼Œç¬¬ä¸€ä½ä¸Žæœ€åŽä¸€ä½å¯ä¸ºæ±‰å­—ï¼Œå…¶ä½™ä¸ºå­—æ¯æˆ–æ•°å­—")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("è½¦ç‰Œå·ç ï¼šç²¤A8Z888æŒ‚")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("name.DATA")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("å§“å")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("10ä¸ªä»¥å†…çº¯æ±‰å­—æˆ–20ä¸ªä»¥å†…çº¯å­—æ¯æˆ–ç¬¦å·")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("ä¸­æ–‡å10ä¸ªæ±‰å­—å†…ï¼›çº¯è‹±æ–‡å20ä¸ªå­—æ¯å†…ï¼›ä¸­æ–‡å’Œå­—æ¯æ··åˆæŒ‰ä¸­æ–‡åç®—ï¼Œ10ä¸ªå­—å†…")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("phrase.DATA")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("æ±‰å­—")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("5ä¸ªä»¥å†…æ±‰å­—")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("5ä¸ªä»¥å†…çº¯æ±‰å­—ï¼Œä¾‹å¦‚ï¼šé…é€ä¸­")])])])]),t._v(" "),n("p",[t._v("è¿”å›žçš„ JSON æ•°æ®åŒ…")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",{staticStyle:{"text-align":"left"}},[t._v("å±žæ€§")]),t._v(" "),n("th",{staticStyle:{"text-align":"left"}},[t._v("ç±»åž‹")]),t._v(" "),n("th",{staticStyle:{"text-align":"left"}},[t._v("è¯´æ˜Ž")])])]),t._v(" "),n("tbody",[n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("errcode")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("number")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("é”™è¯¯ç ")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("errmsg")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("é”™è¯¯ä¿¡æ¯")])])])]),t._v(" "),n("p",[n("strong",[t._v("errcode çš„åˆæ³•å€¼")])]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",{staticStyle:{"text-align":"left"}},[t._v("å€¼")]),t._v(" "),n("th",{staticStyle:{"text-align":"left"}},[t._v("è¯´æ˜Ž")])])]),t._v(" "),n("tbody",[n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("40003")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("touserå­—æ®µopenidä¸ºç©ºæˆ–è€…ä¸æ­£ç¡®")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("40037")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("è®¢é˜…æ¨¡æ¿idä¸ºç©ºä¸æ­£ç¡®")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("43101")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("ç”¨æˆ·æ‹’ç»æŽ¥å—æ¶ˆæ¯ï¼Œå¦‚æžœç”¨æˆ·ä¹‹å‰æ›¾ç»è®¢é˜…è¿‡ï¼Œåˆ™è¡¨ç¤ºç”¨æˆ·å–æ¶ˆäº†è®¢é˜…å…³ç³»")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("47003")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("æ¨¡æ¿å‚æ•°ä¸å‡†ç¡®ï¼Œå¯èƒ½ä¸ºç©ºæˆ–è€…ä¸æ»¡è¶³è§„åˆ™ï¼Œerrmsgä¼šæç¤ºå…·ä½“æ˜¯å“ªä¸ªå­—æ®µå‡ºé”™")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("41030")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("pageè·¯å¾„ä¸æ­£ç¡®ï¼Œéœ€è¦ä¿è¯åœ¨çŽ°ç½‘ç‰ˆæœ¬å°ç¨‹åºä¸­å­˜åœ¨ï¼Œä¸Žapp.jsonä¿æŒä¸€è‡´")])])])]),t._v(" "),n("h3",{attrs:{id:"åˆ›å»ºå‘é€æ¶ˆæ¯å·¥å…·js"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#åˆ›å»ºå‘é€æ¶ˆæ¯å·¥å…·js"}},[t._v("#")]),t._v(" åˆ›å»ºå‘é€æ¶ˆæ¯å·¥å…·js")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("wxSendMessage")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("options")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// POST https://api.weixin.qq.com/cgi-bin/message/subscribe/send?access_token=ACCESS_TOKEN")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" accessToken "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("wxGetAccessToken")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" data "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" instance"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("post")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("https://api.weixin.qq.com/cgi-bin/message/subscribe/send?access_token=")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("accessToken"),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" options"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" data\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("error"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    logger"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("error")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("wxSendMessage error: ")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("error"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("message"),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("ä¸¾ä¾‹ï¼š")]),t._v(" "),n("p",[t._v("åœ¨ç”¨æˆ·ç™»å½•ä¹‹åŽï¼Œå‘é€è®¢é˜…æ¶ˆæ¯é€šçŸ¥ï¼š")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æŽ¨é€æ¶ˆæ¯")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å­—æ®µé™åˆ¶ï¼šhttps://developers.weixin.qq.com/miniprogram/dev/api-backend/open-api/subscribe-message/subscribeMessage.send.html")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" notify "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("wxSendMessage")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  touser"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" tmpUser"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("openid"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  template_id"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'FSQZganmBgaRRoNNlelQ1Qm2u4gx6pVSt69EJfkLbPA'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  data"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    phrase1"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      value"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ç™»å½•å®‰å…¨'")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    date2"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      value"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("moment")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("format")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'YYYYå¹´MMæœˆDD HH:mm'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    thing4"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      value"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'é€šè¿‡å¾®ä¿¡æŽˆæƒç™»å½•æˆåŠŸï¼Œè¯·æ³¨æ„ä¿¡æ¯å®‰å…¨'")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  miniprogram_state"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" process"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("env"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("NODE_ENV")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'development'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'developer'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'formal'")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("h2",{attrs:{id:"å‰åŽç«¯è”è°ƒ"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å‰åŽç«¯è”è°ƒ"}},[t._v("#")]),t._v(" å‰åŽç«¯è”è°ƒ")]),t._v(" "),n("p",[t._v("è”è°ƒéœ€è¦æ³¨æ„çš„ç‚¹ï¼š")]),t._v(" "),n("ul",[n("li",[t._v("è®¾ç½®"),n("code",[t._v("miniprogram_state")]),t._v("å±žæ€§ï¼›")]),t._v(" "),n("li",[t._v("ä½¿ç”¨çœŸæœºè¿›è¡Œè°ƒè¯• -> é…ç½®å±€åŸŸç½‘çš„è®¿é—®çš„IP -> è®©ç”µè„‘ä¸Žæ‰‹æœºå¤„äºŽåŒä¸€ä¸ªç½‘æ®µï¼›")]),t._v(" "),n("li",[t._v("æ£€æŸ¥å‘é€è®¢é˜…æ¶ˆæ¯çš„æ•°æ®æ ¼å¼ã€æ¨¡æ¿idã€ç”¨æˆ·openidæ•°æ®æ˜¯å¦æ­£ç¡®ï¼›")]),t._v(" "),n("li",[t._v("ä½¿ç”¨å•æ­¥è°ƒè¯•ï¼šå‘é€è®¢é˜…æ¶ˆæ¯çš„æŽ¥å£ï¼ŒæŸ¥çœ‹è¿”å›žçš„errcodeå¦‚æžœæ˜¯0ï¼Œè¯´æ˜Žå‘é€æˆåŠŸï¼›å¦‚æžœå¤±è´¥ï¼Œåˆ™æ ¹æ®errcodeæ¥è°ƒæ•´ç¨‹åºä»£ç ï¼›")])]),t._v(" "),n("img",{staticStyle:{zoom:"67%"},attrs:{src:a(746),alt:"image-20210812111502555"}})])}),[],!1,null,null,null);s.default=e.exports}}]);