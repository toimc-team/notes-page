(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{1110:function(s,t,e){"use strict";e.r(t);var v=e(11),a=Object(v.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"介绍-安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#介绍-安装"}},[s._v("#")]),s._v(" 介绍&安装")]),s._v(" "),t("h2",{attrs:{id:"什么是ci-cd"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#什么是ci-cd"}},[s._v("#")]),s._v(" 什么是CI/CD")]),s._v(" "),t("p",[t("code",[s._v("CI/CD")]),s._v("即持续集成(Continuous Integration)、持续交付(Continuous Delivery)和持续部署(Continuous Deployment)，是一种通过引入自动化构建部署来频繁向客户交付的方法。"),t("code",[s._v("CI/CD")]),s._v("是"),t("code",[s._v("DevOps")]),s._v("的基础核心，如果没有"),t("code",[s._v("CI/CD")]),s._v("自动化的工具和流程，"),t("code",[s._v("DevOps")]),s._v("是没有意义的，来看下图"),t("code",[s._v("DevOps")]),s._v("工作流程图：")]),s._v(" "),t("p",[t("img",{attrs:{src:e(569),alt:""}})]),s._v(" "),t("p",[s._v("具体的流程为：")]),s._v(" "),t("ul",[t("li",[s._v("先是计划"),t("code",[s._v("plan")]),s._v("，编码"),t("code",[s._v("code")]),s._v("，然后编译"),t("code",[s._v("build")]),s._v("，测试"),t("code",[s._v("test")]),s._v("（Dev）")]),s._v(" "),t("li",[s._v("然后发布"),t("code",[s._v("release")]),s._v("，部署"),t("code",[s._v("deploy")]),s._v("，运维"),t("code",[s._v("operate")]),s._v("，监控"),t("code",[s._v("monitor")]),s._v("（Ops）")]),s._v(" "),t("li",[s._v("然后发现问题或有新的需求，就重新计划plan...如此循环")])]),s._v(" "),t("p",[s._v("这就是完整的"),t("code",[s._v("DevOps")]),s._v("流程，试想如果没有自动化，那将是很繁重的任务。")]),s._v(" "),t("p",[s._v("与传统的项目部署相比，自动化流程的意义：")]),s._v(" "),t("ul",[t("li",[s._v("减少人为失误，提高软件质量")]),s._v(" "),t("li",[s._v("效率迭代，便捷部署")]),s._v(" "),t("li",[s._v("快速交付，便于管理")])]),s._v(" "),t("p",[t("strong",[s._v("主流的自动化软件对比")])]),s._v(" "),t("img",{staticStyle:{width:"800px"},attrs:{src:e(570)}}),s._v(" "),t("p",[s._v("从上图可以看出主要的软件有"),t("code",[s._v("Jenkins")]),s._v(","),t("code",[s._v("Travis CI")]),s._v(","),t("code",[s._v("Circle CI")]),s._v(", 后面两个是云平台，而且只支持公有"),t("code",[s._v("Public")]),s._v("项目，私有项目需要付费；"),t("code",[s._v("Jenkins")]),s._v("支持本地化部署，而且免费，可高度配置，是开源CI&CD软件领导者， 提供超过1000个插件来支持构建、部署、自动化， 满足任何项目的需要。")]),s._v(" "),t("h2",{attrs:{id:"jenkins-介绍"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#jenkins-介绍"}},[s._v("#")]),s._v(" Jenkins 介绍")]),s._v(" "),t("p",[s._v("官网："),t("a",{attrs:{href:"https://www.jenkins.io/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://www.jenkins.io/"),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("Jenkins是一款开源 CI&CD 软件，用于自动化各种任务，包括构建、测试和部署软件。"),t("br"),s._v("\nJenkins 支持各种运行方式，可通过系统包、Docker 或者通过一个独立的 Java 程序。")]),s._v(" "),t("p",[t("strong",[s._v("Jenkins & Gitee 持续集成流程")])]),s._v(" "),t("p",[t("img",{attrs:{src:e(571),alt:""}})]),s._v(" "),t("ul",[t("li",[s._v("在本地编辑器编辑代码，提交到"),t("code",[s._v("Gitee")])]),s._v(" "),t("li",[t("code",[s._v("git push")]),s._v(" 操作触发 "),t("code",[s._v("Jenkins")]),s._v(" 自动部署（"),t("code",[s._v("Jenkins")]),s._v(" 安装在 "),t("code",[s._v("Docker")]),s._v(" 中）")]),s._v(" "),t("li",[t("code",[s._v("Jenkins")]),s._v(" 开始构建、打包、最后部署到云服务器")])]),s._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),t("p",[s._v("除了Gitee，也可以使用GitLab,GitHub等代码仓库。")])]),s._v(" "),t("h2",{attrs:{id:"安装jenkins"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装jenkins"}},[s._v("#")]),s._v(" 安装Jenkins")]),s._v(" "),t("p",[s._v("本节的步骤适用于本地机器上的 "),t("code",[s._v("Jenkins")]),s._v(" 新安装。")]),s._v(" "),t("p",[t("code",[s._v("Jenkins")]),s._v(" 通常作为一个独立的应用程序在其自己的流程中运行， 内置 "),t("code",[s._v("Java servlet")]),s._v(" 容器/应用程序服务器（Jetty）。\n"),t("code",[s._v("Jenkins")]),s._v(" 也可以运行在不同的"),t("code",[s._v("Java servlet")]),s._v("容器(如Apache Tomcat 或 GlassFish)中作为servlet运行。")]),s._v(" "),t("p",[s._v("尽管此页面重点关注"),t("code",[s._v("Jenkins")]),s._v("的本地安装，但此内容也可用于帮助在生产环境中设置"),t("code",[s._v("Jenkins")]),s._v("。")]),s._v(" "),t("h3",{attrs:{id:"系统要求"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#系统要求"}},[s._v("#")]),s._v(" 系统要求")]),s._v(" "),t("p",[s._v("最低推荐配置:")]),s._v(" "),t("ul",[t("li",[s._v("256MB可用内存")]),s._v(" "),t("li",[s._v("1GB可用磁盘空间(作为一个Docker容器运行jenkins的话推荐10GB)")])]),s._v(" "),t("p",[s._v("为小团队推荐的硬件配置:")]),s._v(" "),t("ul",[t("li",[s._v("1GB+可用内存")]),s._v(" "),t("li",[s._v("50 GB+ 可用磁盘空间")])]),s._v(" "),t("p",[s._v("软件配置:")]),s._v(" "),t("ul",[t("li",[s._v("Java 8—​无论是Java运行时环境（JRE）还是Java开发工具包（JDK）都可以。")])]),s._v(" "),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"custom-block-title"},[s._v("注意")]),s._v(" "),t("p",[s._v("将Jenkins作为Docker 容器运行，这不是必需的，也可以直接安装Jenkins。")])]),s._v(" "),t("h3",{attrs:{id:"docker安装方式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker安装方式"}},[s._v("#")]),s._v(" Docker安装方式")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--name")]),s._v(" jenkins_test "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11005")]),s._v(":8080 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("50000")]),s._v(":50000 jenkins/jenkins:lts\n")])])]),t("ul",[t("li",[s._v("--name 容器名称定义为jenkins_test")]),s._v(" "),t("li",[s._v("-p 将本地11005端口映射到Jenkins容器中的8080端口，这是访问Jenkins网页的端口")]),s._v(" "),t("li",[s._v("-p 50000端口映射是与Jenkins主服务器上通信的端口号")])]),s._v(" "),t("p",[s._v("上面没有挂载 "),t("code",[s._v("volume")]),s._v(", 如果有必要可以使用 "),t("code",[s._v("-v")]),s._v(" 来映射容器内部文件：")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-v")]),s._v(" jenkins-data:/var/jenkins_home\n")])])]),t("p",[s._v("安装完成后这里提示有个初始密码，第一次登录需要用到，也可以在"),t("code",[s._v("/var/jenkins_home/secrets/initialAdminPassword")]),s._v("找到，通过 "),t("code",[s._v("docker ps | grep jenkins")]),s._v(" 查看 Jenkins 是否已开启，如果没有开启可以使用 "),t("code",[s._v("docker start jenkins")]),s._v(" 来开启。")]),s._v(" "),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"custom-block-title"},[s._v("注意")]),s._v(" "),t("p",[s._v("注意添加本地的端口(11005)到防火墙，还有注意云主机也开放了此端口，否则不能访问哦。")])]),s._v(" "),t("p",[s._v("在浏览器访问11005端口开始使用 "),t("code",[s._v("Jenkins")]),s._v(" ：")]),s._v(" "),t("img",{staticStyle:{width:"800px"},attrs:{src:e(572),alt:"解锁Jenkins"}}),s._v(" "),t("p",[s._v("点击【继续】，然后开始安装插件：")]),s._v(" "),t("img",{staticStyle:{width:"800px"},attrs:{src:e(573),alt:"自定义Jenkins"}}),s._v(" "),t("p",[s._v("选择【安装推荐的插件】开始安装：")]),s._v(" "),t("img",{staticStyle:{width:"800px"},attrs:{src:e(574),alt:"新手入门"}}),s._v(" "),t("p",[s._v("创建第一个管理员用户：")]),s._v(" "),t("img",{staticStyle:{width:"800px"},attrs:{src:e(575),alt:"创建第一个管理员用户"}}),s._v(" "),t("p",[s._v("确认"),t("code",[s._v("Jenkins")]),s._v("访问路径：")]),s._v(" "),t("img",{staticStyle:{width:"800px"},attrs:{src:e(576),alt:"实例配置"}}),s._v(" "),t("p",[s._v("安装完毕，开始使用：")]),s._v(" "),t("img",{staticStyle:{width:"800px"},attrs:{src:e(577),alt:"Jenkins已就绪"}}),s._v(" "),t("p",[s._v("首页欢迎界面：")]),s._v(" "),t("img",{staticStyle:{width:"800px"},attrs:{src:e(578),alt:"开始使用"}}),s._v(" "),t("h3",{attrs:{id:"war包直装方式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#war包直装方式"}},[s._v("#")]),s._v(" War包直装方式")]),s._v(" "),t("p",[s._v("Jenkins的Web应用程序ARchive（WAR）文件版本可以安装在任何支持Java的操作系统或平台上。")]),s._v(" "),t("p",[t("strong",[s._v("要下载并运行Jenkins的WAR文件版本，请执行以下操作:")])]),s._v(" "),t("ol",[t("li",[s._v("将"),t("a",{attrs:{href:"http://mirrors.jenkins.io/war-stable/latest/jenkins.war",target:"_blank",rel:"noopener noreferrer"}},[s._v("最新的稳定Jenkins WAR包"),t("OutboundLink")],1),s._v(" 下载到您计算机上的相应目录。")]),s._v(" "),t("li",[s._v("在下载的目录内打开一个终端/命令提示符窗口到。")]),s._v(" "),t("li",[s._v("运行命令java -jar jenkins.war")]),s._v(" "),t("li",[s._v("浏览http://localhost:8080并等到Unlock Jenkins页面出现。")])]),s._v(" "),t("h3",{attrs:{id:"macos系统"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#macos系统"}},[s._v("#")]),s._v(" macOS系统")]),s._v(" "),t("ol",[t("li",[s._v("从网站安装的话使用这个包:")])]),s._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"http://mirrors.jenkins.io/osx/latest",target:"_blank",rel:"noopener noreferrer"}},[s._v("Download the latest package"),t("OutboundLink")],1)]),s._v(" "),t("li",[s._v("打开包装并按照说明操作")])]),s._v(" "),t("ol",{attrs:{start:"2"}},[t("li",[s._v("Jenkins 也可以使用"),t("code",[s._v("brew")]),s._v("以下方式安装：")])]),s._v(" "),t("ul",[t("li",[s._v("安装最新版本")])]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("brew install jenkins\n")])])]),t("ul",[t("li",[s._v("安装 LTS 版本")])]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("brew install jenkins-lts\n")])])])])}),[],!1,null,null,null);t.default=a.exports},569:function(s,t,e){s.exports=e.p+"assets/img/20210308203919800.501d2337.png"},570:function(s,t,e){s.exports=e.p+"assets/img/2021031614533474.b5dcd7dd.png"},571:function(s,t,e){s.exports=e.p+"assets/img/20210324230848552.465e7f47.png"},572:function(s,t,e){s.exports=e.p+"assets/img/20210323231948966.749ec502.png"},573:function(s,t,e){s.exports=e.p+"assets/img/20210323233652482.232c8b89.png"},574:function(s,t,e){s.exports=e.p+"assets/img/20210323233844979.44dcd290.png"},575:function(s,t,e){s.exports=e.p+"assets/img/20210323234333756.c82428fe.png"},576:function(s,t,e){s.exports=e.p+"assets/img/20210323234459827.c21c5868.png"},577:function(s,t,e){s.exports=e.p+"assets/img/20210323234535102.ceb5682c.png"},578:function(s,t,e){s.exports=e.p+"assets/img/20210323234642602.49144db2.png"}}]);