<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>网络篇 | 大前端 - 前端高级进阶</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="大前端课程电子书">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/notes-page/assets/css/0.styles.e2a3d81d.css" as="style"><link rel="preload" href="/notes-page/assets/js/app.1371add3.js" as="script"><link rel="preload" href="/notes-page/assets/js/8.81a428d2.js" as="script"><link rel="preload" href="/notes-page/assets/js/126.7f1959a0.js" as="script"><link rel="prefetch" href="/notes-page/assets/js/1.83af599a.js"><link rel="prefetch" href="/notes-page/assets/js/10.dc408fea.js"><link rel="prefetch" href="/notes-page/assets/js/100.a03acd0e.js"><link rel="prefetch" href="/notes-page/assets/js/101.07258503.js"><link rel="prefetch" href="/notes-page/assets/js/102.4569cb0f.js"><link rel="prefetch" href="/notes-page/assets/js/103.8224b145.js"><link rel="prefetch" href="/notes-page/assets/js/104.32b84006.js"><link rel="prefetch" href="/notes-page/assets/js/105.fcb04965.js"><link rel="prefetch" href="/notes-page/assets/js/106.3fc7255f.js"><link rel="prefetch" href="/notes-page/assets/js/107.95a54d87.js"><link rel="prefetch" href="/notes-page/assets/js/108.e76bf97e.js"><link rel="prefetch" href="/notes-page/assets/js/109.4e504d48.js"><link rel="prefetch" href="/notes-page/assets/js/11.386acbf7.js"><link rel="prefetch" href="/notes-page/assets/js/110.54878299.js"><link rel="prefetch" href="/notes-page/assets/js/111.97a073cb.js"><link rel="prefetch" href="/notes-page/assets/js/112.81a2dedd.js"><link rel="prefetch" href="/notes-page/assets/js/113.43824821.js"><link rel="prefetch" href="/notes-page/assets/js/114.a389fff5.js"><link rel="prefetch" href="/notes-page/assets/js/115.7cb56591.js"><link rel="prefetch" href="/notes-page/assets/js/116.eb84d792.js"><link rel="prefetch" href="/notes-page/assets/js/117.1fd829f2.js"><link rel="prefetch" href="/notes-page/assets/js/118.673c5485.js"><link rel="prefetch" href="/notes-page/assets/js/119.b972fcd1.js"><link rel="prefetch" href="/notes-page/assets/js/12.24fd28e0.js"><link rel="prefetch" href="/notes-page/assets/js/120.d5c97086.js"><link rel="prefetch" href="/notes-page/assets/js/121.1c393436.js"><link rel="prefetch" href="/notes-page/assets/js/122.ec2989f5.js"><link rel="prefetch" href="/notes-page/assets/js/123.9b0db16a.js"><link rel="prefetch" href="/notes-page/assets/js/124.7cd30827.js"><link rel="prefetch" href="/notes-page/assets/js/125.794348f7.js"><link rel="prefetch" href="/notes-page/assets/js/127.bfa7258b.js"><link rel="prefetch" href="/notes-page/assets/js/128.d3ef8582.js"><link rel="prefetch" href="/notes-page/assets/js/129.84c16708.js"><link rel="prefetch" href="/notes-page/assets/js/13.e15d6f77.js"><link rel="prefetch" href="/notes-page/assets/js/130.694d6109.js"><link rel="prefetch" href="/notes-page/assets/js/131.bb55a9a1.js"><link rel="prefetch" href="/notes-page/assets/js/132.134634d4.js"><link rel="prefetch" href="/notes-page/assets/js/133.d60a53af.js"><link rel="prefetch" href="/notes-page/assets/js/134.ac68cbb0.js"><link rel="prefetch" href="/notes-page/assets/js/135.70697e4b.js"><link rel="prefetch" href="/notes-page/assets/js/136.26679adc.js"><link rel="prefetch" href="/notes-page/assets/js/137.235f9fbd.js"><link rel="prefetch" href="/notes-page/assets/js/138.a400db77.js"><link rel="prefetch" href="/notes-page/assets/js/139.ca75f3c3.js"><link rel="prefetch" href="/notes-page/assets/js/14.1fca5f67.js"><link rel="prefetch" href="/notes-page/assets/js/140.938c2dd6.js"><link rel="prefetch" href="/notes-page/assets/js/141.3f1473d5.js"><link rel="prefetch" href="/notes-page/assets/js/15.e9014963.js"><link rel="prefetch" href="/notes-page/assets/js/16.5e058172.js"><link rel="prefetch" href="/notes-page/assets/js/17.286b6195.js"><link rel="prefetch" href="/notes-page/assets/js/18.6db445df.js"><link rel="prefetch" href="/notes-page/assets/js/19.52e7a5f7.js"><link rel="prefetch" href="/notes-page/assets/js/20.443a533e.js"><link rel="prefetch" href="/notes-page/assets/js/21.b5f74309.js"><link rel="prefetch" href="/notes-page/assets/js/22.9f6efa57.js"><link rel="prefetch" href="/notes-page/assets/js/23.f8b0d892.js"><link rel="prefetch" href="/notes-page/assets/js/24.c1886d70.js"><link rel="prefetch" href="/notes-page/assets/js/25.7cdf017a.js"><link rel="prefetch" href="/notes-page/assets/js/26.57e7fe7e.js"><link rel="prefetch" href="/notes-page/assets/js/27.09b33b41.js"><link rel="prefetch" href="/notes-page/assets/js/28.9d642038.js"><link rel="prefetch" href="/notes-page/assets/js/29.5a19854f.js"><link rel="prefetch" href="/notes-page/assets/js/30.a189d200.js"><link rel="prefetch" href="/notes-page/assets/js/31.1e3c69af.js"><link rel="prefetch" href="/notes-page/assets/js/32.32a71bae.js"><link rel="prefetch" href="/notes-page/assets/js/33.28a062a3.js"><link rel="prefetch" href="/notes-page/assets/js/34.9ec061b8.js"><link rel="prefetch" href="/notes-page/assets/js/35.138e1657.js"><link rel="prefetch" href="/notes-page/assets/js/36.90d29259.js"><link rel="prefetch" href="/notes-page/assets/js/37.80c1e82a.js"><link rel="prefetch" href="/notes-page/assets/js/38.f53326b3.js"><link rel="prefetch" href="/notes-page/assets/js/39.7e94601a.js"><link rel="prefetch" href="/notes-page/assets/js/40.84792f65.js"><link rel="prefetch" href="/notes-page/assets/js/41.c585f08a.js"><link rel="prefetch" href="/notes-page/assets/js/42.82c14706.js"><link rel="prefetch" href="/notes-page/assets/js/43.601b519c.js"><link rel="prefetch" href="/notes-page/assets/js/44.d63df1ae.js"><link rel="prefetch" href="/notes-page/assets/js/45.1fb00017.js"><link rel="prefetch" href="/notes-page/assets/js/46.5f486a9c.js"><link rel="prefetch" href="/notes-page/assets/js/47.c416cbb5.js"><link rel="prefetch" href="/notes-page/assets/js/48.098925f4.js"><link rel="prefetch" href="/notes-page/assets/js/49.15b31c0c.js"><link rel="prefetch" href="/notes-page/assets/js/50.4bb2a1a7.js"><link rel="prefetch" href="/notes-page/assets/js/51.fac256b0.js"><link rel="prefetch" href="/notes-page/assets/js/52.92f4621d.js"><link rel="prefetch" href="/notes-page/assets/js/53.d9828734.js"><link rel="prefetch" href="/notes-page/assets/js/54.63856b95.js"><link rel="prefetch" href="/notes-page/assets/js/55.7de48b8f.js"><link rel="prefetch" href="/notes-page/assets/js/56.ddadb42a.js"><link rel="prefetch" href="/notes-page/assets/js/57.7868768e.js"><link rel="prefetch" href="/notes-page/assets/js/58.372e12b7.js"><link rel="prefetch" href="/notes-page/assets/js/59.86812551.js"><link rel="prefetch" href="/notes-page/assets/js/6.4baaf575.js"><link rel="prefetch" href="/notes-page/assets/js/60.cbf986b6.js"><link rel="prefetch" href="/notes-page/assets/js/61.e1325d55.js"><link rel="prefetch" href="/notes-page/assets/js/62.10276dc7.js"><link rel="prefetch" href="/notes-page/assets/js/63.e6d0d74e.js"><link rel="prefetch" href="/notes-page/assets/js/64.09560f42.js"><link rel="prefetch" href="/notes-page/assets/js/65.884f979f.js"><link rel="prefetch" href="/notes-page/assets/js/66.59b93380.js"><link rel="prefetch" href="/notes-page/assets/js/67.57dc0f1e.js"><link rel="prefetch" href="/notes-page/assets/js/68.2ef957ad.js"><link rel="prefetch" href="/notes-page/assets/js/69.ad529cc7.js"><link rel="prefetch" href="/notes-page/assets/js/7.ff1bda0e.js"><link rel="prefetch" href="/notes-page/assets/js/70.84a4838c.js"><link rel="prefetch" href="/notes-page/assets/js/71.2a7e5b79.js"><link rel="prefetch" href="/notes-page/assets/js/72.fd997da5.js"><link rel="prefetch" href="/notes-page/assets/js/73.563e7bbb.js"><link rel="prefetch" href="/notes-page/assets/js/74.ac058a2c.js"><link rel="prefetch" href="/notes-page/assets/js/75.22e91916.js"><link rel="prefetch" href="/notes-page/assets/js/76.e6413efa.js"><link rel="prefetch" href="/notes-page/assets/js/77.b68f114a.js"><link rel="prefetch" href="/notes-page/assets/js/78.e692b223.js"><link rel="prefetch" href="/notes-page/assets/js/79.6dda63bf.js"><link rel="prefetch" href="/notes-page/assets/js/80.6e277352.js"><link rel="prefetch" href="/notes-page/assets/js/81.75c5bcbe.js"><link rel="prefetch" href="/notes-page/assets/js/82.51c56f2d.js"><link rel="prefetch" href="/notes-page/assets/js/83.d8138a95.js"><link rel="prefetch" href="/notes-page/assets/js/84.02fe855d.js"><link rel="prefetch" href="/notes-page/assets/js/85.0e2432e5.js"><link rel="prefetch" href="/notes-page/assets/js/86.25d69fde.js"><link rel="prefetch" href="/notes-page/assets/js/87.12a41d73.js"><link rel="prefetch" href="/notes-page/assets/js/88.7612a2a9.js"><link rel="prefetch" href="/notes-page/assets/js/89.63b2c83c.js"><link rel="prefetch" href="/notes-page/assets/js/9.4d9781d6.js"><link rel="prefetch" href="/notes-page/assets/js/90.11efeacc.js"><link rel="prefetch" href="/notes-page/assets/js/91.073e7db3.js"><link rel="prefetch" href="/notes-page/assets/js/92.47a25ad6.js"><link rel="prefetch" href="/notes-page/assets/js/93.a721cdcb.js"><link rel="prefetch" href="/notes-page/assets/js/94.297aeb85.js"><link rel="prefetch" href="/notes-page/assets/js/95.8eddf25c.js"><link rel="prefetch" href="/notes-page/assets/js/96.1d244a56.js"><link rel="prefetch" href="/notes-page/assets/js/97.a5ba5518.js"><link rel="prefetch" href="/notes-page/assets/js/98.1a60fb30.js"><link rel="prefetch" href="/notes-page/assets/js/99.11f6c789.js"><link rel="prefetch" href="/notes-page/assets/js/vendors~docsearch.3701f587.js"><link rel="prefetch" href="/notes-page/assets/js/vendors~photo-swipe.5f3edbcc.js"><link rel="prefetch" href="/notes-page/assets/js/vendors~search-page.8eee0174.js">
    <link rel="stylesheet" href="/notes-page/assets/css/0.styles.e2a3d81d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/notes-page/" class="home-link router-link-active"><!----> <span class="site-name">大前端 - 前端高级进阶</span></a> <div class="links"><div id="docsearch"></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>前端分类题</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/notes-page/interview/types/" aria-current="page" class="sidebar-link">笔试分类题</a></li><li><a href="/notes-page/interview/types/01-HTML&amp;CSS.html" class="sidebar-link">CSS篇</a></li><li><a href="/notes-page/interview/types/02-JS.html" class="sidebar-link">JS篇</a></li><li><a href="/notes-page/interview/types/03-Vue.html" class="sidebar-link">Vue</a></li><li><a href="/notes-page/interview/types/04-前端工程化篇.html" class="sidebar-link">前端工程化篇</a></li><li><a href="/notes-page/interview/types/05-移动端篇.html" class="sidebar-link">移动端篇</a></li><li><a href="/notes-page/interview/types/06-git.html" class="sidebar-link">git篇</a></li><li><a href="/notes-page/interview/types/07-Node.html" class="sidebar-link">Node篇</a></li><li><a href="/notes-page/interview/types/08-数据库篇.html" class="sidebar-link">数据库篇</a></li><li><a href="/notes-page/interview/types/09-算法篇.html" class="sidebar-link">前端面试题：常用算法</a></li><li><a href="/notes-page/interview/types/10-网络篇.html" class="active sidebar-link">网络篇</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes-page/interview/types/10-网络篇.html#_1-讲一讲三次握手四次挥手-为什么是三次握手四而不是两次握手-中级" class="sidebar-link">1. 讲一讲三次握手四次挥手，为什么是三次握手四而不是两次握手？（中级）</a></li><li class="sidebar-sub-header"><a href="/notes-page/interview/types/10-网络篇.html#_2-http的结构-中级" class="sidebar-link">2. HTTP的结构（中级）</a></li><li class="sidebar-sub-header"><a href="/notes-page/interview/types/10-网络篇.html#_3-http头都有哪些字段-中级" class="sidebar-link">3. HTTP头都有哪些字段（中级）</a></li><li class="sidebar-sub-header"><a href="/notes-page/interview/types/10-网络篇.html#_4-说说你知道的状态码-中级" class="sidebar-link">4. 说说你知道的状态码（中级）</a></li><li class="sidebar-sub-header"><a href="/notes-page/interview/types/10-网络篇.html#_5-网络osi七层模型都有哪些-tcp是哪一层的-中级" class="sidebar-link">5. 网络OSI七层模型都有哪些？TCP是哪一层的（中级）</a></li><li class="sidebar-sub-header"><a href="/notes-page/interview/types/10-网络篇.html#_6-http1-0-和http1-1-还有-http2-有什么区别-中级" class="sidebar-link">6. http1.0 和http1.1，还有 http2 有什么区别？（中级）</a></li><li class="sidebar-sub-header"><a href="/notes-page/interview/types/10-网络篇.html#_7-https和http有什么区别-https的实现原理-高级" class="sidebar-link">7. https和http有什么区别，https的实现原理？（高级）</a></li><li class="sidebar-sub-header"><a href="/notes-page/interview/types/10-网络篇.html#_8-localstorage、sessionstorage、cookie、session-之间有什么区别-中级" class="sidebar-link">8. localStorage、SessionStorage、cookie、session 之间有什么区别？（中级）</a></li><li class="sidebar-sub-header"><a href="/notes-page/interview/types/10-网络篇.html#_9-localstorage-存满了怎么办-中级" class="sidebar-link">9. localstorage 存满了怎么办？（中级）</a></li><li class="sidebar-sub-header"><a href="/notes-page/interview/types/10-网络篇.html#_10-怎么使用cookie保存用户信息-中级" class="sidebar-link">10. 怎么使用cookie保存用户信息（中级）</a></li><li class="sidebar-sub-header"><a href="/notes-page/interview/types/10-网络篇.html#_11-怎么删除cookie-中级" class="sidebar-link">11. 怎么删除cookie（中级）</a></li><li class="sidebar-sub-header"><a href="/notes-page/interview/types/10-网络篇.html#_12-get和post的区别-中级" class="sidebar-link">12. Get和Post的区别（中级）</a></li><li class="sidebar-sub-header"><a href="/notes-page/interview/types/10-网络篇.html#_13-讲讲http缓存-高级" class="sidebar-link">13. 讲讲http缓存（高级）</a></li><li class="sidebar-sub-header"><a href="/notes-page/interview/types/10-网络篇.html#_14-tcp-和udp有什么区别-中级" class="sidebar-link">14. tcp 和udp有什么区别？（中级）</a></li><li class="sidebar-sub-header"><a href="/notes-page/interview/types/10-网络篇.html#_15-从浏览器输入url后都经历了什么-高级" class="sidebar-link">15. 从浏览器输入url后都经历了什么？（高级）</a></li><li class="sidebar-sub-header"><a href="/notes-page/interview/types/10-网络篇.html#_16-滑动窗口和拥塞窗口有什么区别-高级" class="sidebar-link">16. 滑动窗口和拥塞窗口有什么区别？（高级）</a></li><li class="sidebar-sub-header"><a href="/notes-page/interview/types/10-网络篇.html#_17-什么是cdn-中级" class="sidebar-link">17. 什么是CDN？（中级）</a></li><li class="sidebar-sub-header"><a href="/notes-page/interview/types/10-网络篇.html#_18-什么是xss-什么是csrf-中级" class="sidebar-link">18. 什么是xss？什么是csrf？（中级）</a></li><li class="sidebar-sub-header"><a href="/notes-page/interview/types/10-网络篇.html#_19-owasp-top10-10项最严重的web应用程序安全风险列表-都有哪些-高级" class="sidebar-link">19. OWASP top10 (10项最严重的Web应用程序安全风险列表)都有哪些?（高级）</a></li><li class="sidebar-sub-header"><a href="/notes-page/interview/types/10-网络篇.html#_20-什么是回流-什么是重绘-高级" class="sidebar-link">20. 什么是回流 什么是重绘？（高级）</a></li><li class="sidebar-sub-header"><a href="/notes-page/interview/types/10-网络篇.html#_21-跨域的方式都有哪些-他们的特点是什么-高级" class="sidebar-link">21. 跨域的方式都有哪些？他们的特点是什么?（高级）</a></li><li class="sidebar-sub-header"><a href="/notes-page/interview/types/10-网络篇.html#_22-关于http-2-0你知道多少-中级" class="sidebar-link">22. 关于Http 2.0你知道多少？（中级）</a></li></ul></li><li><a href="/notes-page/interview/types/11-性能优化篇.html" class="sidebar-link">性能优化篇</a></li><li><a href="/notes-page/interview/types/12-浏览器篇.html" class="sidebar-link">浏览器篇</a></li><li><a href="/notes-page/interview/types/13-React.html" class="sidebar-link">React篇</a></li><li><a href="/notes-page/interview/types/14-开放题.html" class="sidebar-link">开放题</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>面试技巧</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/notes-page/interview/basic/" class="sidebar-link">关于面试</a></li><li><a href="/notes-page/interview/basic/guide.html" class="sidebar-link">面试准备</a></li><li><a href="/notes-page/interview/basic/basic.html" class="sidebar-link">基础面</a></li><li><a href="/notes-page/interview/basic/tech.html" class="sidebar-link">技术面</a></li><li><a href="/notes-page/interview/boss/" class="sidebar-link">Boss面</a></li><li><a href="/notes-page/interview/hr/" class="sidebar-link">HR面</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>简历</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/notes-page/interview/writor/" class="sidebar-link">写好简历</a></li><li><a href="/notes-page/interview/templates/" class="sidebar-link">简历模板</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>公司行业</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/notes-page/interview/company/" class="sidebar-link">选择公司</a></li><li><a href="/notes-page/interview/industry/" class="sidebar-link">行业洞悉</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="网络篇"><a href="#网络篇" class="header-anchor">#</a> 网络篇</h1> <h2 id="_1-讲一讲三次握手四次挥手-为什么是三次握手四而不是两次握手-中级"><a href="#_1-讲一讲三次握手四次挥手-为什么是三次握手四而不是两次握手-中级" class="header-anchor">#</a> 1. 讲一讲三次握手四次挥手，为什么是三次握手四而不是两次握手？（中级）</h2> <ul><li><p>客户端和服务端之间通过三次握手建立连接，四次挥手释放连接。</p></li> <li><p>三次握手，客户端先向服务端发起一个 SYN 包，进入 SYN_SENT 状态，服务端收到 SYN 后，给客户端返回一个 ACK+SYN 包，表示已收到 SYN，并进入SYN_RECEIVE 状态，最后客户端再向服务端发送一个 ACK 包表示确认，双方进入 establish 状态。</p> <ul><li>之所以是三次握手而不是两次，是因为如果只有两次，在服务端收到 SYN 后，向客户端返回一个 ACK 确认就进入 establish 状态，万一这个请求中间遇到网络情况而没有传给客户端，客户端一直是等待状态，后面服务端发送的信息客户端也接受不到了。</li></ul></li> <li><p>四次挥手，首先客户端向服务端发送一个 FIN 包，进入 FIN_WAIT1 状态，服务端收到后，向客户端发送 ACK 确认包，进入 CLOSE_WAIT 状态，然后客户端收到 ACK 包后进入 FIN_WAIT2 状态，然后服务端再把自己剩余没传完的数据发送给客户端，发送完毕后在发送一个 FIN+ACK 包，进入 LAST_ACK (最后确认)状态，客户端收到 FIN+ACK 包后，再向服务端发送 ACK 包，在等待两个周期后在关闭连接。</p> <ul><li>之所以等待两个周期是因为最后服务端发送的ACK包可能会丢失，如果不等待2个周期的话，服务端在没收收到ACK包之前，会不停的重复发送FIN包而不关闭，所以得等待两个周期。</li></ul></li></ul> <h2 id="_2-http的结构-中级"><a href="#_2-http的结构-中级" class="header-anchor">#</a> 2. HTTP的结构（中级）</h2> <ul><li><p>请求行 请求头空行请求体。</p> <ul><li>请求行包括 http 版本号，url，请求方式。</li> <li>响应行包括版本号，状态码，原因。</li></ul></li></ul> <h2 id="_3-http头都有哪些字段-中级"><a href="#_3-http头都有哪些字段-中级" class="header-anchor">#</a> 3. HTTP头都有哪些字段（中级）</h2> <ul><li><p>请求头</p> <ul><li><p>cache-control 是否使用缓存。</p></li> <li><p>Connection：keep-alive 与服务器的连接状态。</p></li> <li><p>Host 主机域。</p></li></ul></li> <li><p>返回头</p> <ul><li>cache-control。</li> <li>etag 唯一标识，缓存用的。</li> <li>last-modified 最后修改时间。</li></ul></li></ul> <h2 id="_4-说说你知道的状态码-中级"><a href="#_4-说说你知道的状态码-中级" class="header-anchor">#</a> 4. 说说你知道的状态码（中级）</h2> <ul><li><p>2开头的表示成功：</p> <ul><li>一般见到的就是200</li></ul></li> <li><p>3开头的表示重定向：</p> <ul><li><p>301永久重定向</p></li> <li><p>302临时重定向</p></li> <li><p>304表示可以在缓存中取数据(协商缓存)</p></li></ul></li> <li><p>4开头表示客户端错误：</p> <ul><li><p>403跨域</p></li> <li><p>404请求资源不存在</p></li></ul></li> <li><p>5开头表示服务端错误：</p> <ul><li>500</li></ul></li></ul> <h2 id="_5-网络osi七层模型都有哪些-tcp是哪一层的-中级"><a href="#_5-网络osi七层模型都有哪些-tcp是哪一层的-中级" class="header-anchor">#</a> 5. 网络OSI七层模型都有哪些？TCP是哪一层的（中级）</h2> <ul><li><p>七层模型：</p> <ul><li><p>应用层</p></li> <li><p>表示层</p></li> <li><p>会话层</p></li> <li><p>传输层</p></li> <li><p>网络层</p></li> <li><p>数据链路层</p></li> <li><p>物理层</p></li></ul></li> <li><p>TCP<strong>属于传输层</strong></p></li></ul> <h2 id="_6-http1-0-和http1-1-还有-http2-有什么区别-中级"><a href="#_6-http1-0-和http1-1-还有-http2-有什么区别-中级" class="header-anchor">#</a> 6. http1.0 和http1.1，还有 http2 有什么区别？（中级）</h2> <ul><li><p>http0.9 只能进行get请求。</p></li> <li><p>http1.0 添加了POST，HEAD，OPTION，PUT，DELETE 等。</p></li> <li><p>http1.1 增加了长连接 keep-alive，增加了 host 域，而且节约带宽。</p></li> <li><p>http2 多路复用，头部压缩，服务器推送。</p></li></ul> <h2 id="_7-https和http有什么区别-https的实现原理-高级"><a href="#_7-https和http有什么区别-https的实现原理-高级" class="header-anchor">#</a> 7. https和http有什么区别，https的实现原理？（高级）</h2> <ul><li>http 无状态无连接，而且是明文传输，不安全。</li> <li>https 传输内容加密，身份验证，保证数据完整性。</li> <li>https 实现原理：
<ul><li>首先客户端向服务端发起一个随机值，以及一个加密算法。</li> <li>服务端收到后返回一个协商好的加密算法，以及另一个随机值。</li> <li>服务端在发送一个公钥 CA。</li> <li>客户端收到以后先验证 CA 是否有效，如果无效则报错弹窗，有过有效则进行下一步操作。</li> <li>客户端使用之前的两个随机值和一个预主密钥组成一个会话密钥，在通过服务端传来的公钥加密把会话密钥发送给服务端。</li> <li>服务端收到后使用私钥解密，得到两个随机值和预主密钥，然后组装成会话密钥。</li> <li>客户端在向服务端发起一条信息，这条信息使用会话秘钥加密，用来验证服务端时候能收到加密的信息。</li> <li>服务端收到信息后返回一个会话秘钥加密的信息。</li> <li>都收到以后 SSL 层连接建立成功。</li></ul></li></ul> <h2 id="_8-localstorage、sessionstorage、cookie、session-之间有什么区别-中级"><a href="#_8-localstorage、sessionstorage、cookie、session-之间有什么区别-中级" class="header-anchor">#</a> 8. localStorage、SessionStorage、cookie、session 之间有什么区别？（中级）</h2> <ul><li><p>localStorage</p> <ul><li><p>生命周期：关闭浏览器后数据依然保留，除非手动清除，否则一直在。</p></li> <li><p>作用域：相同浏览器的不同标签在同源情况下可以共享 localStorage。</p></li></ul></li> <li><p>sessionStorage</p> <ul><li><p>生命周期：关闭浏览器或者标签后即失效。</p></li> <li><p>作用域：只在当前标签可用，当前标签的 iframe 中且同源可以共享。</p></li></ul></li> <li><p>cookie</p> <ul><li><p>是保存在客户端的，一般由后端设置值，可以设置过期时间。</p></li> <li><p>储存大小只有4K。</p></li> <li><p>一般用来保存用户的信息的。</p></li> <li><p>在 http 下 cookie 是明文传输的,较不安全。</p></li> <li><p>cookie 属性有：</p> <ul><li><p>http-only:不能被客户端更改访问，防止 XSS 攻击(保证 cookie 安全性的操作)。</p></li> <li><p>Secure：只允许在 https下传输。</p></li> <li><p>Max-age: cookie 生成后失效的秒数。</p></li> <li><p>expire: cookie 的最长有效时间，若不设置则 cookie 生命期与会话期相同。</p></li></ul></li></ul></li> <li><p>session</p> <ul><li>session 是保存在服务端的。</li> <li>session 的运行依赖 sessionId，而 sessionId 又保存在 cookie 中，所以如果禁用的 cookie，session 也是不能用的，不过硬要用也可以，可以把sessionId 保存在 URL 中。</li> <li>session 一般用来跟踪用户的状态。</li> <li>session  的安全性更高，保存在服务端，不过一般为使服务端性能更加，会考虑部分信息保存在 cookie 中。</li></ul></li></ul> <h2 id="_9-localstorage-存满了怎么办-中级"><a href="#_9-localstorage-存满了怎么办-中级" class="header-anchor">#</a> 9. localstorage 存满了怎么办？（中级）</h2> <ul><li><p>划分域名，各域名下的存储空间由各业务组统一规划使用。</p></li> <li><p>跨页面传数据：考虑单页应用、采用url传输数据。</p></li> <li><p>最后兜底方案：情调别人的存储。</p></li></ul> <h2 id="_10-怎么使用cookie保存用户信息-中级"><a href="#_10-怎么使用cookie保存用户信息-中级" class="header-anchor">#</a> 10. 怎么使用cookie保存用户信息（中级）</h2> <p>document.cookie(“名字 = 数据;expire=时间”)。</p> <h2 id="_11-怎么删除cookie-中级"><a href="#_11-怎么删除cookie-中级" class="header-anchor">#</a> 11. 怎么删除cookie（中级）</h2> <p>目前没有提供删除的操作，但是可以把它的 Max-age 设置为0，也就是立马失效，也就是删除了。</p> <h2 id="_12-get和post的区别-中级"><a href="#_12-get和post的区别-中级" class="header-anchor">#</a> 12. Get和Post的区别（中级）</h2> <ul><li><p>冪等/不冪等(可缓存/不可缓存)。</p> <ul><li><p>get 请求是冪等的，所以get请求的数据是可以缓存的。</p></li> <li><p>而 post 请求是不冪等的，查询查询对数据是有副作用的，是不可缓存的。</p></li></ul></li> <li><p>传参</p> <ul><li><p>get 传参，参数是在url中的。</p> <ul><li>准确的说 get 传参也可以放到 body 中，只不过不推荐使用。</li></ul></li> <li><p>post 传参，参数是在请求体中。</p> <ul><li>准确的说 post 传参也可以放到 url 中，只不过不推荐使用。</li></ul></li></ul></li> <li><p>安全性</p> <ul><li><p>get 较不安全。</p></li> <li><p>post 较为安全。</p></li> <li><p>准确的说两者都不安全，都是明文传输的，在路过公网的时候都会被访问到，不管是 url 还是 header 还是 body，都会被访问到，要想做到安全，就需要使用 https。</p></li></ul></li> <li><p>参数长度</p> <ul><li><p>get 参数长度有限，是较小的。</p> <ul><li>准确来说，get 在 url 传参的时候是很小的。</li></ul></li> <li><p>post 传参长度不受限制。</p></li></ul></li> <li><p>发送数据</p> <ul><li>post 传参发送两个请求包，一个是请求头，一个是请求体，请求头发送后服务器进行验证，要是验证通过的话就会给客户端发送一个100-continue 的状态码，然后就会发送请求体。</li></ul></li> <li><p>字符编码</p> <ul><li>get 在 url 上传输的时候只允许 ASCII 编码。</li></ul></li></ul> <h2 id="_13-讲讲http缓存-高级"><a href="#_13-讲讲http缓存-高级" class="header-anchor">#</a> 13. 讲讲http缓存（高级）</h2> <ul><li><p>缓存分为强缓存和协商缓存。</p></li> <li><p>强缓存</p> <ul><li><p>在浏览器加载资源时，先看看<code>cache-control</code>里的<code>max-age</code>，判断数据有没有过期，如果没有直接使用该缓存 ，有些用户可能会在没有过期的时候就点了刷新按钮，这个时候浏览器就回去请求服务端，要想避免这样做，可以在<code>cache-control</code>里面加一个<code>immutable</code>。</p></li> <li><p>public</p> <ul><li>允许客户端和虚拟服务器缓存该资源，cache-control 中的一个属性。</li></ul></li> <li><p>private</p> <ul><li>只允许客户端缓存该资源。</li></ul></li> <li><p>no-storage</p> <ul><li>不允许强缓存，可以协商缓存。</li></ul></li> <li><p>no-cache</p> <ul><li>不允许缓存。</li></ul></li></ul></li> <li><p>协商缓存</p> <ul><li><p>浏览器加载资源时，没有命中强缓存，这时候就去请求服务器，去请求服务器的时候，会带着两个参数，一个是<code>If-None-Match</code>，也就是响应头中的<code>etag</code>属性，每个文件对应一个<code>etag</code>;另一个参数是<code>If-Modified-Since</code>,也就是响应头中的<code>Last-Modified</code>属性，带着这两个参数去检验缓存是否真的过期，如果没有过期，则服务器会给浏览器返回一个304状态码，表示缓存没有过期，可以使用旧缓存。</p></li> <li><p>etag 的作用</p> <ul><li>有时候编辑了文件，但是没有修改，但是<code>last-modified</code>属性的时间就会改变，导致服务器会重新发送资源，但是<code>etag</code>的出现就完美的避免了这个问题，他是文件的唯一标识。</li></ul></li></ul></li></ul> <p>缓存位置：</p> <ul><li>内存缓存 Memory-Cache。</li> <li>离线缓存 Service-Worker。</li> <li>磁盘缓存 Disk-Cache。</li> <li>推送缓存 Push-Cache。</li></ul> <h2 id="_14-tcp-和udp有什么区别-中级"><a href="#_14-tcp-和udp有什么区别-中级" class="header-anchor">#</a> 14. <code>tcp</code> 和<code>udp</code>有什么区别？（中级）</h2> <ul><li><p>连接方面</p> <ul><li><p>tcp 面向连接，udp 不需要连接。</p> <ul><li>tcp 需要三次握手四次挥手请求连接。</li></ul></li></ul></li> <li><p>可靠性</p> <ul><li><p>tcp 是可靠传输；一旦传输过程中丢包的话会进行重传。</p></li> <li><p>udp 是不可靠传输，但会最大努力交付。</p></li></ul></li> <li><p>工作效率</p> <ul><li><p>UDP 实时性高，比 TCP 工作效率高。</p> <ul><li>因为不需要建立连接，更不需要复杂的握手挥手以及复杂的算法，也没有重传机制。</li></ul></li></ul></li> <li><p>是否支持多对多</p> <ul><li><p>TCP 是点对点的。</p></li> <li><p>UDP 支持一对一，一对多，多对多。</p></li></ul></li> <li><p>首部大小</p> <ul><li>tcp 首部占20字节。</li> <li>udp 首部占8字节。</li></ul></li></ul> <h2 id="_15-从浏览器输入url后都经历了什么-高级"><a href="#_15-从浏览器输入url后都经历了什么-高级" class="header-anchor">#</a> 15. 从浏览器输入url后都经历了什么？（高级）</h2> <ul><li><p>先进行 DNS 域名解析，先查看本地 hosts 文件，查看有没有当前域名对应的 ip 地址，若有直接发起请求，没有的话会在本地域名服务器去查找，该查找属于递归查找，如果本地域名服务器没查找到，会从根域名服务器查找，该过程属于迭代查找，根域名会告诉你从哪个与服务器查找，最后查找到对应的ip地址后把对应规则保存到本地的 hosts 文件中。</p></li> <li><p>如果想加速以上及之后的http请求过程的话可以使用缓存服务器 CDN，CDN 过程如下：</p> <ul><li><p>用户输入url地址后，本地DNS会解析url地址，不过会把最终解析权交给 CNAME 指向的 CDN 的 DNS 服务器。</p></li> <li><p>CDN 的 DNS 服务器会返回给浏览器一个全局负载均衡 IP。</p></li> <li><p>用户会根据全局负载均衡 IP 去请求全局负载均衡服务器。</p></li> <li><p>全局负载均衡服务器会根据用户的 IP 地址，url 地址，会告诉用户一个区域负载均衡设备，让用户去请求它。</p></li> <li><p>区域负载均衡服务器会为用户选择一个离用户较近的最优的缓存服务器，并把 ip 地址给到用户。</p></li> <li><p>用户想缓存服务器发送请求，如果请求不到想要的资源的话，会一层层向上一级查找，知道查找到为止。</p></li></ul></li> <li><p>进行http请求，三次握手四次挥手建立断开连接。</p></li> <li><p>服务器处理，可能返回304也可能返回200。</p> <ul><li><p>返回304说明客户端缓存可用，直接使用客户端缓存即可，该过程属于协商缓存。</p></li> <li><p>返回200的话会同时返回对应的数据。</p></li></ul></li> <li><p>客户端自上而下执行代码</p> <ul><li><p>其中遇到 CSS 加载的时候，CSS 不会阻塞 DOM 树的解析，但是会阻塞 DOM 树的渲染，并且 CSS 会阻塞下面的JS的执行。</p></li> <li><p>然后是 JS 加载，JS 加载会影响 DOM 的解析，之所以会影响，是因为 JS 可能会删除添加节点，如果先解析后加载的话，DOM 树还得重新解析，性能比较差。如果不想阻塞 DOM 树的解析的话，可以给 script 添加一个 defer 或者 async 的标签。</p> <ul><li><p>defer：不会阻塞 DOM 解析，等 DOM 解析完之后在运行，在<code>DOMContentloaed</code>之前。</p></li> <li><p>async: 不会阻塞 DOM 解析，等该资源下载完成之后立刻运行。</p></li></ul></li> <li><p>进行 DOM 渲染和Render树渲染。</p> <ul><li>获取 html 并解析为 Dom 树。</li> <li>解析 css 并形成一个cssom(css树)。</li> <li>将 cssom 和 dom 合并成渲染树(render树)。</li> <li>进行布局(layout)。</li> <li>进行绘制(painting)。</li> <li>回流重绘
<ul><li>回流必将引起重绘，重绘不一定引起回流。</li></ul></li></ul></li></ul></li></ul> <h2 id="_16-滑动窗口和拥塞窗口有什么区别-高级"><a href="#_16-滑动窗口和拥塞窗口有什么区别-高级" class="header-anchor">#</a> 16. 滑动窗口和拥塞窗口有什么区别？（高级）</h2> <ul><li><p>滑动窗口</p> <ul><li><p>发送窗口永远小于或等于接收窗口，发送窗口的大小取决于接收窗口的大小。</p></li> <li><p>控制流量来保证 TCP 的可靠传输(不控制流量的话可能会溢出)。</p></li> <li><p>发送方的数据分为</p> <ul><li>1已发送，接收到ACK的。</li> <li>2已发送，未接收到ACK的。</li> <li>3未发送，但允许发送的。</li> <li>4未发送，但不允许发送的。</li> <li>2和3表示发送窗口。</li></ul></li> <li><p>接收方</p> <ul><li>1.已接收。</li> <li>2.未接受但准备接受。</li> <li>3.未接受不准备接受。</li></ul></li></ul></li> <li><p>拥塞窗口</p> <ul><li><p><strong>防止过多的数据注入到网络中，这样可以使网络中的路由器或链路不致过载</strong>。</p></li> <li><p>是一个全局性的过程。</p></li> <li><p>方法</p> <ul><li>慢开始、拥塞避免、快重传、快恢复。</li></ul></li></ul></li></ul> <h2 id="_17-什么是cdn-中级"><a href="#_17-什么是cdn-中级" class="header-anchor">#</a> 17. 什么是CDN？（中级）</h2> <ol><li><p>首先访问本地的 DNS ，如果没有命中，继续递归或者迭代查找，直到命中拿到对应的 IP 地址。</p></li> <li><p>拿到对应的 IP 地址之后服务器端发送请求到目的地址。注意这里返回的不直接是 cdn 服务器的 IP 地址，而是全局负载均衡系统的 IP 地址。</p></li> <li><p>全局负载均衡系统会根据客户端的 IP地址和请求的 url 和相应的区域负载均衡系统通信。</p></li> <li><p>区域负载均衡系统拿着这两个东西获取距离客户端最近且有相应资源的cdn 缓存服务器的地址，返回给全局负载均衡系统。</p></li> <li><p>全局负载均衡系统返回确定的 cdn 缓存服务器的地址给客户端。</p></li> <li><p>客户端请求缓存服务器上的文件。</p></li></ol> <h2 id="_18-什么是xss-什么是csrf-中级"><a href="#_18-什么是xss-什么是csrf-中级" class="header-anchor">#</a> 18. 什么是xss？什么是csrf？（中级）</h2> <ul><li><p>xss 脚本注入</p> <ul><li><p>不需要你做任何的登录认证，它会通过合法的操作(比如在 url 中输入、在评论框中输入)，向你的页面注入脚本(可能是 js、hmtl 代码块等)。</p></li> <li><p>防御</p> <ul><li><p>编码：对用户输入的数据进行HTML Entity 编码。把字符转换成 转义字符。Encode 的作用是将 $var 等一些字符进行转化，使得浏览器在最终输出结果上是一样的。</p></li> <li><p>过滤：移除用户输入的和事件相关的属性。</p></li></ul></li></ul></li> <li><p>csrf 跨域请求伪造</p> <ul><li><p>在未退出 A 网站的前提下访问 B，B 使用 A 的 cookie 去访问服务器。</p></li> <li><p>防御：token，每次用户提交表单时需要带上 token(伪造者访问不到)，如果 token 不合法，则服务器拒绝请求。</p></li></ul></li></ul> <h2 id="_19-owasp-top10-10项最严重的web应用程序安全风险列表-都有哪些-高级"><a href="#_19-owasp-top10-10项最严重的web应用程序安全风险列表-都有哪些-高级" class="header-anchor">#</a> 19. OWASP top10 (10项最严重的Web应用程序安全风险列表)都有哪些?（高级）</h2> <ul><li><p>SQL 注入</p> <ul><li>在输入框里输入 sql 命令。</li></ul></li> <li><p>失效的身份验证</p> <ul><li>拿到别人的cookie来向服务端发起请求，就可以做到登陆的目的。</li></ul></li> <li><p>敏感数据泄露</p> <ul><li><p>明文传输状态下可能被抓包拦截，这时候就造成数据泄露。</p> <ul><li>想做到抓包，比如在网吧，共享一个猫上网，这时候抓包就可行，方法网上一搜一大把。</li></ul></li> <li><p>不过此风险大部分网站都能得到很好的解决，https或者md5加密都可以。</p></li></ul></li> <li><p>XML 外部实体。</p></li> <li><p>失效的访问控制。</p></li> <li><p>安全配置错误。</p></li> <li><p>XSS。</p></li> <li><p>不安全的反序列化。</p></li> <li><p>使用含有已知漏洞的组件。</p></li> <li><p>不足的日志记录和监控。</p></li></ul> <h2 id="_20-什么是回流-什么是重绘-高级"><a href="#_20-什么是回流-什么是重绘-高级" class="header-anchor">#</a> 20. 什么是回流 什么是重绘？（高级）</h2> <ul><li><p>回流</p> <ul><li><p>render 树中一部分或全部元素需要改变尺寸、布局、或着需要隐藏而需要重新构建，这个过程叫做回流。</p></li> <li><p>回流必将引起重绘。</p></li></ul></li> <li><p>重绘</p> <ul><li>render 树中一部分元素改变，而不影响布局的，只影响外观的，比如颜色。该过程叫做重绘。</li></ul></li> <li><p>页面至少经历一次回流和重绘(第一次加载的时候)。</p></li></ul> <h2 id="_21-跨域的方式都有哪些-他们的特点是什么-高级"><a href="#_21-跨域的方式都有哪些-他们的特点是什么-高级" class="header-anchor">#</a> 21. 跨域的方式都有哪些？他们的特点是什么?（高级）</h2> <ul><li>JSONP
<ul><li><code>JSONP</code>通过同源策略涉及不到的&quot;漏洞&quot;，也就是像<code>img</code>中的<code>src</code>，<code>link</code>标签的<code>href</code>,<code>script</code>的<code>src</code>都没有被同源策略限制到。</li> <li><code>JSONP</code>只能 get 请求。</li> <li>源码:</li></ul></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">addScriptTag</span><span class="token punctuation">(</span><span class="token parameter">src</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> script <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;script&quot;</span><span class="token punctuation">)</span>
    script<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'type'</span><span class="token punctuation">,</span><span class="token string">'text/javascript'</span><span class="token punctuation">)</span>
    script<span class="token punctuation">.</span>src <span class="token operator">=</span> src
    document<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>script<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
 
<span class="token comment">// 回调函数</span>
<span class="token keyword">function</span> <span class="token function">endFn</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 前后端商量好，后端如果传数据的话，返回`endFn({message:'hello'})`</span>
</code></pre></div><ul><li>document.domain
<ul><li>只能跨一级域名相同的域(www.qq.om和www.id.qq.com , 二者都有 qq.com)。</li> <li>使用方法
<ul><li><code>&gt;</code>表示输入， <code>&lt;</code>表示输出 ，以下是在<code>www.id.qq.com</code>网站下执行的操作。</li></ul></li></ul></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&gt;</span> <span class="token keyword">var</span> w <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&quot;https://www.qq.com&quot;</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span> <span class="token keyword">undefined</span>
<span class="token operator">&gt;</span> w<span class="token punctuation">.</span>document
✖ <span class="token constant">VM3061</span><span class="token operator">:</span><span class="token number">1</span> Uncaught DOMException<span class="token operator">:</span> Blocked a frame <span class="token keyword">with</span> origin <span class="token string">&quot;https://id.qq.com&quot;</span> from accessing a cross<span class="token operator">-</span>origin frame<span class="token punctuation">.</span>
    at <span class="token operator">&lt;</span>anonymous<span class="token operator">&gt;</span><span class="token operator">:</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">3</span>
<span class="token operator">&gt;</span> document<span class="token punctuation">.</span>domain
<span class="token operator">&lt;</span> <span class="token string">&quot;id.qq.com&quot;</span>
<span class="token operator">&gt;</span> document<span class="token punctuation">.</span>domain <span class="token operator">=</span> <span class="token string">'qq.com'</span>
<span class="token operator">&lt;</span> <span class="token string">&quot;qq.com&quot;</span>
<span class="token operator">&gt;</span> w<span class="token punctuation">.</span>document
<span class="token operator">&lt;</span> #document
</code></pre></div><ul><li><code>location.hash</code>+<code>iframe</code> <ul><li>因为 hash 传值只能单向传输，所有可以通过一个中间网页，a 若想与 b 进行通信，可以通过一个与 a 同源的 c 作为中间网页，a 传给 b，b 传给 c，c 再传回 a。
<ul><li>具体做法：在 a 中放一个回调函数，方便 c 回调。放一个<code>iframe</code>标签，随后传值。</li></ul></li></ul></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>iframe id<span class="token operator">=</span><span class="token string">&quot;iframe&quot;</span> src<span class="token operator">=</span><span class="token string">&quot;http://www.domain2.com/b.html&quot;</span> style<span class="token operator">=</span><span class="token string">&quot;display:none;&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>iframe<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
    <span class="token keyword">var</span> iframe <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'iframe'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
    <span class="token comment">// 向b.html传hash值</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        iframe<span class="token punctuation">.</span>src <span class="token operator">=</span> iframe<span class="token punctuation">.</span>src <span class="token operator">+</span> <span class="token string">'#user=admin'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token comment">// 开放给同域c.html的回调方法</span>
    <span class="token keyword">function</span> <span class="token function">onCallback</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'data from c.html ---&gt; '</span> <span class="token operator">+</span> res<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span> 
</code></pre></div><ul><li>在 b 中监听哈希值改变，一旦改变，把 a 要接收的值传给</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>iframe id<span class="token operator">=</span><span class="token string">&quot;iframe&quot;</span> src<span class="token operator">=</span><span class="token string">&quot;http://www.domain1.com/c.html&quot;</span> style<span class="token operator">=</span><span class="token string">&quot;display:none;&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>iframe<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
    <span class="token keyword">var</span> iframe <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'iframe'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
    <span class="token comment">// 监听a.html传来的hash值，再传给c.html</span>
    window<span class="token punctuation">.</span><span class="token function-variable function">onhashchange</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        iframe<span class="token punctuation">.</span>src <span class="token operator">=</span> iframe<span class="token punctuation">.</span>src <span class="token operator">+</span> location<span class="token punctuation">.</span>hash<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
 
</code></pre></div><ul><li>在 c 中监听哈希值改变，一旦改变，调用 a 中的回调函数</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
    <span class="token comment">// 监听b.html传来的hash值</span>
    window<span class="token punctuation">.</span><span class="token function-variable function">onhashchange</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 再通过操作同域a.html的js回调，将结果传回</span>
        window<span class="token punctuation">.</span>parent<span class="token punctuation">.</span>parent<span class="token punctuation">.</span><span class="token function">onCallback</span><span class="token punctuation">(</span><span class="token string">'hello: '</span> <span class="token operator">+</span> location<span class="token punctuation">.</span>hash<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">'#user='</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

</code></pre></div><ul><li><p><code>window.name</code>+<code>iframe</code></p> <ul><li><p>利 Access 用<code>window.name</code>不会改变(而且很大)来获取数据。</p></li> <li><p>a 要获取 b 的数据，b 中把数据转为 json 格式放到<code>window.name</code>中。</p></li></ul></li> <li><p><code>postMessage</code></p> <ul><li><p>a 窗口向 b 窗口发送数据，先把 data 转为 json 格式，在发送。提前设置好 messge 监听。</p></li> <li><p>b 窗口进行<code>message</code>监听，监听到了以同样的方式返回数据。</p></li> <li><p>a 窗口监听到 message，在进行一系列操作。</p></li></ul></li> <li><p><code>CORS</code></p> <ul><li><p>通过自定义请求头来让服务器和浏览器进行沟通。</p></li> <li><p>有简单请求和非简单请求</p></li> <li><p>满足以下条件，就是简单请求：</p> <ul><li><p>请求方法是 HEAD、POST、GET。</p></li> <li><p>请求头只有<code>Accept</code>、<code>AcceptLanguage</code>、<code>ContentType</code>、<code>ContentLanguage</code>、<code>Last-Event-Id</code>。</p></li></ul></li> <li><p>简单请求，浏览器自动添加一个 Origin 字段。</p> <ul><li><p>同时后端需要设置的请求头</p> <ul><li><p>Access-Control-Allow-Origin --必须。</p></li> <li><p>Access-Control-Expose-Headers。</p> <ul><li><code>XMLHttpRequest</code>只能拿到六个字段，要想拿到其他的需要在这里指定。</li></ul></li></ul></li> <li><p>Access-Control-Allow-Credentials --是否可传 cookie。</p></li> <li><p>要是想传 cookie，前端需要设置<code>xhr.withCredentials = true</code>，后端设置 Access-Control-Allow-Credentials。</p></li></ul></li> <li><p>非简单请求，浏览器判断是否为简单请求，如果是非简单请求，则 浏览器先发送一个 header 头为 option 的请求进行预检。</p> <ul><li>预检请求格式(请求行 的请求方法为 OPTIONS (专门用来询问的))
<ul><li>Origin</li> <li>Access-Control-Request-Method</li> <li>Access-Control-Request-Header</li></ul></li></ul></li> <li><p>浏览器检查了 Origin、Access-Control-Allow-Method和Access-Control-Request-Header 之后确认允许就可以做出回应了。</p></li> <li><p>通过预检后，浏览器接下来的每次请求就类似于简单请求了。</p></li></ul></li> <li><p>nginx代理跨域</p> <ul><li>nginx模拟一个虚拟服务器，因为服务器与服务器之间是不存在跨域的。</li> <li>发送数据时 ，客户端-&gt;nginx-&gt;服务端。</li> <li>返回数据时，服务端-&gt;nginx-&gt;客户端。</li></ul></li></ul> <h2 id="_22-关于http-2-0你知道多少-中级"><a href="#_22-关于http-2-0你知道多少-中级" class="header-anchor">#</a> 22. 关于Http 2.0你知道多少？（中级）</h2> <ul><li>HTTP/2引入了“服务端推（server push）”的概念，它允许服务端在客户端需要数据之前就主动地将数据发送到客户端缓存中，从而提高性能。</li> <li>HTTP/2提供更多的加密支持</li> <li>HTTP/2使用多路技术，允许多个消息在一个连接上同时交差。</li> <li>它增加了头压缩（header compression），因此即使非常小的请求，其请求和响应的header都只会占用很小比例的带宽。</li></ul></div> <!----> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/notes-page/interview/types/09-算法篇.html" class="prev">
        前端面试题：常用算法
      </a></span> <span class="next"><a href="/notes-page/interview/types/11-性能优化篇.html">
        性能优化篇
      </a>
      →
    </span></p></div>  <div class="el-dialog__wrapper" style="display:none;"><div role="dialog" aria-modal="true" aria-label="dialog" class="el-dialog" style="margin-top:15vh;width:420px;"><div class="el-dialog__header"><span class="el-dialog__title"></span><button type="button" aria-label="Close" class="el-dialog__headerbtn"><i class="el-dialog__close el-icon el-icon-close"></i></button></div><!----><div class="el-dialog__footer"><span class="dialog-footer"><button type="button" class="el-button el-button--default"><!----><!----><span>取 消</span></button> <button type="button" class="el-button el-button--primary"><!----><!----><span>确 定</span></button></span></div></div></div></main> <!----></div><div class="global-ui"><!----><div tabindex="-1" role="dialog" aria-hidden="true" class="pswp"><div class="pswp__bg"></div> <div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div> <div class="pswp__item"></div> <div class="pswp__item"></div></div> <div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div> <button class="pswp__button pswp__button--close"></button> <button class="pswp__button pswp__button--share"></button> <button class="pswp__button pswp__button--fs"></button> <button class="pswp__button pswp__button--zoom"></button> <div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div> <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div> <button class="pswp__button pswp__button--arrow--left"></button> <button class="pswp__button pswp__button--arrow--right"></button> <div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div></div></div>
    <script src="/notes-page/assets/js/app.1371add3.js" defer></script><script src="/notes-page/assets/js/8.81a428d2.js" defer></script><script src="/notes-page/assets/js/126.7f1959a0.js" defer></script>
  </body>
</html>
