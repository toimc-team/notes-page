<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Electron打包 | 大前端 - 前端高级进阶</title>
    <meta name="generator" content="VuePress 1.9.9">
    <script>
      var _hmt = _hmt || [];
      (function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?8b87000f915d1fe37e079a25c2e12d6b";
        var s = document.getElementsByTagName("script")[0]; 
        s.parentNode.insertBefore(hm, s);
      })();
      </script>
    <meta name="description" content="大前端课程电子书">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/notes-page/assets/css/0.styles.0140c62c.css" as="style"><link rel="preload" href="/notes-page/assets/js/app.d148bf7d.js" as="script"><link rel="preload" href="/notes-page/assets/js/5.5563c583.js" as="script"><link rel="preload" href="/notes-page/assets/js/17.dd1d8b92.js" as="script"><link rel="prefetch" href="/notes-page/assets/js/10.3114a48a.js"><link rel="prefetch" href="/notes-page/assets/js/100.30ae7d42.js"><link rel="prefetch" href="/notes-page/assets/js/101.aac1ff40.js"><link rel="prefetch" href="/notes-page/assets/js/102.972c983c.js"><link rel="prefetch" href="/notes-page/assets/js/103.32520c62.js"><link rel="prefetch" href="/notes-page/assets/js/104.11c84286.js"><link rel="prefetch" href="/notes-page/assets/js/105.7cab410a.js"><link rel="prefetch" href="/notes-page/assets/js/106.c55c4b3c.js"><link rel="prefetch" href="/notes-page/assets/js/107.a63cc145.js"><link rel="prefetch" href="/notes-page/assets/js/108.813f466b.js"><link rel="prefetch" href="/notes-page/assets/js/109.d5550534.js"><link rel="prefetch" href="/notes-page/assets/js/11.4159714f.js"><link rel="prefetch" href="/notes-page/assets/js/110.9defd4bf.js"><link rel="prefetch" href="/notes-page/assets/js/111.73eda3f3.js"><link rel="prefetch" href="/notes-page/assets/js/112.23475208.js"><link rel="prefetch" href="/notes-page/assets/js/113.de558ba6.js"><link rel="prefetch" href="/notes-page/assets/js/114.9dafe5c1.js"><link rel="prefetch" href="/notes-page/assets/js/115.8868cb09.js"><link rel="prefetch" href="/notes-page/assets/js/116.193d05e0.js"><link rel="prefetch" href="/notes-page/assets/js/117.8faef60c.js"><link rel="prefetch" href="/notes-page/assets/js/118.24cadc7c.js"><link rel="prefetch" href="/notes-page/assets/js/119.96308b65.js"><link rel="prefetch" href="/notes-page/assets/js/12.e6d3c110.js"><link rel="prefetch" href="/notes-page/assets/js/120.80cebf10.js"><link rel="prefetch" href="/notes-page/assets/js/121.34a50bd9.js"><link rel="prefetch" href="/notes-page/assets/js/122.c3b43d1c.js"><link rel="prefetch" href="/notes-page/assets/js/123.0c6ec600.js"><link rel="prefetch" href="/notes-page/assets/js/124.2174e02d.js"><link rel="prefetch" href="/notes-page/assets/js/125.92b84c5f.js"><link rel="prefetch" href="/notes-page/assets/js/126.149aa66f.js"><link rel="prefetch" href="/notes-page/assets/js/127.028c24ab.js"><link rel="prefetch" href="/notes-page/assets/js/128.3db2611c.js"><link rel="prefetch" href="/notes-page/assets/js/129.886dc7a8.js"><link rel="prefetch" href="/notes-page/assets/js/13.09758003.js"><link rel="prefetch" href="/notes-page/assets/js/130.d8021a7c.js"><link rel="prefetch" href="/notes-page/assets/js/131.23d85a06.js"><link rel="prefetch" href="/notes-page/assets/js/132.be246938.js"><link rel="prefetch" href="/notes-page/assets/js/133.20c4613d.js"><link rel="prefetch" href="/notes-page/assets/js/134.189010ed.js"><link rel="prefetch" href="/notes-page/assets/js/135.8a6485f4.js"><link rel="prefetch" href="/notes-page/assets/js/136.3fb09bec.js"><link rel="prefetch" href="/notes-page/assets/js/137.c0bcf760.js"><link rel="prefetch" href="/notes-page/assets/js/138.60d6d844.js"><link rel="prefetch" href="/notes-page/assets/js/139.81b25606.js"><link rel="prefetch" href="/notes-page/assets/js/14.5d4695bb.js"><link rel="prefetch" href="/notes-page/assets/js/140.a26ddc25.js"><link rel="prefetch" href="/notes-page/assets/js/141.0858da14.js"><link rel="prefetch" href="/notes-page/assets/js/142.1a694307.js"><link rel="prefetch" href="/notes-page/assets/js/143.a4777b71.js"><link rel="prefetch" href="/notes-page/assets/js/144.f0e04a3d.js"><link rel="prefetch" href="/notes-page/assets/js/145.24decdca.js"><link rel="prefetch" href="/notes-page/assets/js/146.da4a2083.js"><link rel="prefetch" href="/notes-page/assets/js/147.b475ac60.js"><link rel="prefetch" href="/notes-page/assets/js/148.2cf670a7.js"><link rel="prefetch" href="/notes-page/assets/js/149.bf659e37.js"><link rel="prefetch" href="/notes-page/assets/js/15.f0744377.js"><link rel="prefetch" href="/notes-page/assets/js/150.80b76511.js"><link rel="prefetch" href="/notes-page/assets/js/151.de11891f.js"><link rel="prefetch" href="/notes-page/assets/js/152.15aafea2.js"><link rel="prefetch" href="/notes-page/assets/js/153.575b0186.js"><link rel="prefetch" href="/notes-page/assets/js/154.db1dc446.js"><link rel="prefetch" href="/notes-page/assets/js/155.1dcdd44f.js"><link rel="prefetch" href="/notes-page/assets/js/156.114c73e2.js"><link rel="prefetch" href="/notes-page/assets/js/157.66f91df7.js"><link rel="prefetch" href="/notes-page/assets/js/158.b754b6dd.js"><link rel="prefetch" href="/notes-page/assets/js/159.e1bf8991.js"><link rel="prefetch" href="/notes-page/assets/js/16.2d3a744c.js"><link rel="prefetch" href="/notes-page/assets/js/160.7933a9fa.js"><link rel="prefetch" href="/notes-page/assets/js/161.0119e8da.js"><link rel="prefetch" href="/notes-page/assets/js/162.7abfbf0f.js"><link rel="prefetch" href="/notes-page/assets/js/163.fd44ca48.js"><link rel="prefetch" href="/notes-page/assets/js/164.a6b745e2.js"><link rel="prefetch" href="/notes-page/assets/js/165.61fd4658.js"><link rel="prefetch" href="/notes-page/assets/js/166.fa3f7a92.js"><link rel="prefetch" href="/notes-page/assets/js/167.00cb1638.js"><link rel="prefetch" href="/notes-page/assets/js/168.5a53d0e8.js"><link rel="prefetch" href="/notes-page/assets/js/169.68f083c4.js"><link rel="prefetch" href="/notes-page/assets/js/170.67dfc6cf.js"><link rel="prefetch" href="/notes-page/assets/js/171.9ad0691c.js"><link rel="prefetch" href="/notes-page/assets/js/172.0902593f.js"><link rel="prefetch" href="/notes-page/assets/js/173.ae17105f.js"><link rel="prefetch" href="/notes-page/assets/js/174.6b6bf98a.js"><link rel="prefetch" href="/notes-page/assets/js/175.a974960a.js"><link rel="prefetch" href="/notes-page/assets/js/176.3080c0af.js"><link rel="prefetch" href="/notes-page/assets/js/177.4a9dcf4e.js"><link rel="prefetch" href="/notes-page/assets/js/178.4572a555.js"><link rel="prefetch" href="/notes-page/assets/js/179.954a0cf8.js"><link rel="prefetch" href="/notes-page/assets/js/18.3363e4d9.js"><link rel="prefetch" href="/notes-page/assets/js/180.4017d332.js"><link rel="prefetch" href="/notes-page/assets/js/181.fe7d1964.js"><link rel="prefetch" href="/notes-page/assets/js/182.77b403f3.js"><link rel="prefetch" href="/notes-page/assets/js/183.57a11f38.js"><link rel="prefetch" href="/notes-page/assets/js/184.e7d25cac.js"><link rel="prefetch" href="/notes-page/assets/js/185.b26d299f.js"><link rel="prefetch" href="/notes-page/assets/js/186.8d0b07d1.js"><link rel="prefetch" href="/notes-page/assets/js/187.1287296d.js"><link rel="prefetch" href="/notes-page/assets/js/188.f56772c9.js"><link rel="prefetch" href="/notes-page/assets/js/189.38838eda.js"><link rel="prefetch" href="/notes-page/assets/js/19.851311fc.js"><link rel="prefetch" href="/notes-page/assets/js/190.3ec4e8fe.js"><link rel="prefetch" href="/notes-page/assets/js/191.b5aa3a1a.js"><link rel="prefetch" href="/notes-page/assets/js/192.286e88f7.js"><link rel="prefetch" href="/notes-page/assets/js/193.ed30e999.js"><link rel="prefetch" href="/notes-page/assets/js/194.fbd16d26.js"><link rel="prefetch" href="/notes-page/assets/js/195.0da435d8.js"><link rel="prefetch" href="/notes-page/assets/js/196.fdb6c6f1.js"><link rel="prefetch" href="/notes-page/assets/js/197.574cd3da.js"><link rel="prefetch" href="/notes-page/assets/js/198.450be242.js"><link rel="prefetch" href="/notes-page/assets/js/199.91691cea.js"><link rel="prefetch" href="/notes-page/assets/js/20.ad2a16f9.js"><link rel="prefetch" href="/notes-page/assets/js/200.ea582b0e.js"><link rel="prefetch" href="/notes-page/assets/js/21.97e9cd86.js"><link rel="prefetch" href="/notes-page/assets/js/22.05d8f848.js"><link rel="prefetch" href="/notes-page/assets/js/23.c67a2c99.js"><link rel="prefetch" href="/notes-page/assets/js/24.38905c12.js"><link rel="prefetch" href="/notes-page/assets/js/25.ebf4f42b.js"><link rel="prefetch" href="/notes-page/assets/js/26.4250e54a.js"><link rel="prefetch" href="/notes-page/assets/js/27.a2f52c74.js"><link rel="prefetch" href="/notes-page/assets/js/28.4f355660.js"><link rel="prefetch" href="/notes-page/assets/js/29.0d225910.js"><link rel="prefetch" href="/notes-page/assets/js/30.c99c0632.js"><link rel="prefetch" href="/notes-page/assets/js/31.769de1eb.js"><link rel="prefetch" href="/notes-page/assets/js/32.d59f8f13.js"><link rel="prefetch" href="/notes-page/assets/js/33.af176834.js"><link rel="prefetch" href="/notes-page/assets/js/34.15ea351f.js"><link rel="prefetch" href="/notes-page/assets/js/35.9eaa3ce6.js"><link rel="prefetch" href="/notes-page/assets/js/36.3a02b474.js"><link rel="prefetch" href="/notes-page/assets/js/37.db12a2e5.js"><link rel="prefetch" href="/notes-page/assets/js/38.249ada13.js"><link rel="prefetch" href="/notes-page/assets/js/39.a403ddbe.js"><link rel="prefetch" href="/notes-page/assets/js/40.f21f4154.js"><link rel="prefetch" href="/notes-page/assets/js/41.13cf9f35.js"><link rel="prefetch" href="/notes-page/assets/js/42.a57b7fbb.js"><link rel="prefetch" href="/notes-page/assets/js/43.9a5b4838.js"><link rel="prefetch" href="/notes-page/assets/js/44.236b3e38.js"><link rel="prefetch" href="/notes-page/assets/js/45.f06bdda2.js"><link rel="prefetch" href="/notes-page/assets/js/46.3eb0b025.js"><link rel="prefetch" href="/notes-page/assets/js/47.c0fc48bb.js"><link rel="prefetch" href="/notes-page/assets/js/48.0a42f992.js"><link rel="prefetch" href="/notes-page/assets/js/49.8d465068.js"><link rel="prefetch" href="/notes-page/assets/js/50.54731cf6.js"><link rel="prefetch" href="/notes-page/assets/js/51.90400a94.js"><link rel="prefetch" href="/notes-page/assets/js/52.41e45f5d.js"><link rel="prefetch" href="/notes-page/assets/js/53.6136aa12.js"><link rel="prefetch" href="/notes-page/assets/js/54.f087409a.js"><link rel="prefetch" href="/notes-page/assets/js/55.dc5be72f.js"><link rel="prefetch" href="/notes-page/assets/js/56.7fe55c6b.js"><link rel="prefetch" href="/notes-page/assets/js/57.af8a18e9.js"><link rel="prefetch" href="/notes-page/assets/js/58.831cb39c.js"><link rel="prefetch" href="/notes-page/assets/js/59.9c658819.js"><link rel="prefetch" href="/notes-page/assets/js/6.d67c4ab7.js"><link rel="prefetch" href="/notes-page/assets/js/60.27de05c7.js"><link rel="prefetch" href="/notes-page/assets/js/61.add70a6e.js"><link rel="prefetch" href="/notes-page/assets/js/62.012d0cbe.js"><link rel="prefetch" href="/notes-page/assets/js/63.16d7bc64.js"><link rel="prefetch" href="/notes-page/assets/js/64.6291832a.js"><link rel="prefetch" href="/notes-page/assets/js/65.6c69dfc2.js"><link rel="prefetch" href="/notes-page/assets/js/66.69f02c16.js"><link rel="prefetch" href="/notes-page/assets/js/67.b935798c.js"><link rel="prefetch" href="/notes-page/assets/js/68.e848cca2.js"><link rel="prefetch" href="/notes-page/assets/js/69.209732c5.js"><link rel="prefetch" href="/notes-page/assets/js/7.27c6b4b8.js"><link rel="prefetch" href="/notes-page/assets/js/70.6af4b8ae.js"><link rel="prefetch" href="/notes-page/assets/js/71.23799cf2.js"><link rel="prefetch" href="/notes-page/assets/js/72.6e95ccc4.js"><link rel="prefetch" href="/notes-page/assets/js/73.ff268e7b.js"><link rel="prefetch" href="/notes-page/assets/js/74.007c9819.js"><link rel="prefetch" href="/notes-page/assets/js/75.2e87e202.js"><link rel="prefetch" href="/notes-page/assets/js/76.63748281.js"><link rel="prefetch" href="/notes-page/assets/js/77.85208a09.js"><link rel="prefetch" href="/notes-page/assets/js/78.82c2a27f.js"><link rel="prefetch" href="/notes-page/assets/js/79.92d629da.js"><link rel="prefetch" href="/notes-page/assets/js/8.e9da00ee.js"><link rel="prefetch" href="/notes-page/assets/js/80.e745da7f.js"><link rel="prefetch" href="/notes-page/assets/js/81.bfe117b9.js"><link rel="prefetch" href="/notes-page/assets/js/82.5fb5b90c.js"><link rel="prefetch" href="/notes-page/assets/js/83.58f8ba4d.js"><link rel="prefetch" href="/notes-page/assets/js/84.51e61d62.js"><link rel="prefetch" href="/notes-page/assets/js/85.a06e8318.js"><link rel="prefetch" href="/notes-page/assets/js/86.6a6c2432.js"><link rel="prefetch" href="/notes-page/assets/js/87.c4bc589d.js"><link rel="prefetch" href="/notes-page/assets/js/88.91fb03ea.js"><link rel="prefetch" href="/notes-page/assets/js/89.69683a44.js"><link rel="prefetch" href="/notes-page/assets/js/9.1d85530b.js"><link rel="prefetch" href="/notes-page/assets/js/90.0fac492b.js"><link rel="prefetch" href="/notes-page/assets/js/91.34e30cd9.js"><link rel="prefetch" href="/notes-page/assets/js/92.2b4e3271.js"><link rel="prefetch" href="/notes-page/assets/js/93.df708ff0.js"><link rel="prefetch" href="/notes-page/assets/js/94.0a9e3fab.js"><link rel="prefetch" href="/notes-page/assets/js/95.c41dbfd9.js"><link rel="prefetch" href="/notes-page/assets/js/96.8c75524a.js"><link rel="prefetch" href="/notes-page/assets/js/97.2120ebba.js"><link rel="prefetch" href="/notes-page/assets/js/98.1d24b6ae.js"><link rel="prefetch" href="/notes-page/assets/js/99.4bcc00e4.js"><link rel="prefetch" href="/notes-page/assets/js/vendors~docsearch.e4a575f9.js"><link rel="prefetch" href="/notes-page/assets/js/vendors~photo-swipe.e76bdbac.js"><link rel="prefetch" href="/notes-page/assets/js/vendors~search-page.c8f33af6.js">
    <link rel="stylesheet" href="/notes-page/assets/css/0.styles.0140c62c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/notes-page/" class="home-link router-link-active"><!----> <span class="site-name">大前端 - 前端高级进阶</span></a> <div class="links"><div id="docsearch"></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>小程序</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/notes-page/project/community-miniapp/" class="sidebar-link">uniapp介绍</a></li><li><a href="/notes-page/project/community-miniapp/01-搭建开发环境.html" class="sidebar-link">搭建开发环境</a></li><li><a href="/notes-page/project/community-miniapp/02-首页模块.html" class="sidebar-link">首页模块</a></li><li><a href="/notes-page/project/community-miniapp/03-登录鉴权.html" class="sidebar-link">小程序鉴权登录</a></li><li><a href="/notes-page/project/community-miniapp/04-消息&amp;热门&amp;个人中心.html" class="sidebar-link">消息&amp;热门&amp;个人中心</a></li><li><a href="/notes-page/project/community-miniapp/05-RefreshToken机制.html" class="sidebar-link">RefreshToken机制</a></li><li><a href="/notes-page/project/community-miniapp/06-文章详情.html" class="sidebar-link">文章详情</a></li><li><a href="/notes-page/project/community-miniapp/07-安全域名相关.html" class="sidebar-link">安全域名相关</a></li><li><a href="/notes-page/project/community-miniapp/08-订阅消息.html" class="sidebar-link">订阅消息</a></li><li><a href="/notes-page/project/community-miniapp/09-内容安全.html" class="sidebar-link">内容安全</a></li><li><a href="/notes-page/project/community-miniapp/10-发贴&amp;评论功能.html" class="sidebar-link">发贴评论功能</a></li><li><a href="/notes-page/project/community-miniapp/11-发布上线.html" class="sidebar-link">发布上线</a></li><li><a href="/notes-page/project/community-miniapp/12-支付专题.html" class="sidebar-link">支付专题</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Flutter 2.0</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/notes-page/project/community-flutter/" class="sidebar-link">Flutter</a></li><li><a href="/notes-page/project/community-flutter/01-风格指南.html" class="sidebar-link">风格指南</a></li><li><a href="/notes-page/project/community-flutter/02-Flutter入门.html" class="sidebar-link">Flutter入门案例</a></li><li><a href="/notes-page/project/community-flutter/03-异步编程思想.html" class="sidebar-link">异步编程思想</a></li><li><a href="/notes-page/project/community-flutter/04-状态管理.html" class="sidebar-link">状态管理概览</a></li><li><a href="/notes-page/project/community-flutter/05-状态管理-redux.html" class="sidebar-link">状态管理方案-Redux</a></li><li><a href="/notes-page/project/community-flutter/06-状态管理-scoped_model.html" class="sidebar-link">状态管理方案-ScopedModel</a></li><li><a href="/notes-page/project/community-flutter/07-状态管理-bloc.html" class="sidebar-link">状态管理方案-Bloc</a></li><li><a href="/notes-page/project/community-flutter/08-获取验证码.html" class="sidebar-link">获取验证码</a></li><li><a href="/notes-page/project/community-flutter/09-封装请求.html" class="sidebar-link">封装请求</a></li><li><a href="/notes-page/project/community-flutter/10-网络测试.html" class="sidebar-link">网络调试</a></li><li><a href="/notes-page/project/community-flutter/11-创建短信接口服务.html" class="sidebar-link">创建发送短信验证码服务</a></li><li><a href="/notes-page/project/community-flutter/12-序列化.html" class="sidebar-link">序列化</a></li><li><a href="/notes-page/project/community-flutter/13-自定义toast组件.html" class="sidebar-link">自定义toast组件</a></li><li><a href="/notes-page/project/community-flutter/14-优化短信验证码逻辑.html" class="sidebar-link">优化短信验证码逻辑</a></li><li><a href="/notes-page/project/community-flutter/15-数据持久化-getstorage.html" class="sidebar-link">数据持久化-GetStorage</a></li><li><a href="/notes-page/project/community-flutter/16-数据持久化-sqflite.html" class="sidebar-link">数据持久化-Sqflite</a></li><li><a href="/notes-page/project/community-flutter/17-路由.html" class="sidebar-link">路由</a></li><li><a href="/notes-page/project/community-flutter/18-集成方案&amp;消息&amp;适配.html" class="sidebar-link">集成方案&amp;消息&amp;适配</a></li><li><a href="/notes-page/project/community-flutter/19-苹果开发者.html" class="sidebar-link">苹果开发者</a></li><li><a href="/notes-page/project/community-flutter/20-启动图标与启动图.html" class="sidebar-link">配置应用图标与启动图</a></li><li><a href="/notes-page/project/community-flutter/21-日志收集.html" class="sidebar-link">错误日志收集</a></li><li><a href="/notes-page/project/community-flutter/22-打包.html" class="sidebar-link">移动端打包</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Electron桌面端</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/notes-page/project/community-electron/" aria-current="page" class="sidebar-link">整体介绍</a></li><li><a href="/notes-page/project/community-electron/01-核心概念.html" class="sidebar-link">核心概念</a></li><li><a href="/notes-page/project/community-electron/02-与主流框架集成.html" class="sidebar-link">与主流的框架集成</a></li><li><a href="/notes-page/project/community-electron/03-社区项目整合.html" class="sidebar-link">业务项目整合</a></li><li><a href="/notes-page/project/community-electron/04-第三方登录扫码登录.html" class="sidebar-link">第三方登录（扫码登录）</a></li><li><a href="/notes-page/project/community-electron/05-原生应用通知.html" class="sidebar-link">原生应用通知</a></li><li><a href="/notes-page/project/community-electron/06-打包与更新.html" class="active sidebar-link">Electron打包</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes-page/project/community-electron/06-打包与更新.html#演示" class="sidebar-link">演示</a></li><li class="sidebar-sub-header"><a href="/notes-page/project/community-electron/06-打包与更新.html#准备" class="sidebar-link">准备</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes-page/project/community-electron/06-打包与更新.html#作者信息" class="sidebar-link">作者信息</a></li><li class="sidebar-sub-header"><a href="/notes-page/project/community-electron/06-打包与更新.html#图标与安装图片" class="sidebar-link">图标与安装图片</a></li><li class="sidebar-sub-header"><a href="/notes-page/project/community-electron/06-打包与更新.html#应用名称" class="sidebar-link">应用名称</a></li></ul></li><li class="sidebar-sub-header"><a href="/notes-page/project/community-electron/06-打包与更新.html#构建打包-测试" class="sidebar-link">构建打包&amp;测试</a></li><li class="sidebar-sub-header"><a href="/notes-page/project/community-electron/06-打包与更新.html#macos证书配置" class="sidebar-link">MacOS证书配置</a></li><li class="sidebar-sub-header"><a href="/notes-page/project/community-electron/06-打包与更新.html#macos应用公证" class="sidebar-link">MacOS应用公证</a></li><li class="sidebar-sub-header"><a href="/notes-page/project/community-electron/06-打包与更新.html#代码公证" class="sidebar-link">代码公证</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes-page/project/community-electron/06-打包与更新.html#手动上传" class="sidebar-link">手动上传</a></li><li class="sidebar-sub-header"><a href="/notes-page/project/community-electron/06-打包与更新.html#使用工具" class="sidebar-link">使用工具</a></li></ul></li><li class="sidebar-sub-header"><a href="/notes-page/project/community-electron/06-打包与更新.html#应用上架appstore" class="sidebar-link">应用上架AppStore</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes-page/project/community-electron/06-打包与更新.html#准备证书" class="sidebar-link">准备证书</a></li><li class="sidebar-sub-header"><a href="/notes-page/project/community-electron/06-打包与更新.html#添加identify" class="sidebar-link">添加identify</a></li><li class="sidebar-sub-header"><a href="/notes-page/project/community-electron/06-打包与更新.html#准备profile" class="sidebar-link">准备profile</a></li><li class="sidebar-sub-header"><a href="/notes-page/project/community-electron/06-打包与更新.html#打包应用" class="sidebar-link">打包应用</a></li><li class="sidebar-sub-header"><a href="/notes-page/project/community-electron/06-打包与更新.html#签名" class="sidebar-link">签名</a></li><li class="sidebar-sub-header"><a href="/notes-page/project/community-electron/06-打包与更新.html#上传到appstore" class="sidebar-link">上传到appstore</a></li><li class="sidebar-sub-header"><a href="/notes-page/project/community-electron/06-打包与更新.html#请求证书" class="sidebar-link">请求证书</a></li></ul></li></ul></li><li><a href="/notes-page/project/community-electron/07-多平台打包.html" class="sidebar-link">多平台打包</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>React世界</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/notes-page/project/react/" class="sidebar-link">React项目教程</a></li><li><a href="/notes-page/project/react/01-React16-18.html" class="sidebar-link">React16-18概览</a></li><li><a href="/notes-page/project/react/02-React核心概念.html" class="sidebar-link">React核心概念</a></li><li><a href="/notes-page/project/react/03-Fiber及其工作原理.html" class="sidebar-link">Fiber及其工作原理</a></li><li><a href="/notes-page/project/react/04-常见框架&amp;技术集成.html" class="sidebar-link">常见框架&amp;技术集成</a></li><li><a href="/notes-page/project/react/05-react-routerv6.html" class="sidebar-link">React Router v6</a></li><li><a href="/notes-page/project/react/06-react-hooks.html" class="sidebar-link">React Hooks</a></li><li><a href="/notes-page/project/react/07-状态管理.html" class="sidebar-link">React 状态管理</a></li><li><a href="/notes-page/project/react/08-组件库设计.html" class="sidebar-link">组件库设计</a></li><li><a href="/notes-page/project/react/09-自动化测试.html" class="sidebar-link">自动化测试</a></li><li><a href="/notes-page/project/react/10-性能优化.html" class="sidebar-link">React中的性能优化</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="electron打包"><a href="#electron打包" class="header-anchor">#</a> Electron打包</h1> <p>常见的打包方案：</p> <ul><li>electron-packager</li> <li>electron-builder(推荐)</li> <li>Electron-forge</li></ul> <p>常见问题：</p> <ul><li>windows平台能打包MacOS的包吗？不能，不能跨架构。可以使用CI/CD工具进行跨平台打包。</li> <li><code>dmg</code>是mac平台安装镜像，<code>pkg</code>是系统安装包，如插件。</li> <li></li></ul> <h2 id="演示"><a href="#演示" class="header-anchor">#</a> 演示</h2> <p>在推荐的模板项目：<a href="https://github.com/cawa-93/vite-electron-builder" target="_blank" rel="noopener noreferrer">https://github.com/cawa-93/vite-electron-builder<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>中就提供了<code>compile</code>命令：</p> <div class="language- extra-class"><pre class="language-text"><code>&quot;compile&quot;: &quot;electron-builder build --config electron-builder.config.js --config.asar=false&quot;,
</code></pre></div><p>但是，官方文档中也说明的非常清楚：</p> <blockquote><p>Using the npm script <code>compile</code>: This script is configured to compile the application as quickly as possible. It is not ready for distribution, it is compiled only for the current platform and is used for debugging.</p></blockquote> <p>这个命令只是用于打包测试，并不是真正的打包分发。</p> <p>最终形态，通过CICD的工具来打包多平台应用。</p> <blockquote><p>Using GitHub Actions: The application is compiled for any platform and ready-to-distribute files are automatically added as a draft to the GitHub releases page.</p></blockquote> <h2 id="准备"><a href="#准备" class="header-anchor">#</a> 准备</h2> <h3 id="作者信息"><a href="#作者信息" class="header-anchor">#</a> 作者信息</h3> <p>修改<code>package.json</code>文件，需要添加两个属性：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  <span class="token property">&quot;author&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;brian&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token string">&quot;brian@toimc.com&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;A Community Project use the Electron!&quot;</span><span class="token punctuation">,</span>
  <span class="token comment">// ...  </span>
<span class="token punctuation">}</span>
</code></pre></div><p>配置node的版本为16，因为最新的electron 16需要node&gt;=16的环境。</p> <blockquote><p>可以使用nvm进行安装：</p> <ul><li>MacOS：<a href="https://github.com/nvm-sh/nvm" target="_blank" rel="noopener noreferrer">https://github.com/nvm-sh/nvm<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>Windows：<a href="https://github.com/coreybutler/nvm-windows" target="_blank" rel="noopener noreferrer">https://github.com/coreybutler/nvm-windows<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></blockquote> <p>然后就可以测试<code>compile</code>命令了！打包结果：</p> <p><img src="/notes-page/assets/img/image-20220222110229491.5469b719.png" alt="image-20220222110229491"></p> <blockquote><p>说明：MacOS上的小伙伴打包会失败，没有关系，后续还需要配置证书。</p></blockquote> <h3 id="图标与安装图片"><a href="#图标与安装图片" class="header-anchor">#</a> 图标与安装图片</h3> <ul><li>MacOS -&gt; icon.icns（不小于512像素）</li> <li>Windows -&gt; icon.ico（不小于256像素）</li> <li>asar属性：简单打包属性，添加源码至应用包（增量更新的时候，可以使用asar）</li></ul> <p>mac平台上图标生成的方式：</p> <p>创建一个<code>createicns.sh</code>文件：</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>

<span class="token assign-left variable">input_filepath</span><span class="token operator">=</span><span class="token string">&quot;logo1024x1024.png&quot;</span>
<span class="token assign-left variable">output_iconset_name</span><span class="token operator">=</span><span class="token string">&quot;icon.iconset&quot;</span>
<span class="token function">mkdir</span> <span class="token variable">$output_iconset_name</span>

sips <span class="token parameter variable">-z</span> <span class="token number">16</span> <span class="token number">16</span>     <span class="token variable">$input_filepath</span> <span class="token parameter variable">--out</span> <span class="token string">&quot;<span class="token variable">${output_iconset_name}</span>/icon_16x16.png&quot;</span>
sips <span class="token parameter variable">-z</span> <span class="token number">32</span> <span class="token number">32</span>     <span class="token variable">$input_filepath</span> <span class="token parameter variable">--out</span> <span class="token string">&quot;<span class="token variable">${output_iconset_name}</span>/icon_16x16@2x.png&quot;</span>
sips <span class="token parameter variable">-z</span> <span class="token number">32</span> <span class="token number">32</span>     <span class="token variable">$input_filepath</span> <span class="token parameter variable">--out</span> <span class="token string">&quot;<span class="token variable">${output_iconset_name}</span>/icon_32x32.png&quot;</span>
sips <span class="token parameter variable">-z</span> <span class="token number">64</span> <span class="token number">64</span>     <span class="token variable">$input_filepath</span> <span class="token parameter variable">--out</span> <span class="token string">&quot;<span class="token variable">${output_iconset_name}</span>/icon_32x32@2x.png&quot;</span>
sips <span class="token parameter variable">-z</span> <span class="token number">128</span> <span class="token number">128</span>   <span class="token variable">$input_filepath</span> <span class="token parameter variable">--out</span> <span class="token string">&quot;<span class="token variable">${output_iconset_name}</span>/icon_128x128.png&quot;</span>
sips <span class="token parameter variable">-z</span> <span class="token number">256</span> <span class="token number">256</span>   <span class="token variable">$input_filepath</span> <span class="token parameter variable">--out</span> <span class="token string">&quot;<span class="token variable">${output_iconset_name}</span>/icon_128x128@2x.png&quot;</span>
sips <span class="token parameter variable">-z</span> <span class="token number">256</span> <span class="token number">256</span>   <span class="token variable">$input_filepath</span> <span class="token parameter variable">--out</span> <span class="token string">&quot;<span class="token variable">${output_iconset_name}</span>/icon_256x256.png&quot;</span>
sips <span class="token parameter variable">-z</span> <span class="token number">512</span> <span class="token number">512</span>   <span class="token variable">$input_filepath</span> <span class="token parameter variable">--out</span> <span class="token string">&quot;<span class="token variable">${output_iconset_name}</span>/icon_256x256@2x.png&quot;</span>
sips <span class="token parameter variable">-z</span> <span class="token number">512</span> <span class="token number">512</span>   <span class="token variable">$input_filepath</span> <span class="token parameter variable">--out</span> <span class="token string">&quot;<span class="token variable">${output_iconset_name}</span>/icon_512x512.png&quot;</span>
sips <span class="token parameter variable">-z</span> <span class="token number">1024</span> <span class="token number">1024</span>   <span class="token variable">$input_filepath</span> <span class="token parameter variable">--out</span> <span class="token string">&quot;<span class="token variable">${output_iconset_name}</span>/icon_512x512@2x.png&quot;</span>

iconutil <span class="token parameter variable">-c</span> icns <span class="token variable">$output_iconset_name</span>

<span class="token function">rm</span> <span class="token parameter variable">-R</span> <span class="token variable">$output_iconset_name</span>
</code></pre></div><p>设置执行命令</p> <div class="language- extra-class"><pre class="language-text"><code>chmod +x ./craeteicns.sh
</code></pre></div><p>然后，放置到同级的<code>logo1024x1024.png</code>目录中，打开命令行，执行脚本，即可以得到icns的图标文件了。</p> <p>windows平台上，可以借助到在线平台上的工具：ICO converter，<a href="https://www.icoconverter.com/" target="_blank" rel="noopener noreferrer">https://www.icoconverter.com/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><strong>安装图片的设置</strong>(mac)</p> <p><img src="/notes-page/assets/img/image-20220222115633557.9a7855de.png" alt="image-20220222115633557"></p> <p>同样的，放置到<code>buildResources</code>目录即可。</p> <p><strong>打包配置</strong>(mac)</p> <p>修改<code>electron-builder.config.js</code>文件：</p> <div class="language-json extra-class"><pre class="language-json"><code>dmg<span class="token operator">:</span> <span class="token punctuation">{</span>
  background<span class="token operator">:</span> 'buildResources/background.tiff'
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><p><strong>打包命令</strong>(mac)</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;compile:pack&quot;</span><span class="token operator">:</span> <span class="token string">&quot;electron-builder build --config electron-builder.config.js --config.asar=false&quot;</span><span class="token punctuation">,</span>
</code></pre></div><h3 id="应用名称"><a href="#应用名称" class="header-anchor">#</a> 应用名称</h3> <p>修改<code>electron-builder.config.js</code>文件：</p> <div class="language-json extra-class"><pre class="language-json"><code>productName<span class="token operator">:</span> 'toimc技术社区HD'<span class="token punctuation">,</span>
</code></pre></div><h2 id="构建打包-测试"><a href="#构建打包-测试" class="header-anchor">#</a> 构建打包&amp;测试</h2> <p>步骤：</p> <ul><li><p>配置名称描述</p></li> <li><p>添加appId，<strong>注意不要有下横线。</strong></p></li> <li><p>配置平台</p> <p>参考这个部分：<a href="https://www.electron.build/configuration/configuration#configuration" target="_blank" rel="noopener noreferrer">https://www.electron.build/configuration/configuration#configuration<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p>添加图标 启动图片</p></li> <li><p>配置脚本</p></li> <li><p>打包</p></li></ul> <p>electron-builder配置<code>electron-builder.config.js</code>文件：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">VITE_APP_VERSION</span> <span class="token operator">===</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> now <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">VITE_APP_VERSION</span> <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>now<span class="token punctuation">.</span><span class="token function">getUTCFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">2000</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>
    now<span class="token punctuation">.</span><span class="token function">getUTCMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span>
  <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>now<span class="token punctuation">.</span><span class="token function">getUTCDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>now<span class="token punctuation">.</span><span class="token function">getUTCHours</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">+</span> now<span class="token punctuation">.</span><span class="token function">getUTCMinutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
<span class="token punctuation">}</span>

<span class="token comment">/**
 * @type {import('electron-builder').Configuration}
 * @see https://www.electron.build/configuration/configuration
 */</span>
<span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">appId</span><span class="token operator">:</span> <span class="token string">'com.toimc.community.desktop'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">directories</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token string">'dist'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">buildResources</span><span class="token operator">:</span> <span class="token string">'buildResources'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">publish</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">provider</span><span class="token operator">:</span> <span class="token string">'github'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">files</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'packages/**/dist/**'</span><span class="token punctuation">,</span> <span class="token string">'packages/main/locales/**'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">extraMetadata</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">version</span><span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">VITE_APP_VERSION</span>
    <span class="token comment">// version: '1.0.0'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">productName</span><span class="token operator">:</span> <span class="token string">'toimc技术社区HD'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">dmg</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">background</span><span class="token operator">:</span> <span class="token string">'buildResources/background.tiff'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">mac</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">category</span><span class="token operator">:</span> <span class="token string">'public.app-category.lifestyle'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token string">'buildResources/icon.icns'</span><span class="token punctuation">,</span>
    <span class="token comment">// target: ['dmg'],</span>
    <span class="token literal-property property">entitlements</span><span class="token operator">:</span> <span class="token string">'buildResources/entitlements.mac.plist'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">entitlementsInherit</span><span class="token operator">:</span> <span class="token string">'buildResources/entitlements.mac.plist'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">provisioningProfile</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'./buildResources/toimchd.provisionprofile'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">hardenedRuntime</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token comment">// bundleVersion: 2,</span>
    <span class="token comment">// bundleShortVersion: 1.0.0</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">win</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'nsis'</span><span class="token punctuation">,</span> <span class="token string">'zip'</span><span class="token punctuation">]</span>
    <span class="token comment">// windows受信证书大概需要3000一年。</span>
    <span class="token comment">// verifyUpdateCodeSignature: false,</span>
    <span class="token comment">// signingHashAlgorithms: ['sha256'],</span>
    <span class="token comment">// certificateFile: 'XXX.pfx',</span>
    <span class="token comment">// certificatePassword: 'XXXX'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">nsis</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">oneClick</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token literal-property property">allowToChangeInstallationDirectory</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">shortcutName</span><span class="token operator">:</span> <span class="token string">'toimc技术社区'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">linux</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'deb'</span><span class="token punctuation">,</span> <span class="token string">'tar.xz'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">category</span><span class="token operator">:</span> <span class="token string">'Office'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">executableName</span><span class="token operator">:</span> <span class="token string">'toimc-community'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token string">'buildResources/icon.png'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">afterSign</span><span class="token operator">:</span> <span class="token string">'electron-builder-notarize'</span>
  <span class="token comment">// afterSign: 'scripts/notarize.js'</span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> config
</code></pre></div><h2 id="macos证书配置"><a href="#macos证书配置" class="header-anchor">#</a> MacOS证书配置</h2> <p>如果没有证书会有一个打包提示：</p> <p><img src="/notes-page/assets/img/image-20220222120309226.9f806cf2.png" alt="image-20220222120309226"></p> <p>证书分类：</p> <ul><li>软件签名证书（分平台），主要的作用就是在安装的时候<strong>不会提示未受信的开发者</strong>。</li> <li>macOS开发者证书</li></ul> <p>申请证书的过程，可以参考：<a href="/notes-page/project/community-flutter/19-苹果开发者.html#常见问题">苹果开发者介绍</a></p> <p>如果只是分发到第三方平台，不需要上架到AppStore，可以申请<code>Developer ID Application</code>类型的证书。</p> <p>导出证书 到特定的目录：</p> <p><img src="/notes-page/assets/img/image-20220222133048922.8cce7462.png" alt="image-20220222133048922"></p> <ul><li><p>如果本地登录了开发者，使用<code>compile</code>命令，会自动匹配。</p></li> <li><p>如果未登录开发者，可以通过环境变更 进行设置</p> <div class="language- extra-class"><pre class="language-text"><code>export CSC_LINK=/your-cert-path/cert.p12

export CSC_KEY_PASSWORD=your-cert-key-password
</code></pre></div><p>然后再打包即可。</p></li></ul></div> <!----> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/notes-page/project/community-electron/05-原生应用通知.html" class="prev">
        原生应用通知
      </a></span> <span class="next"><a href="/notes-page/project/community-electron/07-多平台打包.html">
        多平台打包
      </a>
      →
    </span></p></div>  <div class="el-dialog__wrapper" style="display:none;"><div role="dialog" aria-modal="true" aria-label="dialog" class="el-dialog" style="margin-top:15vh;width:420px;"><div class="el-dialog__header"><span class="el-dialog__title"></span><button type="button" aria-label="Close" class="el-dialog__headerbtn"><i class="el-dialog__close el-icon el-icon-close"></i></button></div><!----><div class="el-dialog__footer"><span class="dialog-footer"><button type="button" class="el-button el-button--default"><!----><!----><span>取 消</span></button> <button type="button" class="el-button el-button--primary"><!----><!----><span>确 定</span></button></span></div></div></div></main> <!----></div><div class="global-ui"><!----><div tabindex="-1" role="dialog" aria-hidden="true" class="pswp"><div class="pswp__bg"></div> <div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div> <div class="pswp__item"></div> <div class="pswp__item"></div></div> <div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div> <button title="Close" aria-label="Close" class="pswp__button pswp__button--close"></button> <button title="Share" aria-label="Share" class="pswp__button pswp__button--share"></button> <button title="Switch to full screen" aria-label="Switch to full screen" class="pswp__button pswp__button--fs"></button> <button title="Zoom in/out" aria-label="Zoom in/out" class="pswp__button pswp__button--zoom"></button> <div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div> <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div> <button title="Prev (Arrow Left)" aria-label="Prev (Arrow Left)" class="pswp__button pswp__button--arrow--left"></button> <button title="Next (Arrow Right)" aria-label="Next (Arrow Right)" class="pswp__button pswp__button--arrow--right"></button> <div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div></div></div>
    <script src="/notes-page/assets/js/app.d148bf7d.js" defer></script><script src="/notes-page/assets/js/5.5563c583.js" defer></script><script src="/notes-page/assets/js/17.dd1d8b92.js" defer></script>
  </body>
</html>
