<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>è·¯ç”± | å¤§å‰ç«¯ - å‰ç«¯é«˜çº§è¿›é˜¶</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="å¤§å‰ç«¯è¯¾ç¨‹ç”µå­ä¹¦">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/notes-page/assets/css/0.styles.ee344319.css" as="style"><link rel="preload" href="/notes-page/assets/js/app.368e863f.js" as="script"><link rel="preload" href="/notes-page/assets/js/8.917fc4fb.js" as="script"><link rel="preload" href="/notes-page/assets/js/180.ea551132.js" as="script"><link rel="prefetch" href="/notes-page/assets/js/1.8be2b47d.js"><link rel="prefetch" href="/notes-page/assets/js/10.e9112599.js"><link rel="prefetch" href="/notes-page/assets/js/100.5bab81a2.js"><link rel="prefetch" href="/notes-page/assets/js/101.e1fd2fe8.js"><link rel="prefetch" href="/notes-page/assets/js/102.fca07b94.js"><link rel="prefetch" href="/notes-page/assets/js/103.ff1a57fc.js"><link rel="prefetch" href="/notes-page/assets/js/104.7a12e926.js"><link rel="prefetch" href="/notes-page/assets/js/105.193ecb6e.js"><link rel="prefetch" href="/notes-page/assets/js/106.9d2c4d6e.js"><link rel="prefetch" href="/notes-page/assets/js/107.4d98f9b2.js"><link rel="prefetch" href="/notes-page/assets/js/108.bac80837.js"><link rel="prefetch" href="/notes-page/assets/js/109.80a4c802.js"><link rel="prefetch" href="/notes-page/assets/js/11.bc7a87f2.js"><link rel="prefetch" href="/notes-page/assets/js/110.6589ef6e.js"><link rel="prefetch" href="/notes-page/assets/js/111.72c3176f.js"><link rel="prefetch" href="/notes-page/assets/js/112.c2c950f0.js"><link rel="prefetch" href="/notes-page/assets/js/113.db170b63.js"><link rel="prefetch" href="/notes-page/assets/js/114.604433bc.js"><link rel="prefetch" href="/notes-page/assets/js/115.70b549f2.js"><link rel="prefetch" href="/notes-page/assets/js/116.e9f79705.js"><link rel="prefetch" href="/notes-page/assets/js/117.d3a900c0.js"><link rel="prefetch" href="/notes-page/assets/js/118.a44f3faa.js"><link rel="prefetch" href="/notes-page/assets/js/119.1d37503a.js"><link rel="prefetch" href="/notes-page/assets/js/12.cd26caf4.js"><link rel="prefetch" href="/notes-page/assets/js/120.bc130d54.js"><link rel="prefetch" href="/notes-page/assets/js/121.50f4adbe.js"><link rel="prefetch" href="/notes-page/assets/js/122.1fd778cb.js"><link rel="prefetch" href="/notes-page/assets/js/123.c654de5d.js"><link rel="prefetch" href="/notes-page/assets/js/124.97cf2353.js"><link rel="prefetch" href="/notes-page/assets/js/125.e0ab8a63.js"><link rel="prefetch" href="/notes-page/assets/js/126.c90dabe8.js"><link rel="prefetch" href="/notes-page/assets/js/127.0e44d948.js"><link rel="prefetch" href="/notes-page/assets/js/128.4042d674.js"><link rel="prefetch" href="/notes-page/assets/js/129.1537dc2b.js"><link rel="prefetch" href="/notes-page/assets/js/13.0caf625f.js"><link rel="prefetch" href="/notes-page/assets/js/130.0da30f96.js"><link rel="prefetch" href="/notes-page/assets/js/131.e6b4cf7e.js"><link rel="prefetch" href="/notes-page/assets/js/132.375214b0.js"><link rel="prefetch" href="/notes-page/assets/js/133.473ebfe9.js"><link rel="prefetch" href="/notes-page/assets/js/134.388450eb.js"><link rel="prefetch" href="/notes-page/assets/js/135.ab1f6c92.js"><link rel="prefetch" href="/notes-page/assets/js/136.441ab980.js"><link rel="prefetch" href="/notes-page/assets/js/137.6e2aa994.js"><link rel="prefetch" href="/notes-page/assets/js/138.91b1e620.js"><link rel="prefetch" href="/notes-page/assets/js/139.74d5cfe3.js"><link rel="prefetch" href="/notes-page/assets/js/14.72ee21c3.js"><link rel="prefetch" href="/notes-page/assets/js/140.2a5b6f88.js"><link rel="prefetch" href="/notes-page/assets/js/141.081f1782.js"><link rel="prefetch" href="/notes-page/assets/js/142.796a5c8d.js"><link rel="prefetch" href="/notes-page/assets/js/143.ab719a58.js"><link rel="prefetch" href="/notes-page/assets/js/144.8f726350.js"><link rel="prefetch" href="/notes-page/assets/js/145.c26cb098.js"><link rel="prefetch" href="/notes-page/assets/js/146.3053a7d6.js"><link rel="prefetch" href="/notes-page/assets/js/147.56053db4.js"><link rel="prefetch" href="/notes-page/assets/js/148.5deb093a.js"><link rel="prefetch" href="/notes-page/assets/js/149.3d4c6761.js"><link rel="prefetch" href="/notes-page/assets/js/15.7dce6dfd.js"><link rel="prefetch" href="/notes-page/assets/js/150.cadcc3d3.js"><link rel="prefetch" href="/notes-page/assets/js/151.fab47c20.js"><link rel="prefetch" href="/notes-page/assets/js/152.fd39dae0.js"><link rel="prefetch" href="/notes-page/assets/js/153.59942f08.js"><link rel="prefetch" href="/notes-page/assets/js/154.21077ef3.js"><link rel="prefetch" href="/notes-page/assets/js/155.263ac8f9.js"><link rel="prefetch" href="/notes-page/assets/js/156.4ad93476.js"><link rel="prefetch" href="/notes-page/assets/js/157.39d055d4.js"><link rel="prefetch" href="/notes-page/assets/js/158.d2d3d170.js"><link rel="prefetch" href="/notes-page/assets/js/159.8036a9d1.js"><link rel="prefetch" href="/notes-page/assets/js/16.2a7ba8c2.js"><link rel="prefetch" href="/notes-page/assets/js/160.f0d5b8d0.js"><link rel="prefetch" href="/notes-page/assets/js/161.8dd9174c.js"><link rel="prefetch" href="/notes-page/assets/js/162.dc974d83.js"><link rel="prefetch" href="/notes-page/assets/js/163.b41cbb03.js"><link rel="prefetch" href="/notes-page/assets/js/164.ec35cebc.js"><link rel="prefetch" href="/notes-page/assets/js/165.21207f65.js"><link rel="prefetch" href="/notes-page/assets/js/166.913fcc2a.js"><link rel="prefetch" href="/notes-page/assets/js/167.6b18b408.js"><link rel="prefetch" href="/notes-page/assets/js/168.18683601.js"><link rel="prefetch" href="/notes-page/assets/js/169.acd8f95c.js"><link rel="prefetch" href="/notes-page/assets/js/17.8faf8f73.js"><link rel="prefetch" href="/notes-page/assets/js/170.d76923dd.js"><link rel="prefetch" href="/notes-page/assets/js/171.435de347.js"><link rel="prefetch" href="/notes-page/assets/js/172.3955b415.js"><link rel="prefetch" href="/notes-page/assets/js/173.b9609f4b.js"><link rel="prefetch" href="/notes-page/assets/js/174.90403b72.js"><link rel="prefetch" href="/notes-page/assets/js/175.e7f49755.js"><link rel="prefetch" href="/notes-page/assets/js/176.d42b9f48.js"><link rel="prefetch" href="/notes-page/assets/js/177.35c10167.js"><link rel="prefetch" href="/notes-page/assets/js/178.25310533.js"><link rel="prefetch" href="/notes-page/assets/js/179.206221ad.js"><link rel="prefetch" href="/notes-page/assets/js/18.61500ba4.js"><link rel="prefetch" href="/notes-page/assets/js/181.e712301c.js"><link rel="prefetch" href="/notes-page/assets/js/182.a7cd28c6.js"><link rel="prefetch" href="/notes-page/assets/js/183.f917d6b3.js"><link rel="prefetch" href="/notes-page/assets/js/184.268456f6.js"><link rel="prefetch" href="/notes-page/assets/js/19.69615609.js"><link rel="prefetch" href="/notes-page/assets/js/20.262ff71a.js"><link rel="prefetch" href="/notes-page/assets/js/21.901c71a7.js"><link rel="prefetch" href="/notes-page/assets/js/22.2dd71624.js"><link rel="prefetch" href="/notes-page/assets/js/23.ce8bbc44.js"><link rel="prefetch" href="/notes-page/assets/js/24.133d89d9.js"><link rel="prefetch" href="/notes-page/assets/js/25.5de46340.js"><link rel="prefetch" href="/notes-page/assets/js/26.2cfd1e6d.js"><link rel="prefetch" href="/notes-page/assets/js/27.f606e580.js"><link rel="prefetch" href="/notes-page/assets/js/28.fe5d02b5.js"><link rel="prefetch" href="/notes-page/assets/js/29.5ede3adb.js"><link rel="prefetch" href="/notes-page/assets/js/30.3fba03c5.js"><link rel="prefetch" href="/notes-page/assets/js/31.833d15c5.js"><link rel="prefetch" href="/notes-page/assets/js/32.e27bd95e.js"><link rel="prefetch" href="/notes-page/assets/js/33.158797a8.js"><link rel="prefetch" href="/notes-page/assets/js/34.48c674ae.js"><link rel="prefetch" href="/notes-page/assets/js/35.5da8916e.js"><link rel="prefetch" href="/notes-page/assets/js/36.461bde4d.js"><link rel="prefetch" href="/notes-page/assets/js/37.df7117a1.js"><link rel="prefetch" href="/notes-page/assets/js/38.f2cd45e2.js"><link rel="prefetch" href="/notes-page/assets/js/39.e5249ff2.js"><link rel="prefetch" href="/notes-page/assets/js/40.bacdeb97.js"><link rel="prefetch" href="/notes-page/assets/js/41.69611a27.js"><link rel="prefetch" href="/notes-page/assets/js/42.6fe0b608.js"><link rel="prefetch" href="/notes-page/assets/js/43.dc516d69.js"><link rel="prefetch" href="/notes-page/assets/js/44.ac1bcdb9.js"><link rel="prefetch" href="/notes-page/assets/js/45.9ae009a4.js"><link rel="prefetch" href="/notes-page/assets/js/46.657695ba.js"><link rel="prefetch" href="/notes-page/assets/js/47.5627f6b9.js"><link rel="prefetch" href="/notes-page/assets/js/48.2f913faf.js"><link rel="prefetch" href="/notes-page/assets/js/49.28a0284a.js"><link rel="prefetch" href="/notes-page/assets/js/50.95f20324.js"><link rel="prefetch" href="/notes-page/assets/js/51.2ef09870.js"><link rel="prefetch" href="/notes-page/assets/js/52.d18d7ac7.js"><link rel="prefetch" href="/notes-page/assets/js/53.21cef0d4.js"><link rel="prefetch" href="/notes-page/assets/js/54.5021af09.js"><link rel="prefetch" href="/notes-page/assets/js/55.d4dd0b4e.js"><link rel="prefetch" href="/notes-page/assets/js/56.5f12450c.js"><link rel="prefetch" href="/notes-page/assets/js/57.fed1fd8b.js"><link rel="prefetch" href="/notes-page/assets/js/58.d8b4db06.js"><link rel="prefetch" href="/notes-page/assets/js/59.11963b79.js"><link rel="prefetch" href="/notes-page/assets/js/6.c5229510.js"><link rel="prefetch" href="/notes-page/assets/js/60.26d1d37a.js"><link rel="prefetch" href="/notes-page/assets/js/61.b7a8b09d.js"><link rel="prefetch" href="/notes-page/assets/js/62.b5a800c0.js"><link rel="prefetch" href="/notes-page/assets/js/63.ebeba5e0.js"><link rel="prefetch" href="/notes-page/assets/js/64.f6321c62.js"><link rel="prefetch" href="/notes-page/assets/js/65.f9c9ba70.js"><link rel="prefetch" href="/notes-page/assets/js/66.75c618eb.js"><link rel="prefetch" href="/notes-page/assets/js/67.f517bcbd.js"><link rel="prefetch" href="/notes-page/assets/js/68.da1184e7.js"><link rel="prefetch" href="/notes-page/assets/js/69.9ffe877d.js"><link rel="prefetch" href="/notes-page/assets/js/7.c1edaed3.js"><link rel="prefetch" href="/notes-page/assets/js/70.58db98dc.js"><link rel="prefetch" href="/notes-page/assets/js/71.d78f2b63.js"><link rel="prefetch" href="/notes-page/assets/js/72.f207f71e.js"><link rel="prefetch" href="/notes-page/assets/js/73.f2d38b2f.js"><link rel="prefetch" href="/notes-page/assets/js/74.4f32b6e6.js"><link rel="prefetch" href="/notes-page/assets/js/75.4be5f92d.js"><link rel="prefetch" href="/notes-page/assets/js/76.8f3335e3.js"><link rel="prefetch" href="/notes-page/assets/js/77.b63e7645.js"><link rel="prefetch" href="/notes-page/assets/js/78.d183cfb3.js"><link rel="prefetch" href="/notes-page/assets/js/79.e5abd06f.js"><link rel="prefetch" href="/notes-page/assets/js/80.a41cc70c.js"><link rel="prefetch" href="/notes-page/assets/js/81.8ffc8e8e.js"><link rel="prefetch" href="/notes-page/assets/js/82.f6d65ddd.js"><link rel="prefetch" href="/notes-page/assets/js/83.4577f268.js"><link rel="prefetch" href="/notes-page/assets/js/84.ee1bcb01.js"><link rel="prefetch" href="/notes-page/assets/js/85.3d651391.js"><link rel="prefetch" href="/notes-page/assets/js/86.4a3600ea.js"><link rel="prefetch" href="/notes-page/assets/js/87.c94a2b31.js"><link rel="prefetch" href="/notes-page/assets/js/88.256938dd.js"><link rel="prefetch" href="/notes-page/assets/js/89.029f7af5.js"><link rel="prefetch" href="/notes-page/assets/js/9.96dee30a.js"><link rel="prefetch" href="/notes-page/assets/js/90.c1bcaa43.js"><link rel="prefetch" href="/notes-page/assets/js/91.63ad6089.js"><link rel="prefetch" href="/notes-page/assets/js/92.8798be56.js"><link rel="prefetch" href="/notes-page/assets/js/93.86ecfc6f.js"><link rel="prefetch" href="/notes-page/assets/js/94.2943dc08.js"><link rel="prefetch" href="/notes-page/assets/js/95.776fdf75.js"><link rel="prefetch" href="/notes-page/assets/js/96.22a465a5.js"><link rel="prefetch" href="/notes-page/assets/js/97.1e0ebfb6.js"><link rel="prefetch" href="/notes-page/assets/js/98.70baa601.js"><link rel="prefetch" href="/notes-page/assets/js/99.0668091d.js"><link rel="prefetch" href="/notes-page/assets/js/vendors~docsearch.9df483b9.js"><link rel="prefetch" href="/notes-page/assets/js/vendors~photo-swipe.da1d5931.js"><link rel="prefetch" href="/notes-page/assets/js/vendors~search-page.2e405e6e.js">
    <link rel="stylesheet" href="/notes-page/assets/css/0.styles.ee344319.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/notes-page/" class="home-link router-link-active"><!----> <span class="site-name">å¤§å‰ç«¯ - å‰ç«¯é«˜çº§è¿›é˜¶</span></a> <div class="links"><div id="docsearch"></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>ç¤¾åŒºPC</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/notes-page/project/community-pc/" class="sidebar-link">PC</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>ç¤¾åŒºç®¡ç†åå°</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/notes-page/project/community-admin/" class="sidebar-link">ç®¡ç†åå°</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>ç¤¾åŒºWebApp</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/notes-page/project/community-webapp/" class="sidebar-link">webapp</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>å°ç¨‹åº</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/notes-page/project/community-miniapp/" class="sidebar-link">uniappä»‹ç»</a></li><li><a href="/notes-page/project/community-miniapp/01-æ­å»ºå¼€å‘ç¯å¢ƒ.html" class="sidebar-link">æ­å»ºå¼€å‘ç¯å¢ƒ</a></li><li><a href="/notes-page/project/community-miniapp/02-é¦–é¡µæ¨¡å—.html" class="sidebar-link">é¦–é¡µæ¨¡å—</a></li><li><a href="/notes-page/project/community-miniapp/03-ç™»å½•é‰´æƒ.html" class="sidebar-link">å°ç¨‹åºé‰´æƒç™»å½•</a></li><li><a href="/notes-page/project/community-miniapp/04-æ¶ˆæ¯&amp;çƒ­é—¨&amp;ä¸ªäººä¸­å¿ƒ.html" class="sidebar-link">æ¶ˆæ¯&amp;çƒ­é—¨&amp;ä¸ªäººä¸­å¿ƒ</a></li><li><a href="/notes-page/project/community-miniapp/05-RefreshTokenæœºåˆ¶.html" class="sidebar-link">RefreshTokenæœºåˆ¶</a></li><li><a href="/notes-page/project/community-miniapp/06-æ–‡ç« è¯¦æƒ….html" class="sidebar-link">æ–‡ç« è¯¦æƒ…</a></li><li><a href="/notes-page/project/community-miniapp/07-å®‰å…¨åŸŸåç›¸å…³.html" class="sidebar-link">å®‰å…¨åŸŸåç›¸å…³</a></li><li><a href="/notes-page/project/community-miniapp/08-è®¢é˜…æ¶ˆæ¯.html" class="sidebar-link">è®¢é˜…æ¶ˆæ¯</a></li><li><a href="/notes-page/project/community-miniapp/09-å†…å®¹å®‰å…¨.html" class="sidebar-link">å†…å®¹å®‰å…¨</a></li><li><a href="/notes-page/project/community-miniapp/10-å‘è´´&amp;è¯„è®ºåŠŸèƒ½.html" class="sidebar-link">å‘è´´è¯„è®ºåŠŸèƒ½</a></li><li><a href="/notes-page/project/community-miniapp/11-å‘å¸ƒä¸Šçº¿.html" class="sidebar-link">å‘å¸ƒä¸Šçº¿</a></li><li><a href="/notes-page/project/community-miniapp/12-æ”¯ä»˜ä¸“é¢˜.html" class="sidebar-link">æ”¯ä»˜ä¸“é¢˜</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Flutter 2.0</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/notes-page/project/community-flutter/" aria-current="page" class="sidebar-link">Flutter</a></li><li><a href="/notes-page/project/community-flutter/01-é£æ ¼æŒ‡å—.html" class="sidebar-link">é£æ ¼æŒ‡å—</a></li><li><a href="/notes-page/project/community-flutter/02-Flutterå…¥é—¨.html" class="sidebar-link">Flutterå…¥é—¨æ¡ˆä¾‹</a></li><li><a href="/notes-page/project/community-flutter/03-å¼‚æ­¥ç¼–ç¨‹æ€æƒ³.html" class="sidebar-link">å¼‚æ­¥ç¼–ç¨‹æ€æƒ³</a></li><li><a href="/notes-page/project/community-flutter/04-çŠ¶æ€ç®¡ç†.html" class="sidebar-link">çŠ¶æ€ç®¡ç†æ¦‚è§ˆ</a></li><li><a href="/notes-page/project/community-flutter/05-çŠ¶æ€ç®¡ç†-redux.html" class="sidebar-link">çŠ¶æ€ç®¡ç†æ–¹æ¡ˆ-Redux</a></li><li><a href="/notes-page/project/community-flutter/06-çŠ¶æ€ç®¡ç†-scoped_model.html" class="sidebar-link">çŠ¶æ€ç®¡ç†æ–¹æ¡ˆ-ScopedModel</a></li><li><a href="/notes-page/project/community-flutter/07-çŠ¶æ€ç®¡ç†-bloc.html" class="sidebar-link">çŠ¶æ€ç®¡ç†æ–¹æ¡ˆ-Bloc</a></li><li><a href="/notes-page/project/community-flutter/08-è·å–éªŒè¯ç .html" class="sidebar-link">è·å–éªŒè¯ç </a></li><li><a href="/notes-page/project/community-flutter/09-å°è£…è¯·æ±‚.html" class="sidebar-link">å°è£…è¯·æ±‚</a></li><li><a href="/notes-page/project/community-flutter/10-ç½‘ç»œæµ‹è¯•.html" class="sidebar-link">ç½‘ç»œè°ƒè¯•</a></li><li><a href="/notes-page/project/community-flutter/11-åˆ›å»ºçŸ­ä¿¡æ¥å£æœåŠ¡.html" class="sidebar-link">åˆ›å»ºå‘é€çŸ­ä¿¡éªŒè¯ç æœåŠ¡</a></li><li><a href="/notes-page/project/community-flutter/12-åºåˆ—åŒ–.html" class="sidebar-link">åºåˆ—åŒ–</a></li><li><a href="/notes-page/project/community-flutter/13-è‡ªå®šä¹‰toastç»„ä»¶.html" class="sidebar-link">è‡ªå®šä¹‰toastç»„ä»¶</a></li><li><a href="/notes-page/project/community-flutter/14-ä¼˜åŒ–çŸ­ä¿¡éªŒè¯ç é€»è¾‘.html" class="sidebar-link">ä¼˜åŒ–çŸ­ä¿¡éªŒè¯ç é€»è¾‘</a></li><li><a href="/notes-page/project/community-flutter/15-æ•°æ®æŒä¹…åŒ–-getstorage.html" class="sidebar-link">æ•°æ®æŒä¹…åŒ–-GetStorage</a></li><li><a href="/notes-page/project/community-flutter/16-æ•°æ®æŒä¹…åŒ–-sqflite.html" class="sidebar-link">æ•°æ®æŒä¹…åŒ–-Sqflite</a></li><li><a href="/notes-page/project/community-flutter/17-è·¯ç”±.html" class="active sidebar-link">è·¯ç”±</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes-page/project/community-flutter/17-è·¯ç”±.html#fluro" class="sidebar-link">fluro</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes-page/project/community-flutter/17-è·¯ç”±.html#å®‰è£…" class="sidebar-link">å®‰è£…</a></li><li class="sidebar-sub-header"><a href="/notes-page/project/community-flutter/17-è·¯ç”±.html#åŸºç¡€ç¤ºä¾‹" class="sidebar-link">åŸºç¡€ç¤ºä¾‹</a></li><li class="sidebar-sub-header"><a href="/notes-page/project/community-flutter/17-è·¯ç”±.html#è·¯å¾„å‚æ•°" class="sidebar-link">è·¯å¾„å‚æ•°</a></li><li class="sidebar-sub-header"><a href="/notes-page/project/community-flutter/17-è·¯ç”±.html#ç¼–è¾‘å¼å¯¼èˆª" class="sidebar-link">ç¼–è¾‘å¼å¯¼èˆª</a></li></ul></li><li class="sidebar-sub-header"><a href="/notes-page/project/community-flutter/17-è·¯ç”±.html#auto-route" class="sidebar-link">auto_route</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes-page/project/community-flutter/17-è·¯ç”±.html#å®‰è£…-2" class="sidebar-link">å®‰è£…</a></li><li class="sidebar-sub-header"><a href="/notes-page/project/community-flutter/17-è·¯ç”±.html#åŸºç¡€ç¤ºä¾‹-2" class="sidebar-link">åŸºç¡€ç¤ºä¾‹</a></li><li class="sidebar-sub-header"><a href="/notes-page/project/community-flutter/17-è·¯ç”±.html#è·¯å¾„-queryå‚æ•°" class="sidebar-link">è·¯å¾„&amp;Queryå‚æ•°</a></li><li class="sidebar-sub-header"><a href="/notes-page/project/community-flutter/17-è·¯ç”±.html#å¯¼èˆªå®ˆå«" class="sidebar-link">å¯¼èˆªå®ˆå«</a></li></ul></li><li class="sidebar-sub-header"><a href="/notes-page/project/community-flutter/17-è·¯ç”±.html#navigator-2-0" class="sidebar-link">Navigator 2.0</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes-page/project/community-flutter/17-è·¯ç”±.html#ä¸ºä»€ä¹ˆéœ€è¦æ–°çš„-api" class="sidebar-link">ä¸ºä»€ä¹ˆéœ€è¦æ–°çš„ API</a></li><li class="sidebar-sub-header"><a href="/notes-page/project/community-flutter/17-è·¯ç”±.html#navigator-1-0æ—¶ä»£" class="sidebar-link">Navigator 1.0æ—¶ä»£</a></li><li class="sidebar-sub-header"><a href="/notes-page/project/community-flutter/17-è·¯ç”±.html#å‘½åå¼è·¯ç”±" class="sidebar-link">å‘½åå¼è·¯ç”±</a></li><li class="sidebar-sub-header"><a href="/notes-page/project/community-flutter/17-è·¯ç”±.html#è·¯ç”±ä¼ å‚" class="sidebar-link">è·¯ç”±ä¼ å‚</a></li><li class="sidebar-sub-header"><a href="/notes-page/project/community-flutter/17-è·¯ç”±.html#å­¦ä¹ å»ºè®®" class="sidebar-link">å­¦ä¹ å»ºè®®</a></li></ul></li><li class="sidebar-sub-header"><a href="/notes-page/project/community-flutter/17-è·¯ç”±.html#é˜²æ­¢ç”¨æˆ·é€€å‡ºé¡µé¢" class="sidebar-link">é˜²æ­¢ç”¨æˆ·é€€å‡ºé¡µé¢</a></li></ul></li><li><a href="/notes-page/project/community-flutter/18-é›†æˆæ–¹æ¡ˆ&amp;æ¶ˆæ¯&amp;é€‚é….html" class="sidebar-link">é›†æˆæ–¹æ¡ˆ&amp;æ¶ˆæ¯&amp;é€‚é…</a></li><li><a href="/notes-page/project/community-flutter/19-è‹¹æœå¼€å‘è€….html" class="sidebar-link">è‹¹æœå¼€å‘è€…</a></li><li><a href="/notes-page/project/community-flutter/20-å¯åŠ¨å›¾æ ‡ä¸å¯åŠ¨å›¾.html" class="sidebar-link">é…ç½®åº”ç”¨å›¾æ ‡ä¸å¯åŠ¨å›¾</a></li><li><a href="/notes-page/project/community-flutter/21-æ—¥å¿—æ”¶é›†.html" class="sidebar-link">é”™è¯¯æ—¥å¿—æ”¶é›†</a></li><li><a href="/notes-page/project/community-flutter/22-æ‰“åŒ….html" class="sidebar-link">ç§»åŠ¨ç«¯æ‰“åŒ…</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Electronæ¡Œé¢ç«¯</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/notes-page/project/community-electron/" class="sidebar-link">æ•´ä½“ä»‹ç»</a></li><li><a href="/notes-page/project/community-electron/01-æ ¸å¿ƒæ¦‚å¿µ.html" class="sidebar-link">æ ¸å¿ƒæ¦‚å¿µ</a></li><li><a href="/notes-page/project/community-electron/02-ä¸ä¸»æµæ¡†æ¶é›†æˆ.html" class="sidebar-link">ä¸ä¸»æµçš„æ¡†æ¶é›†æˆ</a></li><li><a href="/notes-page/project/community-electron/03-ç¤¾åŒºé¡¹ç›®æ•´åˆ.html" class="sidebar-link">ä¸šåŠ¡é¡¹ç›®æ•´åˆ</a></li><li><a href="/notes-page/project/community-electron/04-ç¬¬ä¸‰æ–¹ç™»å½•æ‰«ç ç™»å½•.html" class="sidebar-link">ç¬¬ä¸‰æ–¹ç™»å½•ï¼ˆæ‰«ç ç™»å½•ï¼‰</a></li><li><a href="/notes-page/project/community-electron/05-åŸç”Ÿåº”ç”¨é€šçŸ¥.html" class="sidebar-link">åŸç”Ÿåº”ç”¨é€šçŸ¥</a></li><li><a href="/notes-page/project/community-electron/06-æ‰“åŒ…ä¸æ›´æ–°.html" class="sidebar-link">Electronæ‰“åŒ…</a></li><li><a href="/notes-page/project/community-electron/07-å¤šå¹³å°æ‰“åŒ….html" class="sidebar-link">å¤šå¹³å°æ‰“åŒ…</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Reactä¸–ç•Œ</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/notes-page/project/react/" class="sidebar-link">Reacté¡¹ç›®</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="è·¯ç”±"><a href="#è·¯ç”±" class="header-anchor">#</a> è·¯ç”±</h1> <p>å‰ç«¯äººçœ¼ä¸­çš„è·¯ç”±ï¼š</p> <ul><li>åŸºç¡€è·¯ç”±ï¼šä»A-&gt;B-&gt;Cæƒ³æ€ä¹ˆè·³æ€ä¹ˆè·³ï¼Œæœ‰ä¸€ä¸ªç»Ÿä¸€çš„æ–¹æ³•ï¼›</li> <li>è·¯ç”±ä¼ å‚ï¼ˆè·¯å¾„å‚æ•°ã€queryå‚æ•°ç­‰ï¼‰ï¼›</li> <li>è·¯ç”±å®ˆå«ï¼Œè·¯ç”±ç”Ÿå‘½å‘¨æœŸé’©å­æ–¹æ³•ï¼›</li></ul> <p>Flutterä¸­éš¾é“å°±æ²¡æœ‰è·¯ç”±æ–¹æ¡ˆå—ï¼Ÿæ˜¯å› ä¸ºNavigator1.0æ—¶ä»£çš„é—®é¢˜ï¼š</p> <ul><li>åŸå…ˆçš„è·¯ç”±åªèƒ½ç”±InitialRouteæ¥å†³å®šï¼Œè·¯å¾„ä¼ å‚æ— æ³•å®ç°ï¼›</li> <li>ç®€å•çš„Pushä¸Popï¼Œä¸èƒ½ç›´æ¥æ“ä½œè·¯ç”±å †æ ˆï¼›</li> <li>æ‰€æœ‰çš„åµŒå¥—çš„é€»è¾‘ï¼Œåªèƒ½å›åˆ°æ ¹Navigatorå“åº”ï¼›</li></ul> <p>è·¯ç”±çš„è§£å†³æ–¹æ¡ˆï¼š</p> <ul><li>ç¬¬ä¸‰æ–¹åŒ…ï¼šfluroï¼Œflutter_modularï¼Œauto_routeï¼›</li> <li>Navigator 2.0 æ–¹æ¡ˆï¼Œæ˜¯å®˜æ–¹æ”¹å†™è¿‡åçš„ï¼ˆä¸æ¨èï¼Œä¸Šæ‰‹å­¦ä¹ å¡åº¦å¤§ï¼‰ï¼›</li></ul> <h2 id="fluro"><a href="#fluro" class="header-anchor">#</a> fluro</h2> <p>å®˜ç½‘ï¼š<a href="https://pub.dev/packages/fluro" target="_blank" rel="noopener noreferrer">https://pub.dev/packages/fluro<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>ç‰¹ç‚¹ï¼šå‡½æ•°å¼å¯¼èˆªã€è·¯ç”±å‚æ•°è§£æã€å†…ç½®è·¯ç”±è¿‡æ¸¡</p> <h3 id="å®‰è£…"><a href="#å®‰è£…" class="header-anchor">#</a> å®‰è£…</h3> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">dependencies</span><span class="token punctuation">:</span>
  <span class="token key atrule">fluro</span><span class="token punctuation">:</span> ^2.0.3
</code></pre></div><p>ä½¿ç”¨<code>flutter pub get</code>å®‰è£…ä¾èµ–ã€‚</p> <h3 id="åŸºç¡€ç¤ºä¾‹"><a href="#åŸºç¡€ç¤ºä¾‹" class="header-anchor">#</a> åŸºç¡€ç¤ºä¾‹</h3> <ol><li>åˆ›å»ºè·¯ç”±æ–‡ä»¶</li></ol> <div class="language-dart extra-class"><pre class="language-dart"><code><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:fluro/fluro.dart'</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:my_app/pages/home_view.dart'</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:my_app/pages/login_view.dart'</span></span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Routes</span> <span class="token punctuation">{</span>
  <span class="token comment">// 1.å®šä¹‰é¡µé¢çš„è·¯å¾„</span>
  <span class="token keyword">static</span> <span class="token class-name">String</span> login <span class="token operator">=</span> <span class="token string-literal"><span class="token string">'/'</span></span><span class="token punctuation">;</span>
  <span class="token keyword">static</span> <span class="token class-name">String</span> home <span class="token operator">=</span> <span class="token string-literal"><span class="token string">'/home'</span></span><span class="token punctuation">;</span>

  <span class="token comment">// 2.å®šä¹‰å¯¹åº”è·¯å¾„çš„-&gt;handler</span>
  <span class="token keyword">static</span> <span class="token class-name">Handler</span> _loginHandler <span class="token operator">=</span> <span class="token class-name">Handler</span><span class="token punctuation">(</span>
    handlerFunc<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">,</span> parameters<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token class-name">LoginView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">static</span> <span class="token class-name">Handler</span> _homeHandler <span class="token operator">=</span> <span class="token class-name">Handler</span><span class="token punctuation">(</span>
    handlerFunc<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">,</span> parameters<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token class-name">HomeView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 3.å®šä¹‰configureRoutes -&gt; ç”¨äºäº§ç”Ÿé¡µé¢çš„è·¯ç”±</span>
  <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">configureRoutes</span><span class="token punctuation">(</span><span class="token class-name">FluroRouter</span> router<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    router<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span>login<span class="token punctuation">,</span> handler<span class="token punctuation">:</span> _loginHandler<span class="token punctuation">)</span><span class="token punctuation">;</span>
    router<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span>home<span class="token punctuation">,</span>
        handler<span class="token punctuation">:</span> _homeHandler<span class="token punctuation">,</span> transitionType<span class="token punctuation">:</span> <span class="token class-name">TransitionType</span><span class="token punctuation">.</span>cupertino<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>è¯´æ˜ï¼š</p> <ul><li>æ¯ä¸ªè·¯ç”±å¯¹åº”ä¸€ä¸ªå¤„ç†å‡½æ•°ï¼›</li> <li>å¤„ç†å‡½æ•°å¯¹åº”ä¸€ä¸ªé¡µé¢ï¼›</li> <li>åœ¨<code>configureRoutes</code>å®šä¹‰è·¯å¾„ä¸å¤„ç†å‡½æ•°çš„å¯¹åº”å…³ç³»ï¼Œ<code>transitionType: TransitionType.cupertino</code>é¡µé¢åˆ‡æ¢æ•ˆæœå®šä¹‰ï¼›</li></ul> <ol start="2"><li>åœ¨<code>main.dart</code>ä¸­é…ç½®è·¯ç”±</li></ol> <div class="language-dart extra-class"><pre class="language-dart"><code>
<span class="token keyword">class</span> <span class="token class-name">MyApp</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token class-name">MyApp</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">Key</span><span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token metadata function">@override</span>
  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 1.å®ä¾‹åŒ–router -&gt; FluroRouter</span>
    <span class="token class-name">FluroRouter</span> router <span class="token operator">=</span> <span class="token class-name">FluroRouter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 2.configureRoutes -&gt; é…ç½®è·¯ç”±</span>
    <span class="token class-name">Routes</span><span class="token punctuation">.</span><span class="token function">configureRoutes</span><span class="token punctuation">(</span>router<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 3.MaterialApp -&gt; router.generator</span>
    <span class="token comment">// CuperinoApp</span>
    <span class="token keyword">return</span> <span class="token class-name">MaterialApp</span><span class="token punctuation">(</span>
      theme<span class="token punctuation">:</span> <span class="token class-name">ThemeData</span><span class="token punctuation">(</span>
        brightness<span class="token punctuation">:</span> <span class="token class-name">Brightness</span><span class="token punctuation">.</span>light<span class="token punctuation">,</span>
        primaryColorBrightness<span class="token punctuation">:</span> <span class="token class-name">Brightness</span><span class="token punctuation">.</span>light<span class="token punctuation">,</span>
      <span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token comment">// è¿™é‡Œä¸éœ€è¦ä½¿ç”¨homeï¼Œåº”è¯¥äº¤ç”±fluroæ¥ç®¡ç†æˆ‘ä»¬çš„åº”ç”¨</span>
      <span class="token comment">// home: Scaffold(</span>
      <span class="token comment">//   appBar: AppBar(),</span>
      <span class="token comment">//   // 2. SafeArea</span>
      <span class="token comment">//   body: HomePage(),</span>
      <span class="token comment">// ),</span>
      initialRoute<span class="token punctuation">:</span> <span class="token class-name">Routes</span><span class="token punctuation">.</span>login<span class="token punctuation">,</span>
      onGenerateRoute<span class="token punctuation">:</span> router<span class="token punctuation">.</span>generator<span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// return MaterialApp(</span>
    <span class="token comment">//   home: Scaffold(</span>
    <span class="token comment">//     appBar: AppBar(),</span>
    <span class="token comment">//     body: Container(</span>
    <span class="token comment">//       child: Text(</span>
    <span class="token comment">//         'toimcç¤¾åŒº',</span>
    <span class="token comment">//         textDirection: TextDirection.ltr,</span>
    <span class="token comment">//       ),</span>
    <span class="token comment">//     ),</span>
    <span class="token comment">//   ),</span>
    <span class="token comment">// );</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="è·¯å¾„å‚æ•°"><a href="#è·¯å¾„å‚æ•°" class="header-anchor">#</a> è·¯å¾„å‚æ•°</h3> <p>è·¯å¾„å‚æ•°ä¸å‰ç«¯ä¸­çš„è·¯å¾„å‚æ•°æ„æ€ä¸€æ ·ï¼š</p> <p>è®¾ç½®æ–¹æ³•ï¼š</p> <div class="language-dart extra-class"><pre class="language-dart"><code><span class="token keyword">class</span> <span class="token class-name">Routes</span> <span class="token punctuation">{</span>
  <span class="token comment">// 1.å®šä¹‰é¡µé¢çš„è·¯å¾„</span>
  <span class="token keyword">static</span> <span class="token class-name">String</span> login <span class="token operator">=</span> <span class="token string-literal"><span class="token string">'/'</span></span><span class="token punctuation">;</span>
  <span class="token comment">// è·¯å¾„å‚æ•°</span>
  <span class="token keyword">static</span> <span class="token class-name">String</span> home <span class="token operator">=</span> <span class="token string-literal"><span class="token string">'/home/:id/:username'</span></span><span class="token punctuation">;</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre></div><p>å–å€¼æ–¹æ³•ï¼š</p> <div class="language-dart extra-class"><pre class="language-dart"><code><span class="token keyword">class</span> <span class="token class-name">Routes</span> <span class="token punctuation">{</span>
<span class="token comment">// ...</span>
	<span class="token comment">// 2.å®šä¹‰å¯¹åº”è·¯å¾„çš„-&gt;handler</span>
  <span class="token keyword">static</span> <span class="token class-name">Handler</span> _loginHandler <span class="token operator">=</span> <span class="token class-name">Handler</span><span class="token punctuation">(</span>
    handlerFunc<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">,</span> params<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// å¯ä»¥ä»parametersä¸­å–å‚</span>
      <span class="token comment">// print('params is $params')</span>
      <span class="token keyword">return</span> <span class="token class-name">LoginView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="ç¼–è¾‘å¼å¯¼èˆª"><a href="#ç¼–è¾‘å¼å¯¼èˆª" class="header-anchor">#</a> ç¼–è¾‘å¼å¯¼èˆª</h3> <p>éœ€è¦æŠŠfluroçš„å®ä¾‹è¿›è¡Œå…¨å±€å®ä¾‹åŒ–ï¼Œè¿›è¡Œä½¿ç”¨ã€‚</p> <p>å€ŸåŠ©<code>get_it</code>:</p> <div class="language-dart extra-class"><pre class="language-dart"><code><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:fluro/fluro.dart'</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:get_it/get_it.dart'</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:my_app/services/content_service.dart'</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:my_app/services/user_service.dart'</span></span><span class="token punctuation">;</span>

<span class="token keyword">final</span> getIt <span class="token operator">=</span> <span class="token class-name">GetIt</span><span class="token punctuation">.</span>instance<span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">setupGetIt</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  getIt<span class="token punctuation">.</span>registerLazySingleton<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">UserService</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token class-name">UserService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  getIt<span class="token punctuation">.</span>registerLazySingleton<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ContentService</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token class-name">ContentService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  getIt<span class="token punctuation">.</span>registerSingleton<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">FluroRouter</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">FLuroRouter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ä¿®æ”¹<code>main.dart</code>ï¼š</p> <div class="language-dart extra-class"><pre class="language-dart"><code><span class="token keyword">class</span> <span class="token class-name">MyApp</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token class-name">MyApp</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">Key</span><span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token metadata function">@override</span>
  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ä¿®æ”¹è¿™é‡Œ</span>
    <span class="token class-name">FluroRouter</span> router <span class="token operator">=</span> getIt<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">FluroRouter</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">Routes</span><span class="token punctuation">.</span><span class="token function">configureRoutes</span><span class="token punctuation">(</span>router<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token class-name">MaterialApp</span><span class="token punctuation">(</span>
      theme<span class="token punctuation">:</span> <span class="token class-name">ThemeData</span><span class="token punctuation">(</span>
        brightness<span class="token punctuation">:</span> <span class="token class-name">Brightness</span><span class="token punctuation">.</span>light<span class="token punctuation">,</span>
        primaryColorBrightness<span class="token punctuation">:</span> <span class="token class-name">Brightness</span><span class="token punctuation">.</span>light<span class="token punctuation">,</span>
      <span class="token punctuation">)</span><span class="token punctuation">,</span>
      initialRoute<span class="token punctuation">:</span> <span class="token class-name">Routes</span><span class="token punctuation">.</span>login<span class="token punctuation">,</span>
      onGenerateRoute<span class="token punctuation">:</span> router<span class="token punctuation">.</span>generator<span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>æµ‹è¯•å¤æ‚å‚æ•°çš„ä¼ é€’ï¼š</p> <ol><li>å…ˆå®šä¹‰ä¸€ä¸ªæ•°æ®ç±»å‹ï¼š</li></ol> <div class="language-dart extra-class"><pre class="language-dart"><code><span class="token keyword">class</span> <span class="token class-name">TestParams</span> <span class="token punctuation">{</span>
  <span class="token keyword">final</span> int id<span class="token punctuation">;</span>
  <span class="token keyword">final</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>

  <span class="token class-name">TestParams</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>id<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="2"><li>å‚æ•°ä¼ é€’</li></ol> <div class="language-dart extra-class"><pre class="language-dart"><code><span class="token class-name">FluroRouter</span> router <span class="token operator">=</span> getIt<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">FluroRouter</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
router<span class="token punctuation">.</span><span class="token function">navigateTo</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">'/home'</span></span><span class="token punctuation">,</span> routeSettings<span class="token punctuation">:</span> <span class="token class-name">RouteSettings</span><span class="token punctuation">(</span>
  arguments<span class="token punctuation">:</span> <span class="token class-name">TestParams</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">'test your name'</span></span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol start="3"><li>å–å‚æ•°</li></ol> <div class="language-dart extra-class"><pre class="language-dart"><code><span class="token keyword">static</span> <span class="token class-name">Handler</span> _homeHandler <span class="token operator">=</span> <span class="token class-name">Handler</span><span class="token punctuation">(</span>
  handlerFunc<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">,</span> params<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">final</span> args <span class="token operator">=</span> context<span class="token operator">?</span><span class="token punctuation">.</span>settings<span class="token operator">?</span><span class="token punctuation">.</span>arguments <span class="token operator">as</span> <span class="token class-name">TestParams</span><span class="token punctuation">;</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'args is ğŸ‘‰ </span><span class="token interpolation"><span class="token punctuation">$</span><span class="token expression">args</span></span><span class="token string">'</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token class-name">HomeView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="auto-route"><a href="#auto-route" class="header-anchor">#</a> auto_route</h2> <p>è‡ªåŠ¨è·¯ç”±æ–¹æ¡ˆã€‚</p> <h3 id="å®‰è£…-2"><a href="#å®‰è£…-2" class="header-anchor">#</a> å®‰è£…</h3> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">dependencies</span><span class="token punctuation">:</span>
  <span class="token key atrule">flutter</span><span class="token punctuation">:</span>
    <span class="token key atrule">sdk</span><span class="token punctuation">:</span> flutter

  <span class="token comment"># è‡ªåŠ¨è·¯ç”±</span>
  <span class="token key atrule">auto_route</span><span class="token punctuation">:</span> ^2.4.2
  

<span class="token key atrule">dev_dependencies</span><span class="token punctuation">:</span>
  <span class="token key atrule">flutter_test</span><span class="token punctuation">:</span>
    <span class="token key atrule">sdk</span><span class="token punctuation">:</span> flutter

  <span class="token comment"># è‡ªåŠ¨è·¯ç”±</span>
  <span class="token key atrule">auto_route_generator</span><span class="token punctuation">:</span> ^2.4.1
</code></pre></div><h3 id="åŸºç¡€ç¤ºä¾‹-2"><a href="#åŸºç¡€ç¤ºä¾‹-2" class="header-anchor">#</a> åŸºç¡€ç¤ºä¾‹</h3> <ol><li>æ–°å»º ä¸¤ä¸ªæµ‹è¯• é¡µé¢</li></ol> <p><code>lib/pages/home_view.dart</code></p> <div class="language-dart extra-class"><pre class="language-dart"><code><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter/material.dart'</span></span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">HomeView</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token class-name">HomeView</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">Key</span><span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token metadata function">@override</span>
  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">Scaffold</span><span class="token punctuation">(</span>
      body<span class="token punctuation">:</span> <span class="token class-name">Container</span><span class="token punctuation">(</span>
        child<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'HomeView'</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><code>lib/pages/login_view.dart</code></p> <div class="language-dart extra-class"><pre class="language-dart"><code><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter/material.dart'</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:my_app/widgets/login/login_form.dart'</span></span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">LoginView</span> <span class="token keyword">extends</span> <span class="token class-name">StatefulWidget</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token class-name">LoginView</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token class-name">Key</span><span class="token operator">?</span> key<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token metadata function">@override</span>
  <span class="token class-name">State</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">LoginView</span><span class="token punctuation">&gt;</span></span> <span class="token function">createState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token function">_LoginViewState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> _LoginViewState <span class="token keyword">extends</span> <span class="token class-name">State</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">LoginView</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
  <span class="token metadata function">@override</span>
  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">Scaffold</span><span class="token punctuation">(</span>
      appBar<span class="token punctuation">:</span> <span class="token class-name">AppBar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      body<span class="token punctuation">:</span> <span class="token class-name">SafeArea</span><span class="token punctuation">(</span>
        <span class="token comment">// 1.Column -&gt; logo + form</span>
        <span class="token comment">// 2.å¦‚ä½•å¼•ç”¨å›¾ç‰‡ -&gt; å›¾ç‰‡åœ†è§’</span>
        child<span class="token punctuation">:</span> <span class="token class-name">SingleChildScrollView</span><span class="token punctuation">(</span>
          child<span class="token punctuation">:</span> <span class="token class-name">Column</span><span class="token punctuation">(</span>
            children<span class="token punctuation">:</span> <span class="token punctuation">[</span>
              <span class="token class-name">Container</span><span class="token punctuation">(</span>
                margin<span class="token punctuation">:</span> <span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">only</span><span class="token punctuation">(</span>
                  top<span class="token punctuation">:</span> <span class="token number">50.0</span><span class="token punctuation">,</span>
                  bottom<span class="token punctuation">:</span> <span class="token number">30.0</span><span class="token punctuation">,</span>
                <span class="token punctuation">)</span><span class="token punctuation">,</span>
                height<span class="token punctuation">:</span> <span class="token number">120</span><span class="token punctuation">,</span>
                decoration<span class="token punctuation">:</span> <span class="token class-name">BoxDecoration</span><span class="token punctuation">(</span>shape<span class="token punctuation">:</span> <span class="token class-name">BoxShape</span><span class="token punctuation">.</span>circle<span class="token punctuation">,</span> boxShadow<span class="token punctuation">:</span> <span class="token punctuation">[</span>
                  <span class="token class-name">BoxShadow</span><span class="token punctuation">(</span>
                    color<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>black12<span class="token punctuation">,</span>
                    spreadRadius<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
                    blurRadius<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
                  <span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                child<span class="token punctuation">:</span> <span class="token class-name">Center</span><span class="token punctuation">(</span>
                  child<span class="token punctuation">:</span> <span class="token class-name">CircleAvatar</span><span class="token punctuation">(</span>
                    backgroundImage<span class="token punctuation">:</span> <span class="token class-name">AssetImage</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'static/images/logo.png'</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                    radius<span class="token punctuation">:</span> <span class="token number">60</span><span class="token punctuation">,</span>
                    backgroundColor<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>white<span class="token punctuation">,</span>
                  <span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token punctuation">)</span><span class="token punctuation">,</span>
              <span class="token punctuation">)</span><span class="token punctuation">,</span>
              <span class="token class-name">LoginForm</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="2"><li>å®šä¹‰è·¯ç”±<code>libs/routes.dart</code></li></ol> <div class="language-dart extra-class"><pre class="language-dart"><code><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:auto_route/auto_route.dart'</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:my_app/pages/home_view.dart'</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:my_app/pages/login_view.dart'</span></span><span class="token punctuation">;</span>

<span class="token metadata function">@MaterialAutoRouter</span><span class="token punctuation">(</span>routes<span class="token punctuation">:</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">AutoRoute</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span>
  <span class="token class-name">AutoRoute</span><span class="token punctuation">(</span>page<span class="token punctuation">:</span> <span class="token class-name">LoginView</span><span class="token punctuation">,</span> initial<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token class-name">AutoRoute</span><span class="token punctuation">(</span>page<span class="token punctuation">:</span> <span class="token class-name">HomeView</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">class</span> $<span class="token class-name">AppRouter</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre></div><ol start="3"><li>æ‰§è¡Œè‡ªåŠ¨è·¯ç”±æ„å»ºå‘½ä»¤<code>flutter pub run build_runner build</code>ï¼Œäº§ç”Ÿå¯¹åº”çš„<code>.gr.dart</code>æ–‡ä»¶</li></ol> <blockquote><p>å¦‚æœå†²çªï¼Œå¯ä»¥ä½¿ç”¨<code>--delete-conflicting-outputs</code>ï¼Œæ³¨æ„ä½¿ç”¨è¯¥å‚æ•°ä¹‹å‰ï¼Œä¸€å®šè¦gitæäº¤ä»£ç ã€‚</p></blockquote> <p>è‡ªåŠ¨è·¯ç”±æ–‡ä»¶<code>libs/routes.gr.dart</code></p> <div class="language-dart extra-class"><pre class="language-dart"><code><span class="token comment">// GENERATED CODE - DO NOT MODIFY BY HAND</span>

<span class="token comment">// **************************************************************************</span>
<span class="token comment">// AutoRouteGenerator</span>
<span class="token comment">// **************************************************************************</span>

<span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:auto_route/auto_route.dart'</span></span> <span class="token operator">as</span> _i3<span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter/material.dart'</span></span> <span class="token operator">as</span> _i4<span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'pages/home_view.dart'</span></span> <span class="token operator">as</span> _i2<span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'pages/login_view.dart'</span></span> <span class="token operator">as</span> _i1<span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">AppRouter</span> <span class="token keyword">extends</span> _i3<span class="token punctuation">.</span>RootStackRouter <span class="token punctuation">{</span>
  <span class="token class-name">AppRouter</span><span class="token punctuation">(</span><span class="token punctuation">[</span>_i4<span class="token punctuation">.</span>GlobalKey<span class="token generics"><span class="token punctuation">&lt;</span>_i4<span class="token punctuation">.</span>NavigatorState<span class="token punctuation">&gt;</span></span><span class="token operator">?</span> navigatorKey<span class="token punctuation">]</span><span class="token punctuation">)</span>
      <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>navigatorKey<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token metadata function">@override</span>
  <span class="token keyword">final</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> _i3<span class="token punctuation">.</span>PageFactory<span class="token punctuation">&gt;</span></span> pagesMap <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token class-name">LoginViewRoute</span><span class="token punctuation">.</span>name<span class="token punctuation">:</span> <span class="token punctuation">(</span>routeData<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> _i3<span class="token punctuation">.</span>MaterialPageX<span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>
          routeData<span class="token punctuation">:</span> routeData<span class="token punctuation">,</span> child<span class="token punctuation">:</span> <span class="token keyword">const</span> _i1<span class="token punctuation">.</span><span class="token function">LoginView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token class-name">HomeViewRoute</span><span class="token punctuation">.</span>name<span class="token punctuation">:</span> <span class="token punctuation">(</span>routeData<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> _i3<span class="token punctuation">.</span>MaterialPageX<span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>
          routeData<span class="token punctuation">:</span> routeData<span class="token punctuation">,</span> child<span class="token punctuation">:</span> <span class="token keyword">const</span> _i2<span class="token punctuation">.</span><span class="token function">HomeView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token metadata function">@override</span>
  <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span>_i3<span class="token punctuation">.</span>RouteConfig<span class="token punctuation">&gt;</span></span> <span class="token keyword">get</span> routes <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span>
        _i3<span class="token punctuation">.</span><span class="token function">RouteConfig</span><span class="token punctuation">(</span><span class="token class-name">LoginViewRoute</span><span class="token punctuation">.</span>name<span class="token punctuation">,</span> path<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">'/'</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        _i3<span class="token punctuation">.</span><span class="token function">RouteConfig</span><span class="token punctuation">(</span><span class="token class-name">HomeViewRoute</span><span class="token punctuation">.</span>name<span class="token punctuation">,</span> path<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">'/home-view'</span></span><span class="token punctuation">)</span>
      <span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/// generated route for [_i1.LoginView]</span>
<span class="token keyword">class</span> <span class="token class-name">LoginViewRoute</span> <span class="token keyword">extends</span> _i3<span class="token punctuation">.</span>PageRouteInfo<span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">void</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token class-name">LoginViewRoute</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> path<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">'/'</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">static</span> <span class="token keyword">const</span> <span class="token class-name">String</span> name <span class="token operator">=</span> <span class="token string-literal"><span class="token string">'LoginViewRoute'</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/// generated route for [_i2.HomeView]</span>
<span class="token keyword">class</span> <span class="token class-name">HomeViewRoute</span> <span class="token keyword">extends</span> _i3<span class="token punctuation">.</span>PageRouteInfo<span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">void</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token class-name">HomeViewRoute</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> path<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">'/home-view'</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">static</span> <span class="token keyword">const</span> <span class="token class-name">String</span> name <span class="token operator">=</span> <span class="token string-literal"><span class="token string">'HomeViewRoute'</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="4"><li>æ”¹é€ <code>main.dart</code>æ–‡ä»¶</li></ol> <div class="language-dart extra-class"><pre class="language-dart"><code><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter/cupertino.dart'</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter/material.dart'</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:my_app/routes.gr.dart'</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:my_app/setup_get_it.dart'</span></span><span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>
  <span class="token function">setupGetIt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">runApp</span><span class="token punctuation">(</span><span class="token class-name">MyApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">MyApp</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token class-name">MyApp</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">Key</span><span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token metadata function">@override</span>
  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">final</span> _rootRouter <span class="token operator">=</span> getIt<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">AppRouter</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token class-name">MaterialApp</span><span class="token punctuation">.</span><span class="token function">router</span><span class="token punctuation">(</span>
      routeInformationParser<span class="token punctuation">:</span> _rootRouter<span class="token punctuation">.</span><span class="token function">defaultRouteParser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      routerDelegate<span class="token punctuation">:</span> _rootRouter<span class="token punctuation">.</span><span class="token function">delegate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="5"><li>ä½¿ç”¨å¯¼èˆªï¼š</li></ol> <p>å…¨å±€æ³¨å†Œ<code>AppRouter</code></p> <div class="language-dart extra-class"><pre class="language-dart"><code><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:get_it/get_it.dart'</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:my_app/routes.gr.dart'</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:my_app/services/content_service.dart'</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:my_app/services/user_service.dart'</span></span><span class="token punctuation">;</span>

<span class="token keyword">final</span> getIt <span class="token operator">=</span> <span class="token class-name">GetIt</span><span class="token punctuation">.</span>instance<span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">setupGetIt</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  getIt<span class="token punctuation">.</span>registerLazySingleton<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">UserService</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token class-name">UserService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  getIt<span class="token punctuation">.</span>registerLazySingleton<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ContentService</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token class-name">ContentService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// å…¨å±€æ³¨å†Œï¼Œä»¥ä¾¿åœ¨å…¨å±€ä½¿ç”¨</span>
  getIt<span class="token punctuation">.</span>registerSingleton<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">AppRouter</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">AppRouter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>æ¯”å¦‚åœ¨<code>login_form.dart</code>ä¸­ï¼š</p> <div class="language-dart extra-class"><pre class="language-dart"><code><span class="token class-name">Padding</span><span class="token punctuation">(</span>
  padding<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">only</span><span class="token punctuation">(</span>top<span class="token punctuation">:</span> <span class="token number">10.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  child<span class="token punctuation">:</span> <span class="token class-name">SizedBox</span><span class="token punctuation">(</span>
    width<span class="token punctuation">:</span> <span class="token number">120</span><span class="token punctuation">,</span>
    child<span class="token punctuation">:</span> <span class="token class-name">ElevatedButton</span><span class="token punctuation">(</span>
      child<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'ç™»å½•'</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>
        <span class="token keyword">final</span> router <span class="token operator">=</span> getIt<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">AppRouter</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token class-name">HomeViewRoute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 1.AutoRouter æ–¹æ³•ä¸€</span>
        <span class="token comment">// AutoRouter.of(context).navigate(HomeViewRoute());</span>
        <span class="token comment">// AutoRouter.of(context).navigateNamed('/home-view');</span>

        <span class="token comment">// 2.context.router æ–¹æ³•äºŒ</span>
        <span class="token comment">// context.router.navigate(HomeViewRoute());</span>

        <span class="token comment">// 3.context.pushRoute æ–¹æ³•ä¸‰</span>
        <span class="token comment">// context.pushRoute(HomeViewRoute());</span>

        <span class="token comment">// String mobile = controller.text;</span>
        <span class="token comment">// String code = codeController.text;</span>
        <span class="token comment">// if (RegExp(RegParttern.mobileParttern).hasMatch(mobile) &amp;&amp;</span>
        <span class="token comment">//     RegExp(RegParttern.codeParttern).hasMatch(code)) {</span>
        <span class="token comment">//   await userService.login(mobile, code);</span>
        <span class="token comment">// } else {</span>
        <span class="token comment">//   CommonToast.showToast(&quot;æ‰‹æœºå·æˆ–éªŒè¯ç æ ¼å¼ä¸æ­£ç¡®&quot;);</span>
        <span class="token comment">// }</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span>
</code></pre></div><h3 id="è·¯å¾„-queryå‚æ•°"><a href="#è·¯å¾„-queryå‚æ•°" class="header-anchor">#</a> è·¯å¾„&amp;Queryå‚æ•°</h3> <ol><li>è®¾ç½®è·¯ç”±æ–‡ä»¶ï¼š</li></ol> <div class="language-dart extra-class"><pre class="language-dart"><code><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:auto_route/auto_route.dart'</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:my_app/pages/home_view.dart'</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:my_app/pages/login_view.dart'</span></span><span class="token punctuation">;</span>

<span class="token metadata function">@MaterialAutoRouter</span><span class="token punctuation">(</span>routes<span class="token punctuation">:</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">AutoRoute</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span>
  <span class="token class-name">AutoRoute</span><span class="token punctuation">(</span>page<span class="token punctuation">:</span> <span class="token class-name">LoginView</span><span class="token punctuation">,</span> initial<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token class-name">AutoRoute</span><span class="token punctuation">(</span>page<span class="token punctuation">:</span> <span class="token class-name">HomeView</span><span class="token punctuation">,</span> path<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;/home-view/:id&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">class</span> $<span class="token class-name">AppRouter</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre></div><ol start="2"><li>é‡æ–°è¿è¡Œè‡ªåŠ¨ç”Ÿæˆè·¯ç”±çš„å‘½ä»¤ï¼Œ</li></ol> <div class="language- extra-class"><pre class="language-text"><code>flutter pub run build_runner build --delete-conflicting-outputs
</code></pre></div><p>æˆ–è€…ä½¿ç”¨<code>--watch</code>å‚æ•°</p> <div class="language- extra-class"><pre class="language-text"><code>flutter pub run build_runner watch --delete-conflicting-outputs
</code></pre></div><p>äº§ç”Ÿå‡ºæ¥çš„æ–‡ä»¶ï¼š</p> <div class="language-dart extra-class"><pre class="language-dart"><code><span class="token comment">// GENERATED CODE - DO NOT MODIFY BY HAND</span>

<span class="token comment">// **************************************************************************</span>
<span class="token comment">// AutoRouteGenerator</span>
<span class="token comment">// **************************************************************************</span>

<span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:auto_route/auto_route.dart'</span></span> <span class="token operator">as</span> _i3<span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter/material.dart'</span></span> <span class="token operator">as</span> _i4<span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'pages/home_view.dart'</span></span> <span class="token operator">as</span> _i2<span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'pages/login_view.dart'</span></span> <span class="token operator">as</span> _i1<span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">AppRouter</span> <span class="token keyword">extends</span> _i3<span class="token punctuation">.</span>RootStackRouter <span class="token punctuation">{</span>
  <span class="token class-name">AppRouter</span><span class="token punctuation">(</span><span class="token punctuation">[</span>_i4<span class="token punctuation">.</span>GlobalKey<span class="token generics"><span class="token punctuation">&lt;</span>_i4<span class="token punctuation">.</span>NavigatorState<span class="token punctuation">&gt;</span></span><span class="token operator">?</span> navigatorKey<span class="token punctuation">]</span><span class="token punctuation">)</span>
      <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>navigatorKey<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token metadata function">@override</span>
  <span class="token keyword">final</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> _i3<span class="token punctuation">.</span>PageFactory<span class="token punctuation">&gt;</span></span> pagesMap <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token class-name">LoginViewRoute</span><span class="token punctuation">.</span>name<span class="token punctuation">:</span> <span class="token punctuation">(</span>routeData<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> _i3<span class="token punctuation">.</span>MaterialPageX<span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>
          routeData<span class="token punctuation">:</span> routeData<span class="token punctuation">,</span> child<span class="token punctuation">:</span> <span class="token keyword">const</span> _i1<span class="token punctuation">.</span><span class="token function">LoginView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token class-name">HomeViewRoute</span><span class="token punctuation">.</span>name<span class="token punctuation">:</span> <span class="token punctuation">(</span>routeData<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">final</span> pathParams <span class="token operator">=</span> routeData<span class="token punctuation">.</span>pathParams<span class="token punctuation">;</span>
      <span class="token keyword">final</span> queryParams <span class="token operator">=</span> routeData<span class="token punctuation">.</span>queryParams<span class="token punctuation">;</span>
      <span class="token keyword">final</span> args <span class="token operator">=</span> routeData<span class="token punctuation">.</span>argsAs<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">HomeViewRouteArgs</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>
          orElse<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token class-name">HomeViewRouteArgs</span><span class="token punctuation">(</span>
              id<span class="token punctuation">:</span> pathParams<span class="token punctuation">.</span><span class="token function">optInt</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'id'</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
              username<span class="token punctuation">:</span> queryParams<span class="token punctuation">.</span><span class="token function">optString</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'username'</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> _i3<span class="token punctuation">.</span>MaterialPageX<span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>
          routeData<span class="token punctuation">:</span> routeData<span class="token punctuation">,</span>
          child<span class="token punctuation">:</span> _i2<span class="token punctuation">.</span><span class="token function">HomeView</span><span class="token punctuation">(</span>
              key<span class="token punctuation">:</span> args<span class="token punctuation">.</span>key<span class="token punctuation">,</span>
              id<span class="token punctuation">:</span> args<span class="token punctuation">.</span>id<span class="token punctuation">,</span>
              username<span class="token punctuation">:</span> args<span class="token punctuation">.</span>username<span class="token punctuation">,</span>
              testParam<span class="token punctuation">:</span> args<span class="token punctuation">.</span>testParam<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token metadata function">@override</span>
  <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span>_i3<span class="token punctuation">.</span>RouteConfig<span class="token punctuation">&gt;</span></span> <span class="token keyword">get</span> routes <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span>
        _i3<span class="token punctuation">.</span><span class="token function">RouteConfig</span><span class="token punctuation">(</span><span class="token class-name">LoginViewRoute</span><span class="token punctuation">.</span>name<span class="token punctuation">,</span> path<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">'/'</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        _i3<span class="token punctuation">.</span><span class="token function">RouteConfig</span><span class="token punctuation">(</span><span class="token class-name">HomeViewRoute</span><span class="token punctuation">.</span>name<span class="token punctuation">,</span> path<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">'/home-view/:id'</span></span><span class="token punctuation">)</span>
      <span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/// generated route for [_i1.LoginView]</span>
<span class="token keyword">class</span> <span class="token class-name">LoginViewRoute</span> <span class="token keyword">extends</span> _i3<span class="token punctuation">.</span>PageRouteInfo<span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">void</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token class-name">LoginViewRoute</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> path<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">'/'</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">static</span> <span class="token keyword">const</span> <span class="token class-name">String</span> name <span class="token operator">=</span> <span class="token string-literal"><span class="token string">'LoginViewRoute'</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/// generated route for [_i2.HomeView]</span>
<span class="token keyword">class</span> <span class="token class-name">HomeViewRoute</span> <span class="token keyword">extends</span> _i3<span class="token punctuation">.</span>PageRouteInfo<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">HomeViewRouteArgs</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
  <span class="token class-name">HomeViewRoute</span><span class="token punctuation">(</span>
      <span class="token punctuation">{</span>_i4<span class="token punctuation">.</span>Key<span class="token operator">?</span> key<span class="token punctuation">,</span> int<span class="token operator">?</span> id<span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token operator">?</span> username<span class="token punctuation">,</span> _i2<span class="token punctuation">.</span>TestParam<span class="token operator">?</span> testParam<span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span>
            path<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">'/home-view/:id'</span></span><span class="token punctuation">,</span>
            args<span class="token punctuation">:</span> <span class="token class-name">HomeViewRouteArgs</span><span class="token punctuation">(</span>
                key<span class="token punctuation">:</span> key<span class="token punctuation">,</span> id<span class="token punctuation">:</span> id<span class="token punctuation">,</span> username<span class="token punctuation">:</span> username<span class="token punctuation">,</span> testParam<span class="token punctuation">:</span> testParam<span class="token punctuation">)</span><span class="token punctuation">,</span>
            rawPathParams<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token string-literal"><span class="token string">'id'</span></span><span class="token punctuation">:</span> id<span class="token punctuation">}</span><span class="token punctuation">,</span>
            rawQueryParams<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token string-literal"><span class="token string">'username'</span></span><span class="token punctuation">:</span> username<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">static</span> <span class="token keyword">const</span> <span class="token class-name">String</span> name <span class="token operator">=</span> <span class="token string-literal"><span class="token string">'HomeViewRoute'</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">HomeViewRouteArgs</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token class-name">HomeViewRouteArgs</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>key<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>id<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>username<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>testParam<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">final</span> _i4<span class="token punctuation">.</span>Key<span class="token operator">?</span> key<span class="token punctuation">;</span>

  <span class="token keyword">final</span> int<span class="token operator">?</span> id<span class="token punctuation">;</span>

  <span class="token keyword">final</span> <span class="token class-name">String</span><span class="token operator">?</span> username<span class="token punctuation">;</span>

  <span class="token keyword">final</span> _i2<span class="token punctuation">.</span>TestParam<span class="token operator">?</span> testParam<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="3"><li>ä¼ å‚ï¼š</li></ol> <div class="language-dart extra-class"><pre class="language-dart"><code> <span class="token keyword">final</span> router <span class="token operator">=</span> getIt<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">AppRouter</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token class-name">HomeViewRoute</span><span class="token punctuation">(</span>id<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> username<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">'hello world'</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// è·¯å¾„ä¼ å‚ + Queryä¼ å‚</span>
<span class="token comment">// router.pushNamed('/home-view/10?username=toimc');</span>
</code></pre></div><ol start="4"><li>å–å‚ï¼š</li></ol> <div class="language-dart extra-class"><pre class="language-dart"><code><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:auto_route/auto_route.dart'</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter/material.dart'</span></span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">TestParam</span> <span class="token punctuation">{</span>
  <span class="token keyword">final</span> int id<span class="token punctuation">;</span>
  <span class="token keyword">final</span> <span class="token class-name">String</span> username<span class="token punctuation">;</span>

  <span class="token class-name">TestParam</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>id<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">HomeView</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>
  <span class="token keyword">final</span> int<span class="token operator">?</span> id<span class="token punctuation">;</span>
  <span class="token keyword">final</span> <span class="token class-name">String</span><span class="token operator">?</span> username<span class="token punctuation">;</span>
  <span class="token comment">// å¤æ‚å‚æ•°çš„ä¼ é€’</span>
  <span class="token keyword">final</span> <span class="token class-name">TestParam</span><span class="token operator">?</span> testParam<span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token class-name">HomeView</span><span class="token punctuation">(</span>
      <span class="token punctuation">{</span><span class="token class-name">Key</span><span class="token operator">?</span> key<span class="token punctuation">,</span>
      <span class="token metadata function">@PathParam</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'id'</span></span><span class="token punctuation">)</span> <span class="token keyword">this</span><span class="token punctuation">.</span>id<span class="token punctuation">,</span>
      <span class="token metadata function">@QueryParam</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'username'</span></span><span class="token punctuation">)</span> <span class="token keyword">this</span><span class="token punctuation">.</span>username<span class="token punctuation">,</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>testParam<span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token metadata function">@override</span>
  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">Scaffold</span><span class="token punctuation">(</span>
      body<span class="token punctuation">:</span> <span class="token class-name">Container</span><span class="token punctuation">(</span>
        margin<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">only</span><span class="token punctuation">(</span>top<span class="token punctuation">:</span> <span class="token number">110.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        child<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'HomeView</span><span class="token interpolation"><span class="token punctuation">$</span><span class="token expression">id</span></span><span class="token string"> - </span><span class="token interpolation"><span class="token punctuation">$</span><span class="token expression">username</span></span><span class="token string">'</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="å¯¼èˆªå®ˆå«"><a href="#å¯¼èˆªå®ˆå«" class="header-anchor">#</a> å¯¼èˆªå®ˆå«</h3> <ol><li><p>éœ€è¦è°ƒæ•´è·¯ç”±è·¯å¾„ï¼ŒæŠŠroutes.dartç§»åŠ¨åˆ°<code>lib/routes/routes.dart</code>ï¼Œå¹¶åˆ é™¤<code>routes.gr.dart</code></p></li> <li><p>åˆ›å»º<code>AuthGuard</code>ï¼Œæ–‡ä»¶è·¯å¾„<code>lib/routes/auth_guard.dart</code>ï¼š</p> <div class="language-dart extra-class"><pre class="language-dart"><code><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:auto_route/auto_route.dart'</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:my_app/routes/routes.gr.dart'</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:my_app/setup_get_it.dart'</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:my_app/storage.dart'</span></span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">AuthGuard</span> <span class="token keyword">extends</span> <span class="token class-name">AutoRouteGuard</span> <span class="token punctuation">{</span>
  <span class="token metadata function">@override</span>
  <span class="token keyword">void</span> <span class="token function">onNavigation</span><span class="token punctuation">(</span><span class="token class-name">NavigationResolver</span> resolver<span class="token punctuation">,</span> <span class="token class-name">StackRouter</span> router<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    bool _authentication <span class="token operator">=</span> getIt<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Storage</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token comment">// TODO: implement onNavigation</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>_authentication<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      resolver<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>router<span class="token punctuation">.</span>current<span class="token punctuation">.</span>name <span class="token operator">!=</span> <span class="token class-name">LoginViewRoute</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token class-name">LoginViewRoute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      resolver<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>è°ƒæ•´<code>routes.dart</code>æ–‡ä»¶ï¼Œæ·»åŠ AuthGuardåˆ°å¯¹åº”çš„è·¯ç”±ï¼š</p> <div class="language-dart extra-class"><pre class="language-dart"><code><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:auto_route/auto_route.dart'</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:my_app/pages/home_view.dart'</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:my_app/pages/login_view.dart'</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:my_app/routes/auth_guard.dart'</span></span><span class="token punctuation">;</span>

<span class="token metadata function">@MaterialAutoRouter</span><span class="token punctuation">(</span>routes<span class="token punctuation">:</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">AutoRoute</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span>
  <span class="token class-name">AutoRoute</span><span class="token punctuation">(</span>page<span class="token punctuation">:</span> <span class="token class-name">LoginView</span><span class="token punctuation">,</span> initial<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token class-name">AutoRoute</span><span class="token punctuation">(</span>page<span class="token punctuation">:</span> <span class="token class-name">HomeView</span><span class="token punctuation">,</span> path<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;/home-view/:id&quot;</span></span><span class="token punctuation">,</span> guards<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token class-name">AuthGuard</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">class</span> $<span class="token class-name">AppRouter</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre></div></li> <li><p>ä¿®æ”¹ç™»å½•ä¸šåŠ¡é€»è¾‘ï¼š</p> <div class="language-dart extra-class"><pre class="language-dart"><code><span class="token class-name">String</span> mobile <span class="token operator">=</span> controller<span class="token punctuation">.</span>text<span class="token punctuation">;</span>
<span class="token class-name">String</span> code <span class="token operator">=</span> codeController<span class="token punctuation">.</span>text<span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token class-name">RegParttern</span><span class="token punctuation">.</span>mobileParttern<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hasMatch</span><span class="token punctuation">(</span>mobile<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
    <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token class-name">RegParttern</span><span class="token punctuation">.</span>codeParttern<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hasMatch</span><span class="token punctuation">(</span>code<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token class-name">HttpResponse</span> httpResponse <span class="token operator">=</span>
    <span class="token keyword">await</span> userService<span class="token punctuation">.</span><span class="token function">login</span><span class="token punctuation">(</span>mobile<span class="token punctuation">,</span> code<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>httpResponse<span class="token punctuation">.</span>code <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// tokenè¿›è¡Œè®¾ç½® -&gt; authGuard authentication</span>
    <span class="token comment">//  è¯´æ˜ç”¨æˆ·ç™»å½•æˆåŠŸ</span>
    <span class="token keyword">final</span> router <span class="token operator">=</span> getIt<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">AppRouter</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// router.pushNamed('/home-view/10?username=toimc');</span>
    router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token class-name">HomeViewRoute</span><span class="token punctuation">(</span>id<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  <span class="token class-name">CommonToast</span><span class="token punctuation">.</span><span class="token function">showToast</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;æ‰‹æœºå·æˆ–éªŒè¯ç æ ¼å¼ä¸æ­£ç¡®&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>è¯´æ˜ï¼š</p> <ul><li>ç”¨æˆ·ç‚¹å‡»ç™»å½•ï¼Œå‘é€è¯·æ±‚ï¼›</li> <li>è¯·æ±‚å“åº”åï¼Œè·å–å“åº”çš„æ•°æ®ï¼Œå¹¶è®¾ç½®tokenï¼›</li> <li>é€šè¿‡<code>Storage</code>æ¥æŒä¹…åŒ–tokenä¿¡æ¯ï¼›</li> <li>é€šè¿‡å¯¼èˆªå®ˆå«æ¥è¿›è¡Œtokençš„çŠ¶æ€åˆ¤æ–­ã€‚</li></ul></li></ol> <h2 id="navigator-2-0"><a href="#navigator-2-0" class="header-anchor">#</a> Navigator 2.0</h2> <h3 id="ä¸ºä»€ä¹ˆéœ€è¦æ–°çš„-api"><a href="#ä¸ºä»€ä¹ˆéœ€è¦æ–°çš„-api" class="header-anchor">#</a> ä¸ºä»€ä¹ˆéœ€è¦æ–°çš„ API</h3> <p>åœ¨æ¢ç©¶å…·ä½“ç»†èŠ‚ä¹‹å‰ï¼Œæˆ‘ä»¬æœ‰å¿…è¦äº†è§£ä¸€ä¸‹ Flutter å›¢é˜Ÿä¸ºä»€ä¹ˆè¦ä¸æƒœè¿™äº›ä»£ä»·å¯¹ Navigator API åšè¿™æ¬¡çš„é‡æ„ï¼Œä¸»è¦æœ‰å¦‚ä¸‹å‡ ç‚¹åŸå› ã€‚</p> <ul><li><strong>åŸå§‹ API ä¸­çš„ <code>initialRoute</code> å‚æ•°ï¼Œå³ç³»ç»Ÿé»˜è®¤çš„åˆå§‹é¡µé¢ï¼Œåœ¨åº”ç”¨è¿è¡Œåå°±ä¸èƒ½å†æ›´æ”¹äº†</strong>ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œå¦‚æœç”¨æˆ·æ¥æ”¶åˆ°ä¸€ä¸ªç³»ç»Ÿé€šçŸ¥ï¼Œç‚¹å‡»åæƒ³è¦ä»å½“å‰çš„è·¯ç”±æ ˆçŠ¶æ€ [Main -&gt; Profile -&gt; Settings] é‡å¯åˆ‡æ¢åˆ°æ–°çš„ [Main -&gt; List -&gt; Detail[id=24] è·¯ç”±æ ˆï¼Œæ—§çš„ Navigator API å¹¶æ²¡æœ‰ä¸€ç§ä¼˜é›…çš„å®ç°æ–¹å¼å®ç°è¿™ç§æ•ˆæœã€‚</li> <li><strong>åŸå§‹çš„å‘½ä»¤å¼ Navigator API åªæä¾›ç»™äº†å¼€å‘è€…ä¸€äº›éå¸¸é’ˆå¯¹æ€§çš„æ¥å£ï¼Œå¦‚ <code>push()</code>ã€<code>pop()</code> ç­‰ï¼Œè€Œæ²¡æœ‰ç»™å‡ºä¸€ç§æ›´çµæ´»çš„æ–¹å¼è®©æˆ‘ä»¬ç›´æ¥æ“ä½œè·¯ç”±æ ˆ</strong>ã€‚è¿™ç§åšæ³•å…¶å®ä¸ Flutter ç†å¿µç›¸è¿èƒŒï¼Œè¯•æƒ³å¦‚æœæˆ‘ä»¬æƒ³è¦æ”¹å˜æŸä¸ª widget çš„æ‰€æœ‰å­ç»„ä»¶åªéœ€è¦é‡å»ºæ‰€æœ‰å­ç»„ä»¶å¹¶ä¸”åˆ›å»ºä¸€ç³»åˆ—æ–°çš„ widget å³å¯ï¼Œè€Œå°†æ­¤æ¦‚å¿µåº”ç”¨åœ¨è·¯ç”±ä¸­ï¼Œå½“åº”ç”¨ä¸­å­˜åœ¨ä¸€ç³»åˆ—è·¯ç”±é¡µé¢å¹¶æƒ³è¦æ›´æ”¹æ—¶ï¼Œæˆ‘ä»¬åªèƒ½è°ƒç”¨ <code>push()</code>ã€<code>pop()</code> è¿™ç±»æ¥å£æ¥å›æ“ä½œï¼Œ <strong>è¿™æ ·çš„ Flutter é£Ÿä¹‹æ— å‘³</strong>ã€‚</li> <li><strong>åµŒå¥—è·¯ç”±ä¸‹ï¼Œæ‰‹æœºè®¾å¤‡è‡ªå¸¦çš„å›é€€æŒ‰é’®åªèƒ½ç”±æ ¹ Navigator å“åº”</strong>ã€‚åœ¨ç›®å‰çš„åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬å¾ˆå¤šåœºæ™¯éƒ½éœ€è¦åœ¨æŸä¸ªå­ tab å†…å•ç‹¬ç®¡ç†ä¸€ä¸ªå­è·¯ç”±æ ˆã€‚å‡è®¾æœ‰è¿™ä¸ªåœºæ™¯ï¼Œç”¨æˆ·åœ¨å­è·¯ç”±æ ˆä¸­åšä¸€ç³»åˆ—è·¯ç”±æ“ä½œä¹‹åï¼Œç‚¹å‡»ç³»ç»Ÿå›é€€æŒ‰é’®ï¼Œæ¶ˆå¤±çš„å°†æ˜¯æ•´ä¸ªä¸Šå±‚çš„æ ¹è·¯ç”±ï¼Œæˆ‘ä»¬å½“ç„¶å¯ä»¥ä½¿ç”¨æŸç§æªæ–½æ¥é¿å…è¿™ç§çŠ¶å†µï¼Œä½†å½’å’èµ·æ¥ï¼Œè¿™ä¹Ÿä¸åº”è¯¥æ˜¯åº”ç”¨å¼€å‘è€…åº”è¯¥è€ƒè™‘çš„é—®é¢˜ã€‚</li></ul> <p>Navigator 2.0 æ–°å¢çš„å£°æ˜å¼ API ä¸»è¦åŒ…å« <a href="https://api.flutter-io.cn/flutter/widgets/Page-class.html" target="_blank" rel="noopener noreferrer">Page<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> APIã€<a href="https://api.flutter-io.cn/flutter/widgets/Router-class.html" target="_blank" rel="noopener noreferrer">Router<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> API ä¸¤ä¸ªéƒ¨åˆ†ã€‚</p> <blockquote><p>ä¸ Flutter ä¸­ Widgetã€Elementã€ RenderObject ä¸‰æ£µæ ‘çš„æ¦‚å¿µä¿æŒä¸€è‡´ã€‚</p></blockquote> <p>é‡è¦è¯´æ˜ï¼Œå¯ä»¥å‚è€ƒ<a href="https://flutter.cn/community/tutorials/understanding-navigator-v2" target="_blank" rel="noopener noreferrer">å®˜æ–¹æ–‡æ¡£<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>å­¦ä¹ Navigator2.0çš„è®¾è®¡æ€æƒ³ã€‚</p> <h3 id="navigator-1-0æ—¶ä»£"><a href="#navigator-1-0æ—¶ä»£" class="header-anchor">#</a> Navigator 1.0æ—¶ä»£</h3> <div class="language-dart extra-class"><pre class="language-dart"><code><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter/material.dart'</span></span><span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">runApp</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token class-name">Nav2App</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Nav2App</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token class-name">Nav2App</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">Key</span><span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token metadata function">@override</span>
  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">const</span> <span class="token class-name">MaterialApp</span><span class="token punctuation">(</span>
      home<span class="token punctuation">:</span> <span class="token class-name">HomeScreen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">HomeScreen</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token class-name">HomeScreen</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">Key</span><span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token metadata function">@override</span>
  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">Scaffold</span><span class="token punctuation">(</span>
      appBar<span class="token punctuation">:</span> <span class="token class-name">AppBar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      body<span class="token punctuation">:</span> <span class="token class-name">Center</span><span class="token punctuation">(</span>
        child<span class="token punctuation">:</span> <span class="token class-name">TextButton</span><span class="token punctuation">(</span>
          child<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'æŸ¥çœ‹å­é¡µé¢'</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// è·³è½¬å­é¡µé¢</span>
            <span class="token class-name">Navigator</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>
              context<span class="token punctuation">,</span>
              <span class="token class-name">MaterialPageRoute</span><span class="token punctuation">(</span>builder<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token keyword">const</span> <span class="token class-name">DetailScreen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">DetailScreen</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token class-name">DetailScreen</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">Key</span><span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token metadata function">@override</span>
  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">Scaffold</span><span class="token punctuation">(</span>
      appBar<span class="token punctuation">:</span> <span class="token class-name">AppBar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      body<span class="token punctuation">:</span> <span class="token class-name">Center</span><span class="token punctuation">(</span>
        child<span class="token punctuation">:</span> <span class="token class-name">TextButton</span><span class="token punctuation">(</span>
          child<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'å¼¹å‡º'</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// è·³å‡ºå­é¡µé¢</span>
            <span class="token class-name">Navigator</span><span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="å‘½åå¼è·¯ç”±"><a href="#å‘½åå¼è·¯ç”±" class="header-anchor">#</a> å‘½åå¼è·¯ç”±</h3> <div class="language-dart extra-class"><pre class="language-dart"><code><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter/material.dart'</span></span><span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">runApp</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token class-name">Nav2App</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Nav2App</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token class-name">Nav2App</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">Key</span><span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token metadata function">@override</span>
  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// å‘½åå¼è·¯ç”±</span>
    <span class="token keyword">return</span> <span class="token class-name">MaterialApp</span><span class="token punctuation">(</span>
      <span class="token comment">// home: HomeScreen(),</span>
      <span class="token comment">// é™æ€çš„è·¯ç”±è¡¨</span>
      routes<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token string-literal"><span class="token string">'/'</span></span><span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token class-name">HomeScreen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string-literal"><span class="token string">'/detail'</span></span><span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token class-name">DetailScreen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">HomeScreen</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token class-name">HomeScreen</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">Key</span><span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token metadata function">@override</span>
  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">Scaffold</span><span class="token punctuation">(</span>
      appBar<span class="token punctuation">:</span> <span class="token class-name">AppBar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      body<span class="token punctuation">:</span> <span class="token class-name">Center</span><span class="token punctuation">(</span>
        child<span class="token punctuation">:</span> <span class="token class-name">TextButton</span><span class="token punctuation">(</span>
          child<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'æŸ¥çœ‹å­é¡µé¢'</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token class-name">Navigator</span><span class="token punctuation">.</span><span class="token function">pushNamed</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">'/detail'</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// Navigator.push(</span>
            <span class="token comment">//   context,</span>
            <span class="token comment">//   MaterialPageRoute(builder: (context) {</span>
            <span class="token comment">//     return const DetailScreen();</span>
            <span class="token comment">//   }),</span>
            <span class="token comment">// );</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><h3 id="è·¯ç”±ä¼ å‚"><a href="#è·¯ç”±ä¼ å‚" class="header-anchor">#</a> è·¯ç”±ä¼ å‚</h3> <p>æ ¸å¿ƒç‚¹ï¼š</p> <ul><li><p>åŠ¨æ€è·¯ç”±</p> <div class="language-dart extra-class"><pre class="language-dart"><code>onGenerateRoute<span class="token punctuation">:</span> <span class="token punctuation">(</span>settings<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// é€šè¿‡setttingsæ¥åˆ¤æ–­å½“å‰çš„é¡µé¢ä¸è¿”å›çš„å†…å®¹</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>settings<span class="token punctuation">.</span>name <span class="token operator">==</span> <span class="token string-literal"><span class="token string">'/'</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">MaterialPageRoute</span><span class="token punctuation">(</span>builder<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token class-name">HomeScreen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// ... </span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div></li> <li><p>å‚æ•°è·å–</p> <div class="language-dart extra-class"><pre class="language-dart"><code>onGenerateRoute<span class="token punctuation">:</span> <span class="token punctuation">(</span>settings<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  <span class="token comment">// /detail/:id</span>
  <span class="token keyword">var</span> uri <span class="token operator">=</span> <span class="token class-name">Uri</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>settings<span class="token punctuation">.</span>name<span class="token operator">!</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>uri<span class="token punctuation">.</span>pathSegments<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">2</span> <span class="token operator">&amp;&amp;</span>
      uri<span class="token punctuation">.</span>pathSegments<span class="token punctuation">.</span>first <span class="token operator">==</span> <span class="token string-literal"><span class="token string">'detail'</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> id <span class="token operator">=</span> uri<span class="token punctuation">.</span>pathSegments<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token class-name">MaterialPageRoute</span><span class="token punctuation">(</span>builder<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token class-name">DetailScreen</span><span class="token punctuation">(</span>id<span class="token punctuation">:</span> id<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul> <p>å®Œæ•´ä»£ç ï¼š</p> <div class="language-dart extra-class"><pre class="language-dart"><code><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter/material.dart'</span></span><span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">runApp</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token class-name">Nav2App</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Nav2App</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token class-name">Nav2App</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">Key</span><span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token metadata function">@override</span>
  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// å‘½åå¼è·¯ç”±</span>
    <span class="token keyword">return</span> <span class="token class-name">MaterialApp</span><span class="token punctuation">(</span>
      <span class="token comment">// home: HomeScreen(),</span>
      <span class="token comment">// é™æ€çš„è·¯ç”±è¡¨</span>
      <span class="token comment">// routes: {</span>
      <span class="token comment">//   '/': (context) =&gt; HomeScreen(),</span>
      <span class="token comment">//   '/detail': (context) =&gt; DetailScreen(),</span>
      <span class="token comment">// },</span>
      onGenerateRoute<span class="token punctuation">:</span> <span class="token punctuation">(</span>settings<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>settings<span class="token punctuation">.</span>name <span class="token operator">==</span> <span class="token string-literal"><span class="token string">'/'</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token class-name">MaterialPageRoute</span><span class="token punctuation">(</span>builder<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token class-name">HomeScreen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// /detail/:id</span>
        <span class="token keyword">var</span> uri <span class="token operator">=</span> <span class="token class-name">Uri</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>settings<span class="token punctuation">.</span>name<span class="token operator">!</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>uri<span class="token punctuation">.</span>pathSegments<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">2</span> <span class="token operator">&amp;&amp;</span>
            uri<span class="token punctuation">.</span>pathSegments<span class="token punctuation">.</span>first <span class="token operator">==</span> <span class="token string-literal"><span class="token string">'detail'</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">var</span> id <span class="token operator">=</span> uri<span class="token punctuation">.</span>pathSegments<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
          <span class="token keyword">return</span> <span class="token class-name">MaterialPageRoute</span><span class="token punctuation">(</span>builder<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token class-name">DetailScreen</span><span class="token punctuation">(</span>id<span class="token punctuation">:</span> id<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">HomeScreen</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token class-name">HomeScreen</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">Key</span><span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token metadata function">@override</span>
  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">Scaffold</span><span class="token punctuation">(</span>
      appBar<span class="token punctuation">:</span> <span class="token class-name">AppBar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      body<span class="token punctuation">:</span> <span class="token class-name">Center</span><span class="token punctuation">(</span>
        child<span class="token punctuation">:</span> <span class="token class-name">TextButton</span><span class="token punctuation">(</span>
          child<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'æŸ¥çœ‹å­é¡µé¢'</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// /detail/:id</span>
            <span class="token class-name">Navigator</span><span class="token punctuation">.</span><span class="token function">pushNamed</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">'/detail/1'</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// Navigator.push(</span>
            <span class="token comment">//   context,</span>
            <span class="token comment">//   MaterialPageRoute(builder: (context) {</span>
            <span class="token comment">//     return const DetailScreen();</span>
            <span class="token comment">//   }),</span>
            <span class="token comment">// );</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">DetailScreen</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>
  <span class="token keyword">final</span> <span class="token class-name">String</span> id<span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token class-name">DetailScreen</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">Key</span><span class="token operator">?</span> key<span class="token punctuation">,</span> required <span class="token keyword">this</span><span class="token punctuation">.</span>id<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token metadata function">@override</span>
  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">Scaffold</span><span class="token punctuation">(</span>
      appBar<span class="token punctuation">:</span> <span class="token class-name">AppBar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      body<span class="token punctuation">:</span> <span class="token class-name">Center</span><span class="token punctuation">(</span>
        child<span class="token punctuation">:</span> <span class="token class-name">TextButton</span><span class="token punctuation">(</span>
          child<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'å¼¹å‡º</span><span class="token interpolation"><span class="token punctuation">$</span><span class="token expression">id</span></span><span class="token string">'</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">Navigator</span><span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="å­¦ä¹ å»ºè®®"><a href="#å­¦ä¹ å»ºè®®" class="header-anchor">#</a> å­¦ä¹ å»ºè®®</h3> <ul><li>å¦‚æœä¸éœ€è¦Flutterå»å…¼å®¹webç«¯ï¼Œç›´æ¥ä½¿ç”¨navigator1.0å³å¯ï¼›</li> <li>å¦‚æœéœ€è¦å…¼å®¹webç«¯ï¼Œé‚£ä¹ˆè¯·ä½¿ç”¨ç¬¬ä¸‰æ–¹è·¯ç”±æ–¹æ¡ˆï¼Œæ•ˆç‡æ›´é«˜ï¼›</li></ul> <h2 id="é˜²æ­¢ç”¨æˆ·é€€å‡ºé¡µé¢"><a href="#é˜²æ­¢ç”¨æˆ·é€€å‡ºé¡µé¢" class="header-anchor">#</a> é˜²æ­¢ç”¨æˆ·é€€å‡ºé¡µé¢</h2> <p>ä½¿ç”¨WillPopScopeç»„ä»¶æ¥é˜»æ­¢ç”¨æˆ·é€€å‡ºæˆ–è€…æ˜¯å³æ»‘å·¦è¾¹æ¡†çš„æ“ä½œï¼š</p> <div class="language-dart extra-class"><pre class="language-dart"><code><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:auto_route/auto_route.dart'</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter/material.dart'</span></span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">TestParam</span> <span class="token punctuation">{</span>
  <span class="token keyword">final</span> int id<span class="token punctuation">;</span>
  <span class="token keyword">final</span> <span class="token class-name">String</span> username<span class="token punctuation">;</span>

  <span class="token class-name">TestParam</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>id<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">HomeView</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>
  <span class="token keyword">final</span> int<span class="token operator">?</span> id<span class="token punctuation">;</span>
  <span class="token keyword">final</span> <span class="token class-name">String</span><span class="token operator">?</span> username<span class="token punctuation">;</span>
  <span class="token keyword">final</span> <span class="token class-name">TestParam</span><span class="token operator">?</span> testParam<span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token class-name">HomeView</span><span class="token punctuation">(</span>
      <span class="token punctuation">{</span><span class="token class-name">Key</span><span class="token operator">?</span> key<span class="token punctuation">,</span>
      <span class="token metadata function">@PathParam</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'id'</span></span><span class="token punctuation">)</span> <span class="token keyword">this</span><span class="token punctuation">.</span>id<span class="token punctuation">,</span>
      <span class="token metadata function">@QueryParam</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'username'</span></span><span class="token punctuation">)</span> <span class="token keyword">this</span><span class="token punctuation">.</span>username<span class="token punctuation">,</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>testParam<span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token metadata function">@override</span>
  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// é˜²æ­¢ç”¨æˆ·å³æ»‘å·¦è¾¹æ¡†çš„æ“ä½œï¼š</span>
    <span class="token keyword">return</span> <span class="token class-name">WillPopScope</span><span class="token punctuation">(</span>
      onWillPop<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      child<span class="token punctuation">:</span> <span class="token class-name">Scaffold</span><span class="token punctuation">(</span>
        body<span class="token punctuation">:</span> <span class="token class-name">Container</span><span class="token punctuation">(</span>
          margin<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">only</span><span class="token punctuation">(</span>top<span class="token punctuation">:</span> <span class="token number">110.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          child<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'HomeView</span><span class="token interpolation"><span class="token punctuation">$</span><span class="token expression">id</span></span><span class="token string"> - </span><span class="token interpolation"><span class="token punctuation">$</span><span class="token expression">username</span></span><span class="token string">'</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <!----> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      â†
      <a href="/notes-page/project/community-flutter/16-æ•°æ®æŒä¹…åŒ–-sqflite.html" class="prev">
        æ•°æ®æŒä¹…åŒ–-Sqflite
      </a></span> <span class="next"><a href="/notes-page/project/community-flutter/18-é›†æˆæ–¹æ¡ˆ&amp;æ¶ˆæ¯&amp;é€‚é….html">
        é›†æˆæ–¹æ¡ˆ&amp;æ¶ˆæ¯&amp;é€‚é…
      </a>
      â†’
    </span></p></div>  <div class="el-dialog__wrapper" style="display:none;"><div role="dialog" aria-modal="true" aria-label="dialog" class="el-dialog" style="margin-top:15vh;width:420px;"><div class="el-dialog__header"><span class="el-dialog__title"></span><button type="button" aria-label="Close" class="el-dialog__headerbtn"><i class="el-dialog__close el-icon el-icon-close"></i></button></div><!----><div class="el-dialog__footer"><span class="dialog-footer"><button type="button" class="el-button el-button--default"><!----><!----><span>å– æ¶ˆ</span></button> <button type="button" class="el-button el-button--primary"><!----><!----><span>ç¡® å®š</span></button></span></div></div></div></main> <!----></div><div class="global-ui"><!----><div tabindex="-1" role="dialog" aria-hidden="true" class="pswp"><div class="pswp__bg"></div> <div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div> <div class="pswp__item"></div> <div class="pswp__item"></div></div> <div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div> <button class="pswp__button pswp__button--close"></button> <button class="pswp__button pswp__button--share"></button> <button class="pswp__button pswp__button--fs"></button> <button class="pswp__button pswp__button--zoom"></button> <div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div> <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div> <button class="pswp__button pswp__button--arrow--left"></button> <button class="pswp__button pswp__button--arrow--right"></button> <div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div></div></div>
    <script src="/notes-page/assets/js/app.368e863f.js" defer></script><script src="/notes-page/assets/js/8.917fc4fb.js" defer></script><script src="/notes-page/assets/js/180.ea551132.js" defer></script>
  </body>
</html>
